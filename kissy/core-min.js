/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 15 17:48
*/
KISSY.add("ua/base",function(){var d=navigator.userAgent,a="",i="",j,l=[6,9],b=document.createElement("div"),k,e={},c=function(f){var o=0;return parseFloat(f.replace(/\./g,function(){return o++===0?".":""}))};b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}","");k=b.getElementsByTagName("s");if(k.length>0){i="ie";e[a="trident"]=0.1;if((j=d.match(/Trident\/([\d.]*)/))&&j[1])e[a]=c(j[1]);d=l[0];for(l=l[1];d<=l;d++){b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
d);if(k.length>0){e[i]=d;break}}}else if((j=d.match(/AppleWebKit\/([\d.]*)/))&&j[1]){e[a="webkit"]=c(j[1]);if((j=d.match(/Chrome\/([\d.]*)/))&&j[1])e[i="chrome"]=c(j[1]);else if((j=d.match(/\/([\d.]*) Safari/))&&j[1])e[i="safari"]=c(j[1]);if(/ Mobile\//.test(d))e.mobile="apple";else if(j=d.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=j[0].toLowerCase()}else if((j=d.match(/Presto\/([\d.]*)/))&&j[1]){e[a="presto"]=c(j[1]);if((j=d.match(/Opera\/([\d.]*)/))&&j[1]){e[i="opera"]=c(j[1]);
if((j=d.match(/Opera\/.* Version\/([\d.]*)/))&&j[1])e[i]=c(j[1]);if((j=d.match(/Opera Mini[^;]*/))&&j)e.mobile=j[0].toLowerCase();else if((j=d.match(/Opera Mobi[^;]*/))&&j)e.mobile=j[0]}}else if((j=d.match(/MSIE\s([^;]*)/))&&j[1]){e[a="trident"]=0.1;e[i="ie"]=c(j[1]);if((j=d.match(/Trident\/([\d.]*)/))&&j[1])e[a]=c(j[1])}else if(j=d.match(/Gecko/)){e[a="gecko"]=0.1;if((j=d.match(/rv:([\d.]*)/))&&j[1])e[a]=c(j[1]);if((j=d.match(/Firefox\/([\d.]*)/))&&j[1])e[i="firefox"]=c(j[1])}e.core=a;e.shell=i;
e._numberify=c;return e});KISSY.add("ua/extra",function(d,a){var i=navigator.userAgent,j,l,b={},k=a._numberify;if(i.match(/360SE/))b[l="se360"]=3;else if(i.match(/Maxthon/)&&(j=window.external)){l="maxthon";try{b[l]=k(j.max_version)}catch(e){b[l]=0.1}}else if(j=i.match(/TencentTraveler\s([\d.]*)/))b[l="tt"]=j[1]?k(j[1]):0.1;else if(i.match(/TheWorld/))b[l="theworld"]=3;else if(j=i.match(/SE\s([\d.]*)/))b[l="sougou"]=j[1]?k(j[1]):0.1;l&&(b.shell=l);d.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(d,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(d,a,i){function j(k,e){return k&&k.nodeType===e}var l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},b={_isCustomDomain:function(k){k=k||window;var e=k.document.domain;k=k.location.hostname;return e!=k&&e!="["+k+"]"},_genEmptyIframeSrc:function(k){k=k||window;if(a.ie&&b._isCustomDomain(k))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+k.document.domain+"';document.close();")+"}())"},_NODE_TYPE:l,_isElementNode:function(k){return j(k,b.ELEMENT_NODE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:j(k,b.DOCUMENT_NODE)?k.defaultView||k.parentWindow:k===i||k===null?window:false},_nodeTypeIs:j,_isNodeList:function(k){return k&&!k.nodeType&&k.item&&!k.setTimeout},_nodeName:function(k,e){return k&&k.nodeName.toLowerCase()===e.toLowerCase()}};d.mix(b,l);return b},{requires:["ua"]});
KISSY.add("dom/attr",function(d,a,i,j){function l(v,r){r=F[r]||r;var u=z[r];return u&&u.get?u.get(v,r):v[r]}i=document.documentElement;var b=!i.hasAttribute,k=i.textContent===j?"innerText":"textContent",e=a._nodeName,c=a._isElementNode,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,o=/^(?:button|input|object|select|textarea)$/i,p=/^a(?:rea)?$/i,m=/:|^on/,g=/\r/g,n={},x={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},D={tabindex:{get:function(v){var r=v.getAttributeNode("tabindex");return r&&r.specified?parseInt(r.value,10):o.test(v.nodeName)||p.test(v.nodeName)&&v.href?0:j}},style:{get:function(v){return v.style.cssText},set:function(v,r){v.style.cssText=r}}},F={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},E={get:function(v,r){return a.prop(v,r)?r.toLowerCase():j},set:function(v,r,u){if(r===false)a.removeAttr(v,u);else{r=F[u]||u;if(r in v)v[r]=true;v.setAttribute(u,u.toLowerCase())}return u}},z={},y={},B={option:{get:function(v){var r=v.attributes.value;return!r||r.specified?v.value:v.text}},select:{get:function(v){var r=v.selectedIndex,u=v.options;v=v.type==="select-one";if(r<0)return null;else if(v)return a.val(u[r]);r=[];v=0;for(var s=u.length;v<s;++v)u[v].selected&&
r.push(a.val(u[v]));return r},set:function(v,r){var u=d.makeArray(r);d.each(v.options,function(s){s.selected=d.inArray(a.val(s),u)});if(!u.length)v.selectedIndex=-1;return u}}};if(b){y={get:function(v,r){var u;return(u=v.getAttributeNode(r))&&u.nodeValue!==""?u.nodeValue:j},set:function(v,r,u){var s=v.getAttributeNode(u);if(s)s.nodeValue=r;else try{var q=v.ownerDocument.createAttribute(u);q.value=r;v.setAttributeNode(q)}catch(w){return v.setAttribute(u,r,0)}}};n=F;D.tabIndex=D.tabindex;d.each(["href",
"src","width","height","colSpan","rowSpan"],function(v){D[v]={get:function(r){r=r.getAttribute(v,2);return r===null?j:r}}});B.button=D.value=y}d.each(["radio","checkbox"],function(v){B[v]={get:function(r){return r.getAttribute("value")===null?"on":r.value},set:function(r,u){if(d.isArray(u))return r.checked=d.inArray(a.val(r),u)}}});d.mix(a,{prop:function(v,r,u){if(d.isPlainObject(r))for(var s in r)a.prop(v,s,r[s]);else{v=a.query(v);r=F[r]||r;var q=z[r];if(u!==j)v.each(function(w){if(q&&q.set)q.set(w,
u,r);else w[r]=u});else if(v.length)return l(v[0],r)}},hasProp:function(v,r){for(var u=a.query(v),s=0;s<u.length;s++)if(l(u[s],r)!==j)return true;return false},removeProp:function(v,r){r=F[r]||r;a.query(v).each(function(u){try{u[r]=j;delete u[r]}catch(s){d.log("delete el property error : ");d.log(s)}})},attr:function(v,r,u,s){if(d.isPlainObject(r)){s=u;for(var q in r)a.attr(v,q,r[q],s)}else if(r=d.trim(r)){if(s&&x[r])return a[r](v,u);r=r.toLowerCase();if(s&&x[r])return a[r](v,u);v=a.query(v);if(u===
j)return a.__attr(v[0],r);else v.each(function(w){a.__attr(w,r,u)})}},__attr:function(v,r,u){if(c(v)){r=n[r]||r;var s;s=e(v,"form")?y:f.test(r)?E:m.test(r)?y:D[r];if(u===j){if(s&&s.get)return s.get(v,r);v=v.getAttribute(r);return v===null?j:v}else s&&s.set?s.set(v,u,r):v.setAttribute(r,""+u)}},removeAttr:function(v,r){r=r.toLowerCase();r=n[r]||r;a.query(v).each(function(u){if(c(u)){var s;u.removeAttribute(r);if(f.test(r)&&(s=F[r]||r)in u)u[s]=false}})},hasAttr:b?function(v,r){r=r.toLowerCase();for(var u=
a.query(v),s=0;s<u.length;s++){var q=u[s].getAttributeNode(r);if(q&&q.specified)return true}return false}:function(v,r){for(var u=a.query(v),s=0;s<u.length;s++)if(u[s].hasAttribute(r))return true;return false},val:function(v,r){var u,s;if(r===j){var q=a.get(v);if(q){if((u=B[q.nodeName.toLowerCase()]||B[q.type])&&"get"in u&&(s=u.get(q,"value"))!==j)return s;s=q.value;return typeof s==="string"?s.replace(g,""):d.isNullOrUndefined(s)?"":s}}else a.query(v).each(function(w){if(w.nodeType===1){var h=r;
if(d.isNullOrUndefined(h))h="";else if(typeof h==="number")h+="";else if(d.isArray(h))h=d.map(h,function(t){return d.isNullOrUndefined(h)?"":t+""});u=B[w.nodeName.toLowerCase()]||B[w.type];if(!u||!("set"in u)||u.set(w,h,"value")===j)w.value=h}})},text:function(v,r){if(r===j){var u=a.get(v);if(c(u))return u[k]||"";else if(a._nodeTypeIs(u,a.TEXT_NODE))return u.nodeValue;return j}else a.query(v).each(function(s){if(c(s))s[k]=r;else if(a._nodeTypeIs(s,a.TEXT_NODE))s.nodeValue=r})}});return a},{requires:["./base",
"ua"]});
KISSY.add("dom/class",function(d,a,i){function j(c){return(b+c+b).replace(e,b)}function l(c,f,o,p){if(!(f=d.trim(f)))return p?false:i;c=a.query(c);var m=c.length,g=f.split(k);f=[];for(var n=0;n<g.length;n++){var x=d.trim(g[n]);x&&f.push(x)}for(n=0;n<m;n++){g=c[n];if(a._isElementNode(g)){g=o(g,f,f.length);if(g!==i)return g}}if(p)return false;return i}var b=" ",k=/[\.\s]\s*\.?/,e=/[\n\t]/g;d.mix(a,{__hasClass:function(c,f){var o=c.className;if(o){o=j(o);return o.indexOf(b+f+b)>-1}else return false},hasClass:function(c,
f){return l(c,f,function(o,p,m){if(o=o.className){o=j(o);for(var g=0,n=true;g<m;g++)if(o.indexOf(b+p[g]+b)<0){n=false;break}if(n)return true}},true)},addClass:function(c,f){l(c,f,function(o,p,m){var g=o.className;if(g){var n=j(g);g=g;for(var x=0;x<m;x++)if(n.indexOf(b+p[x]+b)<0)g+=b+p[x];o.className=d.trim(g)}else o.className=f},i)},removeClass:function(c,f){l(c,f,function(o,p,m){var g=o.className;if(g)if(m){g=j(g);for(var n=0,x;n<m;n++)for(x=b+p[n]+b;g.indexOf(x)>=0;)g=g.replace(x,b);o.className=
d.trim(g)}else o.className=""},i)},replaceClass:function(c,f,o){a.removeClass(c,f);a.addClass(c,o)},toggleClass:function(c,f,o){var p=d.isBoolean(o),m;l(c,f,function(g,n,x){for(var D=0,F;D<x;D++){F=n[D];m=p?!o:a.hasClass(g,F);a[m?"removeClass":"addClass"](g,F)}},i)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(d,a,i,j){function l(s){var q=d.require("event");q&&q.detach(s);a.removeData(s)}function b(s,q,w){if(o(q,a.DOCUMENT_FRAGMENT_NODE)){q=q.childNodes;w=w.childNodes;for(var h=0;q[h];){w[h]&&b(s,q[h],w[h]);h++}}else if(p(q)){q=q.getElementsByTagName("*");w=w.getElementsByTagName("*");for(h=0;q[h];){w[h]&&s(q[h],w[h]);h++}}}function k(s,q){var w=d.require("event");if(!(p(q)&&!a.hasData(s))){var h=a.data(s),t;for(t in h)a.data(q,t,h[t]);if(w){w._removeData(q);w._clone(s,q)}}}
function e(s,q){q.clearAttributes&&q.clearAttributes();q.mergeAttributes&&q.mergeAttributes(s);var w=q.nodeName.toLowerCase(),h=s.childNodes;if(w==="object"&&!q.childNodes.length)for(w=0;w<h.length;w++)q.appendChild(h[w].cloneNode(true));else if(w==="input"&&(s.type==="checkbox"||s.type==="radio")){if(s.checked)q.defaultChecked=q.checked=s.checked;if(q.value!==s.value)q.value=s.value}else if(w==="option")q.selected=s.defaultSelected;else if(w==="input"||w==="textarea")q.defaultValue=s.defaultValue;
q.removeAttribute(a.__EXPANDO)}function c(s,q){var w=null,h,t;if(s&&(s.push||s.item)&&s[0]){q=q||s[0].ownerDocument;w=q.createDocumentFragment();s=d.makeArray(s);h=0;for(t=s.length;h<t;h++)w.appendChild(s[h])}else d.log("Unable to convert "+s+" to fragment.");return w}var f=document;i=i.ie;var o=a._nodeTypeIs,p=a._isElementNode,m=d.isString,g=f.createElement("div"),n=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,x=/<([\w:]+)/,D=/^\s+/,F=i&&i<9,E=/<|&#?\w+;/,z=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
d.mix(a,{create:function(s,q,w,h){if(p(s)||o(s,a.TEXT_NODE))return a.clone(s);var t=null;if(!m(s))return t;if(h===j)h=true;if(h)s=d.trim(s);if(!s)return t;h=a._creators;var A,C;w=w||f;var G,H="div";if(E.test(s))if(G=z.exec(s))t=w.createElement(G[1]);else{s=s.replace(n,"<$1></$2>");if((G=x.exec(s))&&(A=G[1]))H=A.toLowerCase();A=(h[H]||h.div)(s,w);if(F&&(C=s.match(D)))A.insertBefore(w.createTextNode(C[0]),A.firstChild);C=A.childNodes;if(C.length===1)t=C[0].parentNode.removeChild(C[0]);else if(C.length)t=
c(C,w);else d.error(s+" : create node error")}else t=w.createTextNode(s);s=t;if(d.isPlainObject(q))if(p(s))a.attr(s,q,true);else o(s,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(s.childNodes,q,true);return s},_creators:{div:function(s,q){var w=q&&q!=f?q.createElement("div"):g;w.innerHTML="m<div>"+s+"</div>";return w.lastChild}},html:function(s,q,w,h){s=a.query(s);var t=s[0];if(t)if(q===j)return p(t)?t.innerHTML:null;else{var A=false;q+="";if(!q.match(/<(?:script|style)/i)&&(!F||!q.match(D))&&!r[(q.match(x)||
["",""])[1].toLowerCase()])try{s.each(function(G){if(p(G)){l(G.getElementsByTagName("*"));G.innerHTML=q}});A=true}catch(C){}if(!A){q=a.create(q,0,t.ownerDocument,false);s.each(function(G){if(p(G)){a.empty(G);a.append(q,G,w)}})}h&&h()}},remove:function(s,q){a.query(s).each(function(w){if(!q&&p(w)){var h=w.getElementsByTagName("*");l(h);l(w)}w.parentNode&&w.parentNode.removeChild(w)})},clone:function(s,q,w,h){s=a.get(s);if(!s)return null;var t=s.cloneNode(q);if(p(s)||o(s,a.DOCUMENT_FRAGMENT_NODE)){p(s)&&
e(s,t);q&&b(e,s,t)}if(w){k(s,t);q&&h&&b(k,s,t)}return t},empty:function(s){a.query(s).each(function(q){a.remove(q.childNodes)})},_nl2frag:c});var y=a._creators,B=a.create,v=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},u;for(u in r)(function(s){y[u]=function(q,w){return B("<"+s+">"+q+"</"+s+">",null,w)}})(r[u]);
if(i<8)y.tbody=function(s,q){var w=B("<table>"+s+"</table>",null,q),h=w.children.tags("tbody")[0];w.children.length>1&&h&&!v.test(s)&&h.parentNode.removeChild(h);return w};d.mix(y,{thead:y.tbody,tfoot:y.tbody,caption:y.tbody,colgroup:y.tbody});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(d,a,i){var j=window,l="_ks_data_"+d.now(),b={},k={},e={};e.applet=1;e.object=1;e.embed=1;var c={hasData:function(p,m){if(p)if(m!==i){if(m in p)return true}else if(!d.isEmptyObject(p))return true;return false}},f={hasData:function(p,m){if(p==j)return f.hasData(k,m);return c.hasData(p[l],m)},data:function(p,m,g){if(p==j)return f.data(k,m,g);var n=p[l];if(g!==i){n=p[l]=p[l]||{};n[m]=g}else if(m!==i)return n&&n[m];else return n=p[l]=p[l]||{}},removeData:function(p,m){if(p==
j)return f.removeData(k,m);var g=p[l];if(g)if(m!==i){delete g[m];d.isEmptyObject(g)&&f.removeData(p,i)}else try{delete p[l]}catch(n){p[l]=null}}},o={hasData:function(p,m){var g=p[l];if(!g)return false;return c.hasData(b[g],m)},data:function(p,m,g){if(!e[p.nodeName.toLowerCase()]){var n=p[l];n||(n=p[l]=d.guid());p=b[n];if(g!==i){p=b[n]=b[n]||{};p[m]=g}else if(m!==i)return p&&p[m];else return p=b[n]=b[n]||{}}},removeData:function(p,m){var g=p[l];if(g){var n=b[g];if(n)if(m!==i){delete n[m];d.isEmptyObject(n)&&
o.removeData(p,i)}else{delete b[g];try{delete p[l]}catch(x){}p.removeAttribute&&p.removeAttribute(l)}}}};d.mix(a,{__EXPANDO:l,hasData:function(p,m){for(var g=false,n=a.query(p),x=0;x<n.length;x++)if(g=(g=n[x])&&g.nodeType?o.hasData(g,m):f.hasData(g,m))break;return g},data:function(p,m,g){if(d.isPlainObject(m))for(var n in m)a.data(p,n,m[n]);else if(g===i)if((p=a.get(p))&&p.nodeType)return o.data(p,m,g);else{if(p)return f.data(p,m,g)}else a.query(p).each(function(x){x&&x.nodeType?o.data(x,m,g):f.data(x,
m,g)})},removeData:function(p,m){a.query(p).each(function(g){g&&g.nodeType?o.removeData(g,m):f.removeData(g,m)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(d,a,i){function j(n){for(var x=0;x<n.length;x++){var D=n[x];if(D.nodeType==i.DOCUMENT_FRAGMENT_NODE)j(D.childNodes);else if(c(D,"input")){if(D.type==="checkbox"||D.type==="radio")D.defaultChecked=D.checked}else if(o(D)){D=D.getElementsByTagName("input");for(var F=0;F<D.length;F++)j(D[F])}}}function l(n,x){for(var D=[],F=0;n[F];F++){var E=n[F],z=E.nodeName.toLowerCase();if(E.nodeType==i.DOCUMENT_FRAGMENT_NODE)D.push.apply(D,l(f(E.childNodes),x));else if(z==="script"&&
(!E.type||p.test(E.type))){if(x)x.push(E.parentNode?E.parentNode.removeChild(E):E)}else{if(o(E)&&!e.test(z)){z=[];for(var y=E.getElementsByTagName("script"),B=0;B<y.length;B++)(!y[B].type||p.test(y[B].type))&&z.push(y[B]);n.splice.apply(n,[F+1,0].concat(z))}D.push(E)}}return D}function b(n){if(n.src)d.getScript(n.src);else(n=d.trim(n.text||n.textContent||n.innerHTML||""))&&d.globalEval(n)}function k(n,x,D,F){n=i.query(n);if(F)F=[];n=l(n,F);a.ie<8&&j(n);x=i.query(x);var E=n.length,z=x.length;if(!(!E&&
(!F||!F.length)||!z)){n=i._nl2frag(n);var y;if(z>1)y=i.clone(n,true);for(var B=0;B<z;B++){var v=x[B];if(E){var r=B>0?i.clone(y,true):n;D(r,v)}F&&d.each(F,b)}}}var e=/^(?:button|input|object|select|textarea)$/i,c=i._nodeName,f=d.makeArray,o=i._isElementNode,p=/\/(java|ecma)script/i;d.mix(i,{insertBefore:function(n,x,D){k(n,x,function(F,E){E.parentNode&&E.parentNode.insertBefore(F,E)},D)},insertAfter:function(n,x,D){k(n,x,function(F,E){E.parentNode&&E.parentNode.insertBefore(F,E.nextSibling)},D)},appendTo:function(n,
x,D){k(n,x,function(F,E){E.appendChild(F)},D)},prependTo:function(n,x,D){k(n,x,function(F,E){E.insertBefore(F,E.firstChild)},D)}});var m={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},g;for(g in m)i[g]=i[m[g]];return i},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(d,a,i,j){function l(r){var u,s=0;u=0;var q=e.body,w=m(r[D]);if(r[v]){u=r[v]();s=u[F];u=u[E];r=c&&e.documentMode!=9&&(g?f.clientTop:q.clientTop)||0;s-=c&&e.documentMode!=9&&(g?f.clientLeft:q.clientLeft)||0;u-=r;if(i.mobile=="apple"){s-=a[y](w);u-=a[B](w)}}return{left:s,top:u}}function b(r,u){var s={left:0,top:0},q=m(r[D]),w=r;u=u||q;do{var h;if(q==u){var t=w;h=l(t);t=m(t[D]);h.left+=a[y](t);h.top+=a[B](t);h=h}else h=l(w);h=h;s.left+=h.left;s.top+=h.top}while(q&&q!=u&&
(w=q.frameElement)&&(q=q.parent));return s}var k=window,e=document,c=i.ie,f=e.documentElement,o=a._isElementNode,p=a._nodeTypeIs,m=a._getWin,g=e.compatMode==="CSS1Compat",n=Math.max,x=parseInt,D="ownerDocument",F="left",E="top",z=d.isNumber,y="scrollLeft",B="scrollTop",v="getBoundingClientRect";d.mix(a,{offset:function(r,u,s){if(u===j){r=a.get(r);var q;if(r)q=b(r,s);return q}a.query(r).each(function(w){if(a.css(w,"position")==="static")w.style.position="relative";var h=b(w),t={},A,C;for(C in u){A=
x(a.css(w,C),10)||0;t[C]=A+u[C]-h[C]}a.css(w,t)})},scrollIntoView:function(r,u,s,q,w){if(r=a.get(r)){if(u)u=a.get(u);if(!u)u=r.ownerDocument;if(w!==true){q=q===j?true:!!q;s=s===j?true:!!s}if(p(u,a.DOCUMENT_NODE))u=m(u);var h=!!m(u);w=a.offset(r);var t=a.outerHeight(r);r=a.outerWidth(r);var A,C,G,H;if(h){h=u;C=a.height(h);A=a.width(h);H={left:a.scrollLeft(h),top:a.scrollTop(h)};h={left:w[F]-H[F],top:w[E]-H[E]};w={left:w[F]+r-(H[F]+A),top:w[E]+t-(H[E]+C)};H=H}else{A=a.offset(u);C=u.clientHeight;G=u.clientWidth;
H={left:a.scrollLeft(u),top:a.scrollTop(u)};h={left:w[F]-A[F]-(x(a.css(u,"borderLeftWidth"))||0),top:w[E]-A[E]-(x(a.css(u,"borderTopWidth"))||0)};w={left:w[F]+r-(A[F]+G+(x(a.css(u,"borderRightWidth"))||0)),top:w[E]+t-(A[E]+C+(x(a.css(u,"borderBottomWidth"))||0))}}if(h.top<0||w.top>0)if(s===true)a.scrollTop(u,H.top+h.top);else if(s===false)a.scrollTop(u,H.top+w.top);else h.top<0?a.scrollTop(u,H.top+h.top):a.scrollTop(u,H.top+w.top);if(q)if(h.left<0||w.left>0)if(s===true)a.scrollLeft(u,H.left+h.left);
else if(s===false)a.scrollLeft(u,H.left+w.left);else h.left<0?a.scrollLeft(u,H.left+h.left):a.scrollLeft(u,H.left+w.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});d.each(["Left","Top"],function(r,u){var s="scroll"+r;a[s]=function(q,w){if(z(q))return arguments.callee(k,q);q=a.get(q);var h,t=m(q);if(t)if(w!==j){w=parseFloat(w);var A=r=="Left"?w:a.scrollLeft(t),C=r=="Top"?w:a.scrollTop(t);t.scrollTo(A,C)}else{h=t["page"+(u?"Y":"X")+"Offset"];if(!z(h)){t=t.document;h=t.documentElement[s];
z(h)||(h=t.body[s])}}else if(o(q))if(w!==j)q[s]=parseFloat(w);else h=q[s];return h}});d.each(["Width","Height"],function(r){a["doc"+r]=function(u){u=a.get(u);u=m(u).document;return n(u.documentElement["scroll"+r],u.body["scroll"+r],a["viewport"+r](u))};a["viewport"+r]=function(u){u=a.get(u);var s="client"+r;u=m(u).document;var q=u.body,w=u.documentElement[s];return u.compatMode==="CSS1Compat"&&w||q&&q[s]||w}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(d,a,i,j){function l(h){return h.replace(F,E)}function b(h,t,A){var C={},G;for(G in t){C[G]=h[p][G];h[p][G]=t[G]}A.call(h);for(G in t)h[p][G]=C[G]}function k(h,t,A){var C;if(h.nodeType===3||h.nodeType===8||!(C=h[p]))return j;t=l(t);var G,H=v[t];t=r[t]||t;if(A!==j){if(A===null||A===y)A=y;else if(!isNaN(Number(A))&&!D[t])A+=B;if(H&&H.set)A=H.set(h,A);if(A!==j)try{h[p][t]=A}catch(I){d.log("css set error :"+I)}return j}else{if(!(H&&"get"in H&&(G=H.get(h,false))!==j))G=C[t];
return G===j?"":G}}function e(h,t,A){if(d.isWindow(h))return t==m?a.viewportWidth(h):a.viewportHeight(h);else if(h.nodeType==9)return t==m?a.docWidth(h):a.docHeight(h);var C=t===m?["Left","Right"]:["Top","Bottom"],G=t===m?h.offsetWidth:h.offsetHeight;if(G>0){A!=="border"&&d.each(C,function(H){A||(G-=parseFloat(a.css(h,"padding"+H))||0);if(A==="margin")G+=parseFloat(a.css(h,A+H))||0;else G-=parseFloat(a.css(h,"border"+H+"Width"))||0});return G}G=a._getComputedStyle(h,t);if(G<0||d.isNullOrUndefined(G))G=
h.style[t]||0;G=parseFloat(G)||0;A&&d.each(C,function(H){G+=parseFloat(a.css(h,"padding"+H))||0;if(A!=="padding")G+=parseFloat(a.css(h,"border"+H+"Width"))||0;if(A==="margin")G+=parseFloat(a.css(h,A+H))||0});return G}var c=document,f=c.documentElement,o=i.ie,p="style",m="width",g="display"+d.now(),n=parseInt,x=/^-?\d+(?:px)?$/i,D={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},F=/-([a-z])/ig,E=function(h,t){return t.toUpperCase()},z=/([A-Z]|^ms)/g,y="",B="px",
v={},r={},u={};if(f[p].cssFloat!==j)r["float"]="cssFloat";else if(f[p].styleFloat!==j)r["float"]="styleFloat";var s,q;d.mix(a,{_camelCase:l,_cssNumber:D,_CUSTOM_STYLES:v,_cssProps:r,_getComputedStyle:function(h,t){var A="",C={},G=h.ownerDocument;t=t.replace(z,"-$1").toLowerCase();if(C=G.defaultView.getComputedStyle(h,null))A=C.getPropertyValue(t)||C[t];if(A==""&&!a.__contains(G.documentElement,h)){t=r[t]||t;A=h[p][t]}return A},style:function(h,t,A){if(d.isPlainObject(t))for(var C in t)a.style(h,C,
t[C]);else if(A===j){h=a.get(h);C="";if(h)C=k(h,t,A);return C}else a.query(h).each(function(G){k(G,t,A)})},css:function(h,t,A){if(d.isPlainObject(t))for(var C in t)a.css(h,C,t[C]);else{t=l(t);C=v[t];if(A===j){h=a.get(h);A="";if(h)if(!(C&&"get"in C&&(A=C.get(h,true))!==j))A=a._getComputedStyle(h,t);return A===j?"":A}else a.style(h,t,A)}},show:function(h){a.query(h).each(function(t){t[p].display=a.data(t,g)||y;if(a.css(t,"display")==="none"){var A;a:{A=t.tagName.toLowerCase();var C,G;if(!u[A]){C=c.body||
c.documentElement;G=c.createElement(A);a.prepend(G,C);var H=a.css(G,"display");C.removeChild(G);if(H==="none"||H===""){if(s)a.prepend(s,C);else{s=c.createElement("iframe");s.frameBorder=s.width=s.height=0;a.prepend(s,C);if(G=a._genEmptyIframeSrc())s.src=G}if(!q||!s.createElement)try{q=s.contentWindow.document;q.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(i.ie&&a._isCustomDomain()?"<script>document.domain = '"+c.domain+"';<\/script>":"")+"</head><body>");q.close()}catch(I){A=
"block";break a}G=q.createElement(A);q.body.appendChild(G);H=a.css(G,"display");C.removeChild(s)}u[A]=H}A=u[A]}a.data(t,g,A);t[p].display=A}})},hide:function(h){a.query(h).each(function(t){var A=t[p],C=A.display;if(C!=="none"){C&&a.data(t,g,C);A.display="none"}})},toggle:function(h){a.query(h).each(function(t){a.css(t,"display")==="none"?a.show(t):a.hide(t)})},addStyleSheet:function(h,t,A){if(d.isString(h)){A=t;t=h;h=window}h=a.get(h);h=a._getWin(h).document;var C;if(A&&(A=A.replace("#",y)))C=a.get("#"+
A,h);if(!C){C=a.create("<style>",{id:A},h);a.get("head",h).appendChild(C);if(C.styleSheet)C.styleSheet.cssText=t;else C.appendChild(h.createTextNode(t))}},unselectable:function(h){a.query(h).each(function(t){if(i.gecko)t[p].MozUserSelect="none";else if(i.webkit)t[p].KhtmlUserSelect="none";else if(i.ie||i.opera){var A=0,C=t.getElementsByTagName("*");for(t.setAttribute("unselectable","on");t=C[A++];)switch(t.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:t.setAttribute("unselectable",
"on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([m,"height"],function(h){a["inner"+(h.charAt(0).toUpperCase()+h.substring(1))]=function(t){return(t=a.get(t))?e(t,h,"padding"):null};a["outer"+(h.charAt(0).toUpperCase()+h.substring(1))]=function(t,A){var C=a.get(t);return C?e(C,h,A?"margin":"border"):null};a[h]=function(t,A){var C=a.css(t,h,A);if(C)C=parseFloat(C);return C}});var w={position:"absolute",visibility:"hidden",display:"block"};d.each(["height",
"width"],function(h){v[h]={get:function(t,A){var C;if(A){if(t.offsetWidth!==0)C=e(t,h);else b(t,w,function(){C=e(t,h)});return C+"px"}},set:function(t,A){if(x.test(A)){A=parseFloat(A);if(A>=0)return A+"px"}else return A}}});d.each(["left","top"],function(h){v[h]={get:function(t,A){if(A){var C=a._getComputedStyle(t,h);if(C==="auto"){C=0;if(d.inArray(a.css(t,"position"),["absolute","fixed"])){C=t[h==="left"?"offsetLeft":"offsetTop"];if(o&&document.documentMode!=9||i.opera)C-=t.offsetParent&&t.offsetParent["client"+
(h=="left"?"Left":"Top")]||0;C=C-(n(a.css(t,"margin-"+h))||0)}C+="px"}return C}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(d,a,i){function j(q,w){var h,t,A=typeof q==="string";if(w===i)t=[p];else t=w===i?[p]:j(w,i);var C=t;if(A){q=y(q);if(C.length==1&&q)h=b(q,C[0])}if(!h){h=[];if(q){for(t=0;t<C.length;t++)F.apply(h,l(q,C[t]));if(h.length>1&&(C.length>1||A&&q.indexOf(z)>-1))u(h)}}h.each=function(G){var H,I;for(I=0;I<this.length;I++){H=this[I];if(G(H,I)===false)break}};return h}function l(q,w){var h=[];if((h=typeof q==="string")&&q.match(r)||!h)h=k(q,w);else{if(h&&q.indexOf(z)>-1){h=[];
var t,A=q.split(/\s*,\s*/);for(t=0;t<A.length;t++)F.apply(h,l(A[t],w));h=h}else{h=[];(t=d.require("sizzle"))?t(q,w,h):o(q);h=h}h=h}return h=h}function b(q,w){var h,t,A,C;if(v.test(q))h=(t=c(q.slice(1),w))?[t]:[];else if(A=r.exec(q)){t=A[1];C=A[2];A=A[3];if(w=t?c(t,w):w)if(A)if(!t||q.indexOf(E)!=-1)h=[].concat(s(A,C,w));else{if((t=c(t,w))&&a.__hasClass(t,A))h=[t]}else if(C)h=f(C,w);h=h||[]}return h}function k(q,w){var h;if(typeof q==="string")h=b(q,w)||[];else if(q&&(g(q)||x(q)))h=m(q,function(t){return e(t,
w)});else if(q&&e(q,w))h=[q];return h}function e(q,w){if(!q)return false;if(w==p)return true;return a.__contains(w,q)}function c(q,w){var h=w;if(w.nodeType!==a.DOCUMENT_NODE)h=w.ownerDocument;h=h.getElementById(q);if(!(h&&h.id===q))if(h&&h.parentNode)if(a.__attr(h,"id")!==q)h=a.filter(B,"#"+q,w)[0]||null;else e(h,w)||(h=null);else h=null;return h}function f(q,w){return w&&n(w.getElementsByTagName(q))||[]}function o(q){d.error("Unsupported selector: "+q)}var p=document,m=d.filter,g=d.isArray,n=d.makeArray,
x=a._isNodeList,D=a._nodeName,F=Array.prototype.push,E=" ",z=",",y=d.trim,B="*",v=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,u;(function(){var q,w,h=true;[0,0].sort(function(){h=false;return 0});u=function(t){if(q){w=h;t.sort(q);if(w)for(var A=1,C=t.length;A<C;)if(t[A]===t[A-1])t.splice(A,1);else A++}return t};q=p.documentElement.compareDocumentPosition?function(t,A){if(t==A){w=true;return 0}if(!t.compareDocumentPosition||!A.compareDocumentPosition)return t.compareDocumentPosition?
-1:1;return t.compareDocumentPosition(A)&4?-1:1}:function(t,A){if(t==A){w=true;return 0}else if(t.sourceIndex&&A.sourceIndex)return t.sourceIndex-A.sourceIndex}})();(function(){var q=p.createElement("div");q.appendChild(p.createComment(""));if(q.getElementsByTagName(B).length>0)f=function(w,h){var t=n(h.getElementsByTagName(w));if(w===B){for(var A=[],C=0,G;G=t[C++];)G.nodeType===1&&A.push(G);t=A}return t}})();var s=p.getElementsByClassName?function(q,w,h){if(!h)return[];q=h.getElementsByClassName(q);
var t=0,A=q.length,C;if(w&&w!==B)for(h=[];t<A;++t){C=q[t];D(C,w)&&h.push(C)}else h=n(q);return h}:p.querySelectorAll?function(q,w,h){return h&&n(h.querySelectorAll((w?w:"")+"."+q))||[]}:function(q,w,h){if(!h)return[];w=h.getElementsByTagName(w||B);h=[];for(var t=0,A=w.length,C;t<A;++t){C=w[t];a.__hasClass(C,q)&&h.push(C)}return h};d.mix(a,{query:j,get:function(q,w){return j(q,w)[0]||null},unique:u,filter:function(q,w,h){q=j(q,h);h=d.require("sizzle");var t,A,C,G,H=[];if(typeof w==="string"&&(w=y(w))&&
(t=r.exec(w))){C=t[1];A=t[2];G=t[3];if(C){if(C&&!A&&!G)w=function(I){return a.__attr(I,"id")===C}}else w=function(I){var L=true,J=true;if(A)L=D(I,A);if(G)J=a.__hasClass(I,G);return J&&L}}if(d.isFunction(w))H=d.filter(q,w);else if(w&&h)H=h.matches(w,q);else o(w);return H},test:function(q,w,h){q=j(q,h);return q.length&&a.filter(q,w,h).length===q.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(d,a,i,j){if(!i.ie)return a;var l=document,b=l.documentElement,k=j._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,c=/^-?\d/,f=/opacity=([^)]*)/,o=/alpha\([^)]*\)/i;try{if(d.isNullOrUndefined(b.style.opacity))k.opacity={get:function(g,n){return f.test((n&&g.currentStyle?g.currentStyle.filter:g.style.filter)||"")?parseFloat(RegExp.$1)/100+"":n?"1":""},set:function(g,n){n=parseFloat(n);var x=g.style,D=g.currentStyle,F=isNaN(n)?"":"alpha(opacity="+n*100+")",E=d.trim(D&&D.filter||
x.filter||"");x.zoom=1;if(n>=1&&d.trim(E.replace(o,""))===""){x.removeAttribute("filter");if(D&&!D.filter)return}x.filter=o.test(E)?E.replace(o,F):E+(E?", ":"")+F}}}catch(p){d.log("IE filters ActiveX is disabled. ex = "+p)}i=i.ie==8;var m={};m.thin=i?"1px":"2px";m.medium=i?"3px":"4px";m.thick=i?"5px":"6px";d.each(["","Top","Left","Right","Bottom"],function(g){var n="border"+g+"Width",x="border"+g+"Style";k[n]={get:function(D,F){var E=F?D.currentStyle:0,z=E&&String(E[n])||undefined;if(z&&z.indexOf("px")<
0)z=m[z]&&E[x]!=="none"?m[z]:0;return z}}});if(!(l.defaultView||{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(g,n){n=a._cssProps[n]||n;var x=g.currentStyle&&g.currentStyle[n];if(!e.test(x)&&c.test(x)){var D=g.style,F=D.left,E=g.runtimeStyle&&g.runtimeStyle.left;if(E)g.runtimeStyle.left=g.currentStyle.left;D.left=n==="fontSize"?"1em":x||0;x=D.pixelLeft+"px";D.left=F;if(E)g.runtimeStyle.left=E}return x===""?"auto":x};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(d,a,i){function j(e,c,f,o,p,m){if(!(e=a.get(e)))return null;if(c===0)return e;m||(e=e[f]);if(!e)return null;p=p&&a.get(p)||null;if(c===i)c=1;m=[];var g=d.isArray(c),n,x;if(d.isNumber(c)){n=0;x=c;c=function(){return++n===x}}for(;e&&e!=p;){if(k(e)&&l(e,c)&&(!o||o(e))){m.push(e);if(!g)break}e=e[f]}return g?m:m[0]||null}function l(e,c){if(!c)return true;if(d.isArray(c))for(var f=0;f<c.length;f++){if(a.test(e,c[f]))return true}else if(a.test(e,c))return true;return false}
function b(e,c,f){var o=[];var p=e=a.get(e);if(e&&f)p=e.parentNode;if(p){f=0;for(p=p.firstChild;p;p=p.nextSibling)if(k(p)&&p!==e&&(!c||a.test(p,c)))o[f++]=p}return o}var k=a._isElementNode;d.mix(a,{closest:function(e,c,f){return j(e,c,"parentNode",function(o){return o.nodeType!=a.DOCUMENT_FRAGMENT_NODE},f,true)},parent:function(e,c,f){return j(e,c,"parentNode",function(o){return o.nodeType!=a.DOCUMENT_FRAGMENT_NODE},f)},first:function(e,c){var f=a.get(e);return j(f&&f.firstChild,c,"nextSibling",i,
i,true)},last:function(e,c){var f=a.get(e);return j(f&&f.lastChild,c,"previousSibling",i,i,true)},next:function(e,c){return j(e,c,"nextSibling",i)},prev:function(e,c){return j(e,c,"previousSibling",i)},siblings:function(e,c){return b(e,c,true)},children:function(e,c){return b(e,c,i)},__contains:document.documentElement.contains?function(e,c){if(e.nodeType==a.TEXT_NODE)return false;var f;if(c.nodeType==a.TEXT_NODE){c=c.parentNode;f=true}else if(c.nodeType==a.DOCUMENT_NODE)return false;else f=e!==c;
return f&&(e.contains?e.contains(c):true)}:document.documentElement.compareDocumentPosition?function(e,c){return!!(e.compareDocumentPosition(c)&16)}:0,contains:function(e,c){e=a.get(e);c=a.get(c);if(e&&c)return a.__contains(e,c)},equals:function(e,c){e=a.query(e);c=a.query(c);if(e.length!=c.length)return false;for(var f=e.length;f>=0;f--)if(e[f]!=c[f])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(d,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var d={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};d.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=d.F1&&a.keyCode<=d.F12)return false;switch(a.keyCode){case d.ALT:case d.CAPS_LOCK:case d.CONTEXT_MENU:case d.CTRL:case d.DOWN:case d.END:case d.ESC:case d.HOME:case d.INSERT:case d.LEFT:case d.MAC_FF_META:case d.META:case d.NUMLOCK:case d.NUM_CENTER:case d.PAGE_DOWN:case d.PAGE_UP:case d.PAUSE:case d.PHANTOM:case d.PRINT_SCREEN:case d.RIGHT:case d.SHIFT:case d.UP:case d.WIN_KEY:case d.WIN_KEY_RIGHT:return false;
default:return true}};d.isCharacterKey=function(a){if(a>=d.ZERO&&a<=d.NINE)return true;if(a>=d.NUM_ZERO&&a<=d.NUM_MULTIPLY)return true;if(a>=d.A&&a<=d.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case d.SPACE:case d.QUESTION_MARK:case d.NUM_PLUS:case d.NUM_MINUS:case d.NUM_PERIOD:case d.NUM_DIVISION:case d.SEMICOLON:case d.DASH:case d.EQUALS:case d.COMMA:case d.PERIOD:case d.SLASH:case d.APOSTROPHE:case d.SINGLE_QUOTE:case d.OPEN_SQUARE_BRACKET:case d.BACKSLASH:case d.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return d});
KISSY.add("event/object",function(d,a){function i(b,k,e){this.currentTarget=b;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=e;this.target=b}this.currentTarget=b;this.fixed=true}var j=document,l="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");d.augment(i,
{_fix:function(){var b=this.originalEvent,k=l.length,e,c=this.currentTarget;for(c=c.nodeType===9?c:c.ownerDocument||j;k;){e=l[--k];this[e]=b[e]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=c.documentElement;k=c.body;this.pageX=this.clientX+(b&&b.scrollLeft||k&&k.scrollLeft||
0)-(b&&b.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||k&&k.scrollTop||0)-(b&&b.clientTop||k&&k.clientTop||0)}if(this.which===a)this.which=this.charCode===a?this.keyCode:this.charCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=true;this.stopPropagation()},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return i});
KISSY.add("event/base",function(d,a,i,j){function l(z,y,B){if((B=d.trim(B))&&B.indexOf(m)>0){var v=f(arguments);g(B.split(/\s+/),function(r){var u=[].concat(v);u.splice(0,3,y,r);E[z].apply(E,u)});return true}return 0}function b(z){return z&&z.nodeType!==3&&z.nodeType!==8}function k(z,y,B,v,r){var u=D[y]||{};if(!v.length&&(!u.setup||u.setup.call(z)===false))o(z,y,B);u.add&&u.add.call(z,r)}var e=document,c=a._nodeName,f=d.makeArray,o=e.addEventListener?function(z,y,B,v){z.addEventListener&&z.addEventListener(y,
B,!!v)}:function(z,y,B){z.attachEvent&&z.attachEvent("on"+y,B)},p=e.removeEventListener?function(z,y,B,v){z.removeEventListener&&z.removeEventListener(y,B,!!v)}:function(z,y,B){z.detachEvent&&z.detachEvent("on"+y,B)},m=" ",g=d.each,n="",x="trigger-none-"+d.now(),D={},F="ksEventTargetId"+d.now(),E={_clone:function(z,y){if(!(y.nodeType!==a.ELEMENT_NODE||!E._hasData(z))){var B=E._data(z).events;g(B,function(v,r){g(v,function(u){E.on(y,r,u.fn,u.scope,u.data)})})}},_hasData:function(z){return a.hasData(z,
F)},_data:function(){var z=f(arguments);z.splice(1,0,F);return a.data.apply(a,z)},_removeData:function(){var z=f(arguments);z.splice(1,0,F);return a.removeData.apply(a,z)},special:D,__add:function(z,y,B,v,r,u){var s;if(!(!y||!d.isFunction(v)||z&&!b(y))){(s=E._data(y))||E._data(y,s={});var q=s.events=s.events||{};q=q[B]=q[B]||[];v={fn:v,scope:r,data:u};var w=s.handler;if(!w){w=s.handler=function(h,t){if(!(h&&h.type==n)){var A=w.target;if(!h||!h.fixed)h=new i(A,h);var C=h.type;d.isPlainObject(t)&&d.mix(h,
t);if(C)h.type=C;return E._handle(A,h)}};w.target=y}if(z){k(y,B,w,q,v);y=null}q.push(v)}},add:function(z,y,B,v,r){if(l("add",z,y,B,v,r))return z;a.query(z).each(function(u){E.__add(true,u,y,B,v,r)});return z},__getListeners:function(z,y){return(E.__getEvents(z)||{})[y]||[]},__getEvents:function(z){return(z=E._data(z))&&z.events},__remove:function(z,y,B,v,r,u){if(!(!y||z&&!b(y))){var s=E._data(y),q=s&&s.events,w,h,t,A,C,G=z&&D[B]||{};if(q)if(B===j)for(B in q)E.remove.call(E,y,B);else{r=r||y;if(w=q[B]){h=
w.length;if(v&&h){A=t=0;for(C=[];t<h;++t){var H=false,I=w[t],L=I.scope||y;if(v!==I.fn||r!==L){C[A++]=I;H=true}else if(u!==J){var J=I.data;if(!u&&J||J&&!u){C[A++]=I;H=true}else if(u&&J)if(!u.equals||!J.equals)d.error("no equals in data");else if(!J.equals(u)){C[A++]=I;H=true}}!H&&G.remove&&G.remove.call(y,I)}q[B]=C;h=C.length}if(v===j||h===0){if(z&&(!G.tearDown||G.tearDown.call(y)===false))p(y,B,s.handler);delete q[B]}}if(d.isEmptyObject(q)){s.handler.target=null;delete s.handler;delete s.events;E._removeData(y)}}}},
remove:function(z,y,B,v,r){if(l("remove",z,y,B,v))return z;a.query(z).each(function(u){E.__remove(true,u,y,B,v,r)});return z},_handle:function(z,y){for(var B=E.__getListeners(z,y.type).slice(0),v,r,u=0,s=B.length;u<s;++u){v=B[u];v=v.fn.call(v.scope||z,y,v.data);if(v!==j){if(r!==false)r=v;v===false&&y.halt()}if(y.isImmediatePropagationStopped)break}return r},fire:function(z,y,B,v){if(!l("fire",z,y,B,v)){B=B||{};B.type=y;a.query(z).each(function(r){var u=B;if(b(r)){var s=new i(r,j,y);d.mix(s,u);s.type=
y;v&&s.halt();u=r;var q="on"+y;do{s.currentTarget=u;E._handle(u,s);u[q]&&u[q].call(u)===false&&s.preventDefault();u=u.parentNode||u.ownerDocument||u===r.ownerDocument&&window}while(u&&!s.isPropagationStopped);if(!s.isDefaultPrevented)if(!(y==="click"&&c(r,"a"))){var w;try{if(q&&r[y]){if(w=r[q])r[q]=null;n=y;r[y]()}}catch(h){d.log("trigger action error : ");d.log(h)}if(w)r[q]=w;n=x}}})}},__batchForType:l,__simpleAdd:o,__simpleRemove:p};E.on=E.add;E.detach=E.remove;return E},{requires:["dom","event/object"]});
KISSY.add("event/target",function(d,a,i){function j(f){f[k]=f[k]||{};return f[k]}function l(f){f[e]=f[e]||{};return f[e]}function b(f){return function(o,p,m){var g=this;d.each(d.trim(o).split(/\s+/),function(n){a["__"+f](false,g,n,p,m)});return g}}var k="__~ks_publish",e="__~ks_bubble_targets",c={fire:function(f,o){var p,m;if(o instanceof i){o.currentTarget=this;m=o}else{p=new i(this,undefined,f);d.isPlainObject(o)&&d.mix(p,o);p.type=f;m=p}p=a._handle(this,m);var g;if(g=!m.isPropagationStopped){g=
j(this);g=g[f]&&g[f].bubbles||g["*"]&&g["*"].bubbles}if(g){m=this.bubble(f,m);if(m===false)p=m}return p},publish:function(f,o){j(this)[f]=o},bubble:function(f,o){var p,m=l(this);d.each(m,function(g){g=g.fire(f,o);if(p!==false)p=g});return p},addTarget:function(f){l(this)[d.stamp(f)]=f},removeTarget:function(f){delete l(this)[d.stamp(f)]},on:b("add")};c.detach=b("remove");return c},{requires:["./base","./object"]});
KISSY.add("event/focusin",function(d,a,i){a.ie||d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(j){function l(k){return i.fire(k.target,j.name)}var b=0;i.special[j.name]={setup:function(){b++===0&&document.addEventListener(j.fix,l,true)},tearDown:function(){--b===0&&document.removeEventListener(j.fix,l,true)}}});return i},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(d,a,i,j){var l=document;j=l.documentMode||j.ie;if(!("onhashchange"in window)||j&&j<8){var b=window,k="<html><head><title>"+(l.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},c,f,o=function(){var x=e();if(x!==f){f=x;p(x)}c=setTimeout(o,50)},p=j&&j<8?function(x){x=d.substitute(k,{hash:x,head:i._isCustomDomain()?"<script>document.domain = '"+l.domain+"';<\/script>":""});var D=
n.contentWindow.document;try{D.open();D.write(x);D.close()}catch(F){}}:function(){a.fire(b,"hashchange")},m=function(){c||o()},g=function(){c&&clearTimeout(c);c=0},n;if(j<8){m=function(){if(!n){var x=i._genEmptyIframeSrc();n=i.create("<iframe "+(x?'src="'+x+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');i.prepend(n,l.documentElement);a.add(n,"load",function(){a.remove(n,"load");p(e());a.add(n,"load",D);o()});l.onpropertychange=function(){try{if(event.propertyName===
"title")n.contentWindow.document.title=l.title+" - "+e()}catch(F){}};var D=function(){var F=d.trim(n.contentWindow.document.body.innerText),E=e();if(F!=E){d.log("set loc hash :"+F);f=location.hash=F}a.fire(b,"hashchange")}}};g=function(){c&&clearTimeout(c);c=0;a.detach(n);i.remove(n);n=0}}a.special.hashchange={setup:function(){if(this===b){f=e();m()}},tearDown:function(){this===b&&g()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(d,a,i){function j(g){i.removeData(g,o);if(i.hasData(g,p)){var n=i.data(g,p);clearTimeout(n);i.removeData(g,p)}}function l(g){j(g.target)}function b(g){i.hasData(g,p)||i.data(g,p,setTimeout(function(){var n=g.value,x=i.data(g,o);if(n!==x){a.fire(g,c,{prevVal:x,newVal:n},true);i.data(g,o,n)}i.data(g,p,setTimeout(arguments.callee,m))},m))}function k(g){var n=g.target;g.type=="focus"&&i.data(n,o,n.value);b(n)}function e(g){j(g);a.remove(g,"blur",l);a.remove(g,"mousedown keyup keydown focus",
k)}var c="valuechange",f=i._nodeName,o="event/valuechange/history",p="event/valuechange/poll",m=50;a.special[c]={setup:function(){if(f(this,"input")||f(this,"textarea")){e(this);a.on(this,"blur",l);a.on(this,"mousedown keyup keydown focus",k)}},tearDown:function(){e(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(d,a,i){function j(c){return c.fn===undefined&&c.selector===undefined?true:c.fn===undefined?this.selector==c.selector:this.fn==c.fn&&this.selector==c.selector&&this.scope==c.scope}function l(c,f){var o=a.closest(c.target,[f.selector],this);if(o){for(var p=c.currentTarget,m=0;m<o.length;m++){c.currentTarget=o[m];f.fn.call(f.scope||this,c)===false&&c.halt();if(c.isPropagationStopped)break}c.currentTarget=p}}function b(c,f){var o,p=c.target,m=c.relatedTarget;c.type=
f.preType;if(p=a.closest(p,f.selector,this))if(p!==m&&(!m||!a.contains(p,m))){m=c.currentTarget;c.currentTarget=p;o=f.fn.call(f.scope||this,c);c.currentTarget=m}return o}var k=i.__batchForType,e={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};d.mix(i,{delegate:function(c,f,o,p,m){if(k("delegate",c,f,o,p,m))return c;a.query(c).each(function(g){var n=f,x=l;if(e[f]){f=e[n].type;x=e[n].handler||x}i.on(g,f,x,g,{fn:p,selector:o,
preType:n,scope:m,equals:j})});return c},undelegate:function(c,f,o,p,m){if(k("undelegate",c,f,o,p,m))return c;a.query(c).each(function(g){var n=f,x=l;if(e[f]){f=e[n].type;x=e[n].handler||x}i.remove(g,f,x,g,{fn:p,selector:o,preType:n,scope:m,equals:j})});return c}});return i},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(d,a,i,j){j.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(l){function b(k){var e=k.relatedTarget;k.type=l.name;try{if(!(e&&e!==document&&!e.parentNode))if(e!==this&&(!e||!i.contains(this,e)))a._handle(this,k)}catch(c){d.log("withinElement error : ","error");d.log(c,"error")}}a.special[l.name]={setup:function(){a.add(this,l.fix,b)},tearDown:function(){a.remove(this,l.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event/submit",function(d,a,i,j){d=document.documentMode;if(a.ie&&(a.ie<9||d&&d<9)){var l=j._nodeName;i.special.submit={setup:function(){if(l(this,"form"))return false;i.on(this,"click keypress",b)},tearDown:function(){if(l(this,"form"))return false;i.remove(this,"click keypress",b);j.query("form",this).each(function(e){if(e.__submit__fix){e.__submit__fix=0;i.remove(e,"submit",k)}})}};var b=function(e){e=e.target;if((e=l(e,"input")||l(e,"button")?e.form:null)&&!e.__submit__fix){e.__submit__fix=
1;i.on(e,"submit",k)}},k=function(e){this.parentNode&&i.fire(this.parentNode,"submit",e)}}},{requires:["ua","./base","dom"]});
KISSY.add("event/change",function(d,a,i,j){d=document.documentMode;if(a.ie&&(a.ie<9||d&&d<9)){var l=/^(?:textarea|input|select)$/i,b=function(o){o=o.type;return o=="checkbox"||o=="radio"};i.special.change={setup:function(){if(l.test(this.nodeName))if(b(this)){i.on(this,"propertychange",k);i.on(this,"click",e)}else return false;else i.on(this,"beforeactivate",c)},tearDown:function(){if(l.test(this.nodeName))if(b(this)){i.remove(this,"propertychange",k);i.remove(this,"click",e)}else return false;else{i.remove(this,
"beforeactivate",c);j.query("textarea,input,select",this).each(function(o){if(o.__changeHandler){o.__changeHandler=0;i.remove(o,"change",f)}})}}};var k=function(o){if(o.originalEvent.propertyName=="checked")this.__changed=1},e=function(o){if(this.__changed){this.__changed=0;i.fire(this,"change",o)}},c=function(o){o=o.target;if(l.test(o.nodeName)&&!o.__changeHandler){o.__changeHandler=1;i.on(o,"change",f)}},f=function(o){if(!b(this)){var p;if(p=this.parentNode)i.fire(p,"change",o)}}}},{requires:["ua",
"./base","dom"]});
KISSY.add("event/mousewheel",function(d,a,i){function j(b){var k=a._data(this).handler,e,c,f,o=b.detail;if(b.wheelDelta)f=b.wheelDelta/120;if(b.detail)f=-(o%3==0?o/3:o);if(b.axis!==undefined)if(b.axis===b.HORIZONTAL_AXIS){c=0;e=-1*f}else if(b.axis===b.VERTICAL_AXIS){e=0;c=f}if(b.wheelDeltaY!==undefined)c=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)e=-1*b.wheelDeltaX/120;if(!e&&!c)c=f;return k(b,{deltaY:c,delta:f,deltaX:e,type:"mousewheel"})}var l=i.gecko?"DOMMouseScroll":"mousewheel";a.special.mousewheel=
{setup:function(){var b;b=a._data(this)[b]=d.bind(j,this);a.__simpleAdd(this,l,b)},tearDown:function(){var b,k=a._data(this);b=k[b];a.__simpleRemove(this,l,b);delete k[b]}}},{requires:["./base","ua","./object"]});KISSY.add("event",function(d,a,i,j,l){i.KeyCodes=a;i.Target=j;i.Object=l;return i},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter","event/submit","event/change","event/mousewheel"]});
KISSY.add("node/base",function(d,a,i){function j(e,c,f){if(!(this instanceof j))return new j(e,c,f);if(e)if(d.isString(e)){e=a.create(e,c,f);if(e.nodeType===a.DOCUMENT_FRAGMENT_NODE){l.push.apply(this,b(e.childNodes));return i}}else if(d.isArray(e)||k(e)){l.push.apply(this,b(e));return i}else e=e;else return i;this[0]=e;this.length=1;return i}var l=Array.prototype,b=d.makeArray,k=a._isNodeList;d.augment(j,{length:0,item:function(e){return d.isNumber(e)?e>=this.length?null:new j(this[e]):new j(e)},
add:function(e,c,f){if(d.isNumber(c)){f=c;c=i}e=j.all(e,c).getDOMNodes();c=new j(this);if(f===i)l.push.apply(c,e);else{f=[f,0];f.push.apply(f,e);l.splice.apply(c,f)}return c},slice:function(e,c){return new j(l.slice.call(this,e,c))},getDOMNodes:function(){return l.slice.call(this)},each:function(e,c){var f=this;d.each(f,function(o,p){o=new j(o);return e.call(c||o,o,p,f)});return f},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(e){e=this.length>0?j.all(e,
this):new j;e.__parent=this;return e},one:function(e){e=this.all(e);if(e=e.length?e.slice(0,1):null)e.__parent=this;return e}});d.mix(j,{all:function(e,c){if(d.isString(e)&&(e=d.trim(e))&&e.length>=3&&d.startsWith(e,"<")&&d.endsWith(e,">")){if(c){if(c.getDOMNode)c=c.getDOMNode();if(c.ownerDocument)c=c.ownerDocument}return new j(e,i,c)}return new j(a.query(e,c))},one:function(e,c){var f=j.all(e,c);return f.length?f.slice(0,1):null}});d.mix(j,a._NODE_TYPE);return j},{requires:["dom"]});
KISSY.add("node/attach",function(d,a,i,j,l){function b(c,f,o){o.unshift(f);c=a[c].apply(a,o);if(c===l)return f;return c}var k=j.prototype,e=d.makeArray;d.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(c){k[c]=function(){var f=e(arguments);return b(c,this,f)}});d.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(c){k[c]=function(){var f=e(arguments);f.unshift(this);f=a[c].apply(a,f);f=f===l?this:f===null?null:new j(f);return f}});d.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(c,f){k[f]=function(){var o=e(arguments);if(o[c]===l&&!d.isObject(o[0])){o.unshift(this);o=a[f].apply(a,o)}else o=
b(f,this,o);return o}});d.each(["on","detach","fire","delegate","undelegate"],function(c){k[c]=function(){var f=e(arguments);f.unshift(this);return i[c].apply(i,f)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(d,a,i,j){d.each(["append","prepend","before","after"],function(l){j.prototype[l]=function(b){b=b;if(d.isString(b))b=a.create(b);b&&a[l](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var d=Math.PI,a=Math.pow,i=Math.sin,j=1.70158,l={swing:function(b){return-Math.cos(b*d)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;
return-(a(2,10*(b-=1))*i((b-0.075)*2*d/0.3))},elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*i((b-0.075)*2*d/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*i((b-0.1125)*2*d/0.45);return a(2,-10*(b-=1))*i((b-0.1125)*2*d/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((j+1)*b-j)},backOut:function(b){return(b-=1)*b*((j+1)*b+j)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((j*=1.525)+1)*b-j);return 0.5*((b-=2)*b*
(((j*=1.525)+1)*b+j)+2)},bounceIn:function(b){return 1-l.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return l.bounceIn(b*2)*0.5;return l.bounceOut(b*2-1)*0.5+0.5}};l.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",
easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return l});
KISSY.add("anim/manager",function(d){var a=d.stamp;return{interval:15,runnings:{},timer:null,start:function(i){var j=a(i);if(!this.runnings[j]){this.runnings[j]=i;this.startTimer()}},stop:function(i){this.notRun(i)},notRun:function(i){delete this.runnings[a(i)];d.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(i){this.notRun(i)},resume:function(i){this.start(i)},startTimer:function(){var i=this;if(!i.timer)i.timer=setTimeout(function(){if(i.runFrames())i.stopTimer();else{i.timer=0;
i.startTimer()}},i.interval)},stopTimer:function(){var i=this.timer;if(i){clearTimeout(i);this.timer=0}},runFrames:function(){var i=1,j=this.runnings,l;for(l in j)if(j.hasOwnProperty(l)){i=0;j[l]._frame()}return i}}});
KISSY.add("anim/fx",function(d,a,i){function j(b){this.load(b)}function l(b,k){if((!b.style||b.style[k]==null)&&a.attr(b,k,i,1)!=null)return 1;return 0}d.augment(j,{load:function(b){d.mix(this,b);this.startTime=d.now();this.pos=0;this.unit=this.unit||""},frame:function(b){var k=0,e=d.now();if(b||e>=this.duration+this.startTime)k=this.pos=1;else{b=e-this.startTime;this.pos=this.easing(b/this.duration)}this.update();return k},interpolate:function(b,k,e){return d.isNumber(b)&&d.isNumber(k)?(b+(k-b)*
e).toFixed(3):i},update:function(){var b=this.prop,k=this.elem,e=this.from,c=this.to,f=this.interpolate(e,c,this.pos);if(f===i){if(!this.finished){this.finished=1;a.css(k,b,c);d.log(this.prop+" update directly ! : "+f+" : "+e+" : "+c)}}else{f+=this.unit;l(k,b)?a.attr(k,b,f,1):a.css(k,b,f)}},cur:function(){var b=this.prop,k=this.elem;if(l(k,b))return a.attr(k,b,i,1);var e;b=a.css(k,b);return isNaN(e=parseFloat(b))?!b||b==="auto"?0:b:e}});j.Factories={};j.getFx=function(b){return new (j.Factories[b.prop]||
j)(b)};return j},{requires:["dom"]});
KISSY.add("anim/queue",function(d,a){function i(e,c,f){c=c||b;var o,p=a.data(e,l);if(!p&&!f)a.data(e,l,p={});if(p){o=p[c];if(!o&&!f)o=p[c]=[]}return o}function j(e,c){c=c||b;var f=a.data(e,l);f&&delete f[c];d.isEmptyObject(f)&&a.removeData(e,l)}var l=d.guid("ks-queue-"+d.now()+"-"),b=d.guid("ks-queue-"+d.now()+"-"),k={queueCollectionKey:l,queue:function(e){var c=i(e.elem,e.config.queue);c.push(e);c[0]!=="..."&&k.dequeue(e);return c},remove:function(e){var c=i(e.elem,e.config.queue,1);if(c){e=d.indexOf(e,
c);e>-1&&c.splice(e,1)}},removeQueues:function(e){a.removeData(e,l)},removeQueue:j,dequeue:function(e){var c=e.elem;e=e.config.queue;var f=i(c,e,1),o=f&&f.shift();if(o=="...")o=f.shift();if(o){f.unshift("...");o._runInternal()}else j(c,e)}};return k},{requires:["dom"]});
KISSY.add("anim/base",function(d,a,i,j,l,b,k,e){function c(y,B,v,r,u){if(y=a.get(y)){if(!(this instanceof c))return new c(y,B,v,r,u);B=d.isString(B)?d.unparam(B,";",":"):d.clone(B);for(var s in B){var q=g(d.trim(s));if(s!=q){B[q]=B[s];delete B[s]}}v=d.isPlainObject(v)?d.clone(v):{duration:parseFloat(v)||undefined,easing:r,complete:u};this.config=v=d.merge(F,v);v.duration*=1E3;this.elem=this.domEl=y;this.props=B;this._backupProps={};this._fxs={};this.on("complete",f)}}function f(y){var B=this._backupProps,
v=this.config;d.isEmptyObject(B=this._backupProps)||a.css(this.elem,B);v.complete&&v.complete.call(this,y)}function o(){var y=this.config,B=this._backupProps,v=this.elem,r,u,s,q=y.specialEasing||{},w=this._fxs,h=this.props;p(this);if(this.fire("start")===false)this.stop(0);else{if(n(v)){r=a.css(v,"display")=="none";for(s in h){u=h[s];if(u=="hide"&&r||u=="show"&&!r){this.stop(1);return}}}d.each(h,function(L,J){if(h.hasOwnProperty(J)){var K;if(d.isArray(L)){K=q[J]=L[1];h[J]=L[0]}else K=q[J]=q[J]||y.easing;
if(d.isString(K))K=q[J]=j[K];q[J]=K||j.easeNone}});d.each(D,function(L,J){var K,M,O;if(O=h[J]){M={};d.each(L,function(N){M[N]=a.css(v,N);q[N]=q[J]});a.css(v,J,O);for(K in M){h[K]=a.css(v,K);a.css(v,K,M[K])}delete h[J]}});for(s in h)if(h.hasOwnProperty(s)){u=d.trim(h[s]);var t,A,C={elem:v,prop:s,duration:y.duration,easing:q[s]},G=k.getFx(C);if(d.inArray(u,x)){B[s]=a.style(v,s);if(u=="toggle")u=r?"show":"hide";if(u=="hide"){t=0;A=G.cur();B.display="none"}else{a.show(v);A=0;t=G.cur()}u=t}else{t=u;A=
G.cur()}u+="";var H="",I=u.match(E);if(I){t=parseFloat(I[2]);if((H=I[3])&&H!=="px"){a.css(v,s,u);A=t/G.cur()*A;a.css(v,s,A+H)}if(I[1])t=(I[1]==="-="?-1:1)*t+A}C.from=A;C.to=t;C.unit=H;G.load(C);w[s]=G}if(n(v)&&(h.width||h.height)){d.mix(B,{overflow:a.css(v,"overflow"),"overflow-x":a.css(v,"overflowX"),"overflow-y":a.css(v,"overflowY")});a.css(v,"overflow","hidden");if(a.css(v,"display")==="inline"&&a.css(v,"float")==="none")l.ie?a.css(v,"zoom",1):a.css(v,"display","inline-block")}b.start(this)}}function p(y){var B=
y.elem,v=a.data(B,z);v||a.data(B,z,v={});v[d.stamp(y)]=y}function m(y,B,v,r){v&&r!==false&&e.removeQueue(y,r);y=a.data(y,z);y=d.merge(y);for(var u in y){v=y[u];v.config.queue==r&&v.stop(B)}}var g=a._camelCase,n=a._isElementNode,x=["hide","show","toggle"],D={border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom",
"marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},F={duration:1,easing:"easeNone"},E=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;c.SHORT_HANDS=D;d.augment(c,i.Target,{isRunning:function(){var y;y=(y=a.data(this.elem,z))?!!y[d.stamp(this)]:0;return y},_runInternal:o,run:function(){this.config.queue===false?o.call(this):e.queue(this);return this},_frame:function(){var y,B=1,v=this._fxs;for(y in v)if(v.hasOwnProperty(y))B&=v[y].frame();if(this.fire("step")===
false||B)this.stop(B)},stop:function(y){var B=this.config.queue,v,r=this._fxs;if(this.isRunning()){if(y){for(v in r)r.hasOwnProperty(v)&&r[v].frame(1);this.fire("complete")}b.stop(this);y=this.elem;if(v=a.data(y,z)){delete v[d.stamp(this)];d.isEmptyObject(v)&&a.removeData(y,z)}B!==false&&e.dequeue(this);return this}else B!==false&&e.remove(this)}});var z=d.guid("ks-anim-unqueued-"+d.now()+"-");c.stop=function(y,B,v,r){if(r===null||d.isString(r)||r===false)return m.apply(undefined,arguments);v&&e.removeQueues(y);
var u=a.data(y,z);u=d.merge(u);for(var s in u)u[s].stop(B)};c.isRunning=function(y){return(y=a.data(y,z))&&!d.isEmptyObject(y)};c.Q=e;return c},{requires:["dom","event","./easing","ua","./manager","./fx","./queue"]});
KISSY.add("anim/color",function(d,a,i,j){function l(m){m+="";var g;if(g=m.match(f))return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])];else if(g=m.match(o))return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),parseInt(g[4])];else if(g=m.match(p)){for(m=1;m<g.length;m++)if(g[m].length<2)g[m]+=g[m];return[parseInt(g[1],k),parseInt(g[2],k),parseInt(g[3],k)]}if(c[m=m.toLowerCase()])return c[m];d.log("only allow rgb or hex color string : "+m,"warn");return[255,255,255]}function b(){b.superclass.constructor.apply(this,
arguments)}var k=16,e=Math.floor,c={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},f=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,o=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,p=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;a=i.SHORT_HANDS;
a.background=["backgroundColor"];a.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];a.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");a.borderBottom.push("borderBottomColor");a.borderLeft.push("borderLeftColor");a.borderRight.push("borderRightColor");a.borderTop.push("borderTopColor");d.extend(b,j,{load:function(){b.superclass.load.apply(this,arguments);if(this.from)this.from=l(this.from);if(this.to)this.to=l(this.to)},
interpolate:function(m,g,n){var x=b.superclass.interpolate;if(m.length==3&&g.length==3)return"rgb("+[e(x(m[0],g[0],n)),e(x(m[1],g[1],n)),e(x(m[2],g[2],n))].join(", ")+")";else if(m.length==4||g.length==4)return"rgba("+[e(x(m[0],g[0],n)),e(x(m[1],g[1],n)),e(x(m[2],g[2],n)),e(x(m[3]||1,g[3]||1,n))].join(", ")+")";else d.log("anim/color unknown value : "+m)}});d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(m){j.Factories[m]=
b});return b},{requires:["dom","./base","./fx"]});KISSY.add("anim",function(d,a,i){a.Easing=i;return a},{requires:["anim/base","anim/easing","anim/color"]});
KISSY.add("node/anim",function(d,a,i,j,l){function b(e,c,f){var o=[],p={};for(f=f||0;f<c;f++)o.push.apply(o,k[f]);for(f=0;f<o.length;f++)p[o[f]]=e;return p}var k=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];d.augment(j,{animate:function(){var e=d.makeArray(arguments);d.each(this,function(c){i.apply(l,[c].concat(e)).run()});return this},stop:function(e,c,f){d.each(this,function(o){i.stop(o,e,c,f)});
return this},isRunning:function(){for(var e=0;e<this.length;e++)if(i.isRunning(this[e]))return 1;return 0}});d.each({show:b("show",3),hide:b("hide",3),toggle:b("toggle",3),fadeIn:b("show",3,2),fadeOut:b("hide",3,2),fadeToggle:b("toggle",3,2),slideDown:b("show",1),slideUp:b("hide",1),slideToggle:b("toggle",1)},function(e,c){j.prototype[c]=function(f,o,p){a[c]&&!f?a[c](this):d.each(this,function(m){i(m,e,f,p||"easeOut",o).run()});return this}})},{requires:["dom","anim","./base"]});
KISSY.add("node",function(d,a,i){i.KeyCodes=a.KeyCodes;return i},{requires:["event","node/base","node/attach","node/override","node/anim"]});
KISSY.add("json/json2",function(d,a){function i(g){return g<10?"0"+g:g}function j(g){c.lastIndex=0;return c.test(g)?'"'+g.replace(c,function(n){var x=p[n];return typeof x==="string"?x:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+g+'"'}function l(g,n){var x,D,F,E,z=f,y,B=n[g];if(B&&typeof B==="object"&&typeof B.toJSON==="function")B=B.toJSON(g);if(typeof m==="function")B=m.call(n,g,B);switch(typeof B){case "string":return j(B);case "number":return isFinite(B)?String(B):"null";case "boolean":case "null":return String(B);
case "object":if(!B)return"null";f+=o;y=[];if(Object.prototype.toString.apply(B)==="[object Array]"){E=B.length;for(x=0;x<E;x+=1)y[x]=l(x,B)||"null";F=y.length===0?"[]":f?"[\n"+f+y.join(",\n"+f)+"\n"+z+"]":"["+y.join(",")+"]";f=z;return F}if(m&&typeof m==="object"){E=m.length;for(x=0;x<E;x+=1){D=m[x];if(typeof D==="string")if(F=l(D,B))y.push(j(D)+(f?": ":":")+F)}}else for(D in B)if(Object.hasOwnProperty.call(B,D))if(F=l(D,B))y.push(j(D)+(f?": ":":")+F);F=y.length===0?"{}":f?"{\n"+f+y.join(",\n"+f)+
"\n"+z+"}":"{"+y.join(",")+"}";f=z;return F}}var b=window,k=b.JSON;if(!k||a.ie<9)k=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,o,p={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof k.stringify!=="function")k.stringify=function(g,n,x){var D;o=f="";if(typeof x==="number")for(D=0;D<x;D+=1)o+=" ";else if(typeof x==="string")o=x;if((m=n)&&typeof n!=="function"&&(typeof n!=="object"||typeof n.length!=="number"))throw Error("JSON.stringify");return l("",{"":g})};if(typeof k.parse!==
"function")k.parse=function(g,n){function x(F,E){var z,y,B=F[E];if(B&&typeof B==="object")for(z in B)if(Object.hasOwnProperty.call(B,z)){y=x(B,z);if(y!==undefined)B[z]=y;else delete B[z]}return n.call(F,E,B)}var D;g=String(g);e.lastIndex=0;if(e.test(g))g=g.replace(e,function(F){return"\\u"+("0000"+F.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(g.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){D=eval("("+g+")");return typeof n==="function"?x({"":D},""):D}throw new SyntaxError("JSON.parse");};return k},{requires:["ua"]});KISSY.add("json",function(d,a){return{parse:function(i){if(d.isNullOrUndefined(i)||i==="")return null;return a.parse(i)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/form-serializer",function(d,a){var i=/^(?:select|textarea)/i,j=/\r?\n/g,l=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return{serialize:function(b){var k=[],e={};a.query(b).each(function(c){c=c.elements?d.makeArray(c.elements):[c];k.push.apply(k,c)});k=d.filter(k,function(c){return c.name&&!c.disabled&&(c.checked||i.test(c.nodeName)||l.test(c.type))});d.each(k,function(c){var f=a.val(c);f=d.map(d.makeArray(f),function(o){return o.replace(j,
"\r\n")});c=e[c.name]=e[c.name]||[];c.push.apply(c,f)});return d.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/xhrobject",function(d,a){function i(b){var k=b.responseText,e=b.responseXML,c=b.config,f=c.converters,o=b.converters||{},p,m,g=c.contents,n=c.dataType;if(k||e){for(c=b.mimeType||b.getResponseHeader("Content-Type");n[0]=="*";)n.shift();if(!n.length)for(p in g)if(g[p].test(c)){n[0]!=p&&n.unshift(p);break}n[0]=n[0]||"text";if(n[0]=="text"&&k!==undefined)m=k;else if(n[0]=="xml"&&e!==undefined)m=e;else d.each(["text","xml"],function(D){var F=n[0];if(o[D]&&o[D][F]||f[D]&&f[D][F]){n.unshift(D);
m=D=="text"?k:e;return false}})}g=n[0];for(c=1;c<n.length;c++){p=n[c];var x=o[g]&&o[g][p]||f[g]&&f[g][p];if(!x)throw"no covert for "+g+" => "+p;m=x(m);g=p}b.responseData=m}function j(b){d.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var l=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;d.augment(j,a.Target,{setRequestHeader:function(b,k){this.requestHeaders[b]=
k;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var k;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};k=l.exec(this.responseHeadersString);)this.responseHeaders[k[1]]=k[2];k=this.responseHeaders[b]}return k===undefined?null:k},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,k){if(this.state!=2){this.state=2;this.readyState=4;var e;if(b>=200&&b<300||b==304)if(b==304){k="notmodified";e=true}else try{i(this);k="success";e=true}catch(c){k="parsererror : "+c}else if(b<0)b=0;this.status=b;this.statusText=k;e?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return j},{requires:["event"]});
KISSY.add("ajax/base",function(d,a,i,j){function l(z){z=d.mix(d.clone(E),z||{},undefined,undefined,true);if(!d.isBoolean(z.crossDomain)){var y=f.exec(z.url.toLowerCase());z.crossDomain=!!(y&&(y[1]!=x[1]||y[2]!=x[2]||(y[3]||(y[1]==="http:"?p:m))!=(x[3]||(x[1]==="http:"?p:m))))}if(z.processData&&z.data&&!d.isString(z.data))z.data=d.param(z.data,undefined,undefined,z.serializeArray);z.type=z.type.toUpperCase();z.hasContent=!g.test(z.type);if(!z.hasContent){if(z.data)z.url+=(/\?/.test(z.url)?"&":"?")+
z.data;if(z.cache===false)z.url+=(/\?/.test(z.url)?"&":"?")+"_ksTS="+(d.now()+"_"+d.guid())}z.dataType=d.trim(z.dataType||"*").split(c);z.context=z.context||z;return z}function b(z,y){e.fire(z,{ajaxConfig:y.config,xhr:y})}function k(z){var y=this.config;z=z.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);y[z]&&y[z].call(y.context,this.responseData,this.statusText,this);b(z,this)}function e(z){if(z.url){z=l(z);var y=new j(z);b("start",y);var B=new (F[z.dataType[0]]||F["*"])(y);y.transport=
B;z.contentType&&y.setRequestHeader("Content-Type",z.contentType);var v=z.dataType[0],r=z.accepts;y.setRequestHeader("Accept",v&&r[v]?r[v]+(v==="*"?"":", */*; q=0.01"):r["*"]);for(var u in z.headers)y.setRequestHeader(u,z.headers[u]);y.on("complete success error",k);y.readyState=1;b("send",y);if(z.async&&z.timeout>0)y.timeoutTimer=setTimeout(function(){y.abort("timeout")},z.timeout*1E3);try{y.state=1;B.send()}catch(s){y.status<2?y.callback(-1,s):d.error(s)}return y}}var c=/\s+/,f=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
o=function(z){return z},p=80,m=443,g=/^(?:GET|HEAD)$/,n,x;try{n=location.href}catch(D){d.log("ajax/base get curLocation error : ");d.log(D);n=document.createElement("a");n.href="";n=n.href}x=f.exec(n);n=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(x[1]);var F={},E={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:a.parse,html:o,text:o,xml:d.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};E.converters.html=E.converters.text;d.mix(e,i.Target);d.mix(e,{isLocal:n,setupConfig:function(z){d.mix(E,z,undefined,undefined,true)},setupTransport:function(z,y){F[z]=y},getTransport:function(z){return F[z]},getConfig:function(){return E}});return e},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhrbase",function(d,a){function i(k,e){try{return new (e||j).XMLHttpRequest}catch(c){}}var j=window,l=j.XDomainRequest,b={proto:{}};b.xhr=j.ActiveXObject?function(k,e){if(k&&l)return new l;var c;if(!(c=!a.isLocal&&i(k,e)))a:{try{c=new (e||j).ActiveXObject("Microsoft.XMLHTTP");break a}catch(f){d.log("createActiveXHR error")}c=void 0}return c}:i;d.mix(b.proto,{sendInternal:function(){var k=this,e=k.xhrObj,c=e.config,f=k.xhr,o,p;c.username?f.open(c.type,c.url,c.async,c.username,c.password):
f.open(c.type,c.url,c.async);if(o=c.xhrFields)for(p in o)f[p]=o[p];e.mimeType&&f.overrideMimeType&&f.overrideMimeType(e.mimeType);if(!c.crossDomain&&!e.requestHeaders["X-Requested-With"])e.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{if(!c.crossDomain)for(p in e.requestHeaders)f.setRequestHeader(p,e.requestHeaders[p])}catch(m){d.log("setRequestHeader in xhr error : ");d.log(m)}f.send(c.hasContent&&c.data||null);if(!c.async||f.readyState==4)k._callback();else if(l&&f instanceof l){f.onload=
function(){f.readyState=4;f.status=200;k._callback()};f.onerror=function(){f.readyState=4;f.status=500;k._callback()}}else f.onreadystatechange=function(){k._callback()}},abort:function(){this._callback(0,1)},_callback:function(k,e){try{var c=this.xhr,f=this.xhrObj,o=f.config;if(e||c.readyState==4){if(l&&c instanceof l){c.onerror=d.noop;c.onload=d.noop}else c.onreadystatechange=d.noop;if(e)c.readyState!==4&&c.abort();else{var p=c.status;if(!(l&&c instanceof l))f.responseHeadersString=c.getAllResponseHeaders();
var m=c.responseXML;if(m&&m.documentElement)f.responseXML=m;f.responseText=c.responseText;try{var g=c.statusText}catch(n){d.log("xhr statustext error : ");d.log(n);g=""}if(!p&&a.isLocal&&!o.crossDomain)p=f.responseText?200:404;else if(p===1223)p=204;f.callback(p,g)}}}catch(x){c.onreadystatechange=d.noop;e||f.callback(-1,x)}}});return b},{requires:["./base"]});
KISSY.add("ajax/subdomain",function(d,a,i,j){function l(c){var f=c.config;this.xhrObj=c;c=f.url.match(b);this.__hostname=c[2];this.__protocol=c[1];f.crossDomain=false}var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=document,e={};d.augment(l,a.proto,{send:function(){var c=this.xhrObj.config,f=this.__hostname,o=e[f],p="/sub_domain_proxy.html";if(c.xdr&&c.xdr.subDomain&&c.xdr.subDomain.proxy)p=c.xdr.subDomain.proxy;if(o&&o.ready)(this.xhr=a.xhr(0,o.iframe.contentWindow))?this.sendInternal():
d.error("document.domain not set correctly!");else{if(o)c=o.iframe;else{o=e[f]={};c=o.iframe=document.createElement("iframe");j.css(c,{position:"absolute",left:"-9999px",top:"-9999px"});j.prepend(c,k.body||k.documentElement);c.src=this.__protocol+"//"+f+p}i.on(c,"load",this._onLoad,this)}},_onLoad:function(){var c=e[this.__hostname];c.ready=1;i.detach(c.iframe,"load",this._onLoad,this);this.send()}});return l},{requires:["./xhrbase","event","dom"]});
KISSY.add("ajax/xdr",function(d,a,i){function j(o,p,m){if(!f){f=true;o='<object id="'+k+'" type="application/x-shockwave-flash" data="'+o+'" width="0" height="0"><param name="movie" value="'+o+'" /><param name="FlashVars" value="yid='+p+"&uid="+m+'&host=KISSY.io" /><param name="allowScriptAccess" value="always" /></object>';p=c.createElement("div");i.prepend(p,c.body||c.documentElement);p.innerHTML=o}}function l(o){d.log("use flash xdr");this.xhrObj=o}var b={},k="io_swf",e,c=document,f=false;d.augment(l,
{send:function(){var o=this,p=o.xhrObj.config;j((p.xdr||{}).src||d.Config.base+"ajax/io.swf",1,1);if(e){o._uid=d.guid();b[o._uid]=o;e.send(p.url,{id:o._uid,uid:o._uid,method:p.type,data:p.hasContent&&p.data||{}})}else setTimeout(function(){o.send()},200)},abort:function(){e.abort(this._uid)},_xdrResponse:function(o,p){var m,g=this.xhrObj;g.responseText=decodeURI(p.c.responseText);switch(o){case "success":m={status:200,statusText:"success"};delete b[p.id];break;case "abort":delete b[p.id];break;case "timeout":case "transport error":case "failure":delete b[p.id];
m={status:500,statusText:o}}m&&g.callback(m.status,m.statusText)}});a.applyTo=function(o,p,m){o=p.split(".");var g=d;d.each(o,function(n){g=g[n]});g.apply(null,m)};a.xdrReady=function(){e=c.getElementById(k)};a.xdrResponse=function(o,p,m){var g=b[p.uid];g&&g._xdrResponse(o,p,m)};d.io=a;return l},{requires:["./base","dom"]});
KISSY.add("ajax/xhr",function(d,a,i,j,l){var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=window.XDomainRequest,e=i.xhr();if(e){var c=function(o){o=o.split(".");return o.length<2?o.join("."):o.reverse().slice(0,2).reverse().join(".")},f=function(o){var p=o.config,m=p.xdr||{};if(p.crossDomain){p=p.url.match(b);if(c(location.hostname)==c(p[2]))return new j(o);if(!("withCredentials"in e)&&(String(m.use)==="flash"||!k))return new l(o)}this.xhrObj=o};d.augment(f,i.proto,{send:function(){this.xhr=
i.xhr(this.xhrObj.config.crossDomain);this.sendInternal()}});a.setupTransport("*",f)}return a},{requires:["./base","./xhrbase","./subdomain","./xdr"]});
KISSY.add("ajax/script",function(d,a){function i(l){if(!l.config.crossDomain&&!l.config.forceScript)return new (a.getTransport("*"))(l);this.xhrObj=l;return 0}var j=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(l){d.globalEval(l);return l}}}});d.augment(i,{send:function(){var l=this,b,k=this.xhrObj.config,e=j.head||j.getElementsByTagName("head")[0]||
j.documentElement;l.head=e;b=j.createElement("script");l.script=b;b.async="async";if(k.scriptCharset)b.charset=k.scriptCharset;b.src=k.url;b.onerror=b.onload=b.onreadystatechange=function(c){c=c||window.event;l._callback((c.type||"error").toLowerCase())};e.insertBefore(b,e.firstChild)},_callback:function(l,b){var k=this.script,e=this.xhrObj,c=this.head;if(k)if(b||!k.readyState||/loaded|complete/.test(k.readyState)||l=="error"){k.onerror=k.onload=k.onreadystatechange=null;c&&k.parentNode&&c.removeChild(k);
this.head=this.script=undefined;if(!b&&l!="error")e.callback(200,"success");else l=="error"&&e.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",i);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(d,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return d.guid("jsonp")}});a.on("start",function(i){i=i.xhr;var j=i.config;if(j.dataType[0]=="jsonp"){var l,b=j.jsonpCallback,k=d.isFunction(b)?b():b,e=window[k];j.url+=(/\?/.test(j.url)?"&":"?")+j.jsonp+"="+k;window[k]=function(c){if(arguments.length>1)c=d.makeArray(arguments);l=[c]};i.on("complete",function(){window[k]=e;if(e===undefined)try{delete window[k]}catch(c){}else l&&e(l[0])});i.converters=i.converters||
{};i.converters.script=i.converters.script||{};i.converters.script.json=function(){l||d.error(" not call jsonpCallback : "+k);return l[0]};j.dataType.length=2;j.dataType[0]="script";j.dataType[1]="json"}});return a},{requires:["./base"]});
KISSY.add("ajax/form",function(d,a,i,j){a.on("start",function(l){l=l.xhr.config;if(l.form){var b=i.get(l.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=j.serialize(b))if(l.hasContent){l.data=l.data||"";if(l.data)l.data+="&";l.data+=b}else l.url+=(/\?/.test(l.url)?"&":"?")+b}else{b=l.dataType[0];if(b=="*")b="text";l.dataType.length=2;l.dataType[0]="iframe";l.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(d,a,i,j){function l(k){this.xhr=k}var b=document;j.setupConfig({converters:{iframe:j.getConfig().converters.text,text:{iframe:function(k){return k}}}});d.augment(l,{send:function(){var k=this.xhr,e=k.config,c,f=a.get(e.form);this.attrs={target:a.attr(f,"target")||"",action:a.attr(f,"action")||""};this.form=f;var o=d.guid("ajax-iframe");k.iframe=a.create("<iframe  id='"+o+"' name='"+o+"' style='position:absolute;left:-9999px;top:-9999px;'/>");k.iframeId=o;a.prepend(k.iframe,
b.body||b.documentElement);a.attr(f,{target:k.iframeId,action:e.url});if(e.data){c=e.data;e=e.serializeArray;c=d.unparam(c);o=[];for(var p in c)for(var m=d.isArray(c[p]),g=d.makeArray(c[p]),n=0;n<g.length;n++){var x=b.createElement("input");x.type="hidden";x.name=p+(m&&e?"[]":"");x.value=g[n];a.append(x,f);o.push(x)}c=o}this.fields=c;i.on(k.iframe,"load error",this._callback,this);f.submit()},_callback:function(k){var e=this.xhr;k=k.type;var c=e.iframe;if(c){a.attr(this.form,this.attrs);if(k=="load"){k=
c.contentWindow.document;e.responseXML=k;e.responseText=a.text(k.body);e.callback(200,"success")}else k=="error"&&e.callback(500,"error");a.remove(this.fields);i.detach(c);setTimeout(function(){a.remove(c)},30);e.iframe=null}},abort:function(){this._callback(0,1)}});j.setupTransport("iframe",l);return j},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(d,a,i){d.mix(i,{serialize:a.serialize,get:function(j,l,b,k,e){if(d.isFunction(l)){k=b;b=l;l=undefined}return i({type:e||"get",url:j,data:l,success:b,dataType:k})},post:function(j,l,b,k){if(d.isFunction(l)){k=b;b=l;l=undefined}return i.get(j,l,b,k,"post")},jsonp:function(j,l,b){if(d.isFunction(l)){b=l;l=undefined}return i.get(j,l,b,"jsonp")},getScript:d.getScript,getJSON:function(j,l,b){if(d.isFunction(l)){b=l;l=undefined}return i.get(j,l,b,"json")},upload:function(j,l,b,
k,e){if(d.isFunction(b)){e=k;k=b;b=undefined}return i({url:j,type:"post",dataType:e,form:l,data:b,success:k})}});return i},{requires:["ajax/form-serializer","ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(d,a){function i(m,g){if(d.isString(g))return m[g];return g}function j(m,g,n,x,D,F,E){E=E||n;return m.fire(g+o(n)+"Change",{attrName:E,subAttrName:F,prevVal:x,newVal:D})}function l(m,g,n){var x=m[g]||{};if(n)m[g]=x;return x}function b(m){return l(m,"__attrs",true)}function k(m){return l(m,"__attrVals",true)}function e(m,g){for(var n=0,x=g.length;m!=a&&n<x;n++)m=m[g[n]];return m}function c(m,g,n,x,D){x=x||{};var F,E,z,y=g;if(g.indexOf(".")!==-1){F=g.split(".");g=
F.shift()}z=m.get(g);if(F)E=e(z,F);if(!(!F&&z===n))if(!(F&&E===n)){if(F){var B=E=d.clone(z),v=F.length-1;if(v>=0){for(var r=0;r<v;r++)B=B[F[r]];if(B!=a)B[F[r]]=n}n=E}if(!x.silent)if(false===j(m,"before",g,z,n,y))return false;n=m.__set(g,n);if(n===false)return n;if(!x.silent){n=k(m)[g];j(m,"after",g,z,n,y);D?D.push({prevVal:z,newVal:n,attrName:g,subAttrName:y}):j(m,"","*",[z],[n],[y],[g])}return m}}function f(){}function o(m){return m.charAt(0).toUpperCase()+m.substring(1)}f.INVALID={};var p=f.INVALID;
d.augment(f,{getAttrs:function(){return b(this)},getAttrVals:function(){var m={},g,n=b(this);for(g in n)m[g]=this.get(g);return m},addAttr:function(m,g,n){var x=b(this);g=d.clone(g);if(x[m])d.mix(x[m],g,n);else x[m]=g;return this},addAttrs:function(m,g){var n=this;d.each(m,function(x,D){n.addAttr(D,x)});g&&n.set(g);return n},hasAttr:function(m){return m&&b(this).hasOwnProperty(m)},removeAttr:function(m){if(this.hasAttr(m)){delete b(this)[m];delete k(this)[m]}return this},set:function(m,g,n){var x;
if(d.isPlainObject(m)){var D=m;m=0;x=true;n=g;g=[];for(m in D){x=c(this,m,D[m],n,g);if(x===false)break}var F=[],E=[],z=[],y=[];d.each(g,function(B){E.push(B.prevVal);z.push(B.newVal);F.push(B.attrName);y.push(B.subAttrName)});F.length&&j(this,"","*",E,z,y,F);return x}return c(this,m,g,n)},__set:function(m,g){var n,x=l(b(this),m,true),D=x.validator;x=x.setter;if(D=i(this,D))if(!D.call(this,g,m))return false;if(x=i(this,x))n=x.call(this,g,m);if(n===p)return false;if(n!==a)g=n;k(this)[m]=g},get:function(m){var g,
n,x;if(m.indexOf(".")!==-1){g=m.split(".");m=g.shift()}n=l(b(this),m).getter;x=m in k(this)?k(this)[m]:this.__getDefAttrVal(m);if(n=i(this,n))x=n.call(this,x,m);if(g)x=e(x,g);return x},__getDefAttrVal:function(m){var g=l(b(this),m),n;if(n=i(this,g.valueFn)){n=n.call(this);if(n!==a)g.value=n;delete g.valueFn;b(this)[m]=g}return g.value},reset:function(m,g){if(d.isString(m))return this.hasAttr(m)?this.set(m,this.__getDefAttrVal(m),g):this;g=m;var n=b(this),x={};for(m in n)x[m]=this.__getDefAttrVal(m);
this.set(x,g);return this}});f.__capitalFirst=o;return f});KISSY.add("base/base",function(d,a,i){function j(l){for(var b=this.constructor;b;){var k=b.ATTRS;if(k){var e=void 0;for(e in k)k.hasOwnProperty(e)&&this.addAttr(e,k[e],false)}b=b.superclass?b.superclass.constructor:null}if(l)for(var c in l)l.hasOwnProperty(c)&&this.__set(c,l[c])}d.augment(j,i.Target,a);return j},{requires:["./attribute","event"]});KISSY.add("base",function(d,a,i){a.Attribute=i;return a},{requires:["base/base","base/attribute"]});
KISSY.add("cookie/base",function(d){var a=document,i=encodeURIComponent,j=decodeURIComponent;return{get:function(l){var b;if(d.isString(l)&&l!=="")if(l=String(a.cookie).match(RegExp("(?:^| )"+l+"(?:(?:=([^;]*))|;|$)")))b=l[1]?j(l[1]):"";return b},set:function(l,b,k,e,c,f){b=String(i(b));var o=k;if(typeof o==="number"){o=new Date;o.setTime(o.getTime()+k*864E5)}if(o instanceof Date)b+="; expires="+o.toUTCString();if(d.isString(e)&&e!=="")b+="; domain="+e;if(d.isString(c)&&c!=="")b+="; path="+c;if(f)b+=
"; secure";a.cookie=l+"="+b},remove:function(l,b,k,e){this.set(l,"",-1,b,k,e)}}});KISSY.add("cookie",function(d,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(d,a,i,j,l,b,k,e,c,f){k.getScript=d.getScript;a={UA:a,DOM:i,Event:j,EventTarget:j.Target,EventObject:j.Object,Node:l,NodeList:l,JSON:b,Ajax:k,IO:k,ajax:k,io:k,jsonp:k.jsonp,Anim:e,Easing:e.Easing,Base:c,Cookie:f,one:l.one,all:l.all,get:i.get,query:i.query};d.mix(d,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
