/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Nov 23 12:08
*/
KISSY.add("ua/base",function(){var d=navigator.userAgent,a="",h="",i,m=[6,9],b=document.createElement("div"),k,e={},c=function(j){var o=0;return parseFloat(j.replace(/\./g,function(){return o++===0?".":""}))};b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}","");k=b.getElementsByTagName("s");if(k.length>0){h="ie";e[a="trident"]=0.1;if((i=d.match(/Trident\/([\d.]*)/))&&i[1])e[a]=c(i[1]);d=m[0];for(m=m[1];d<=m;d++){b.innerHTML="<!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",
d);if(k.length>0){e[h]=d;break}}}else if((i=d.match(/AppleWebKit\/([\d.]*)/))&&i[1]){e[a="webkit"]=c(i[1]);if((i=d.match(/Chrome\/([\d.]*)/))&&i[1])e[h="chrome"]=c(i[1]);else if((i=d.match(/\/([\d.]*) Safari/))&&i[1])e[h="safari"]=c(i[1]);if(/ Mobile\//.test(d))e.mobile="apple";else if(i=d.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=i[0].toLowerCase()}else if((i=d.match(/Presto\/([\d.]*)/))&&i[1]){e[a="presto"]=c(i[1]);if((i=d.match(/Opera\/([\d.]*)/))&&i[1]){e[h="opera"]=c(i[1]);
if((i=d.match(/Opera\/.* Version\/([\d.]*)/))&&i[1])e[h]=c(i[1]);if((i=d.match(/Opera Mini[^;]*/))&&i)e.mobile=i[0].toLowerCase();else if((i=d.match(/Opera Mobi[^;]*/))&&i)e.mobile=i[0]}}else if((i=d.match(/MSIE\s([^;]*)/))&&i[1]){e[a="trident"]=0.1;e[h="ie"]=c(i[1]);if((i=d.match(/Trident\/([\d.]*)/))&&i[1])e[a]=c(i[1])}else if(i=d.match(/Gecko/)){e[a="gecko"]=0.1;if((i=d.match(/rv:([\d.]*)/))&&i[1])e[a]=c(i[1]);if((i=d.match(/Firefox\/([\d.]*)/))&&i[1])e[h="firefox"]=c(i[1])}e.core=a;e.shell=h;
e._numberify=c;return e});KISSY.add("ua/extra",function(d,a){var h=navigator.userAgent,i,m,b={},k=a._numberify;if(h.match(/360SE/))b[m="se360"]=3;else if(h.match(/Maxthon/)&&(i=window.external)){m="maxthon";try{b[m]=k(i.max_version)}catch(e){b[m]=0.1}}else if(i=h.match(/TencentTraveler\s([\d.]*)/))b[m="tt"]=i[1]?k(i[1]):0.1;else if(h.match(/TheWorld/))b[m="theworld"]=3;else if(i=h.match(/SE\s([\d.]*)/))b[m="sougou"]=i[1]?k(i[1]):0.1;m&&(b.shell=m);d.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(d,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(d,a,h){function i(k,e){return k&&k.nodeType===e}var m={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},b={_isCustomDomain:function(k){k=k||window;var e=k.document.domain;k=k.location.hostname;return e!=k&&e!="["+k+"]"},_genEmptyIframeSrc:function(k){k=k||window;if(a.ie&&b._isCustomDomain(k))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+k.document.domain+"';document.close();")+"}())"},_NODE_TYPE:m,_isElementNode:function(k){return i(k,b.ELEMENT_NODE)},_getWin:function(k){return k&&"scrollTo"in k&&k.document?k:i(k,b.DOCUMENT_NODE)?k.defaultView||k.parentWindow:k===h||k===null?window:false},_nodeTypeIs:i,_isNodeList:function(k){return k&&!k.nodeType&&k.item&&!k.setTimeout},_nodeName:function(k,e){return k&&k.nodeName.toLowerCase()===e.toLowerCase()}};d.mix(b,m);return b},{requires:["ua"]});
KISSY.add("dom/attr",function(d,a,h,i){function m(w,r){r=D[r]||r;var u=y[r];return u&&u.get?u.get(w,r):w[r]}h=document.documentElement;var b=!h.hasAttribute,k=h.textContent===i?"innerText":"textContent",e=a._nodeName,c=a._isElementNode,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,o=/^(?:button|input|object|select|textarea)$/i,p=/^a(?:rea)?$/i,n=/:|^on/,f=/\r/g,l={},v={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},E={tabindex:{get:function(w){var r=w.getAttributeNode("tabindex");return r&&r.specified?parseInt(r.value,10):o.test(w.nodeName)||p.test(w.nodeName)&&w.href?0:i}},style:{get:function(w){return w.style.cssText},set:function(w,r){w.style.cssText=r}}},D={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},F={get:function(w,r){return a.prop(w,r)?r.toLowerCase():i},set:function(w,r,u){if(r===false)a.removeAttr(w,u);else{r=D[u]||u;if(r in w)w[r]=true;w.setAttribute(u,u.toLowerCase())}return u}},y={},z={},B={option:{get:function(w){var r=w.attributes.value;return!r||r.specified?w.value:w.text}},select:{get:function(w){var r=w.selectedIndex,u=w.options;w=w.type==="select-one";if(r<0)return null;else if(w)return a.val(u[r]);r=[];w=0;for(var s=u.length;w<s;++w)u[w].selected&&
r.push(a.val(u[w]));return r},set:function(w,r){var u=d.makeArray(r);d.each(w.options,function(s){s.selected=d.inArray(a.val(s),u)});if(!u.length)w.selectedIndex=-1;return u}}};if(b){z={get:function(w,r){var u;return(u=w.getAttributeNode(r))&&u.nodeValue!==""?u.nodeValue:i},set:function(w,r,u){var s=w.getAttributeNode(u);if(s)s.nodeValue=r;else try{var q=w.ownerDocument.createAttribute(u);q.value=r;w.setAttributeNode(q)}catch(x){return w.setAttribute(u,r,0)}}};l=D;E.tabIndex=E.tabindex;d.each(["href",
"src","width","height","colSpan","rowSpan"],function(w){E[w]={get:function(r){r=r.getAttribute(w,2);return r===null?i:r}}});B.button=E.value=z}d.each(["radio","checkbox"],function(w){B[w]={get:function(r){return r.getAttribute("value")===null?"on":r.value},set:function(r,u){if(d.isArray(u))return r.checked=d.inArray(a.val(r),u)}}});d.mix(a,{prop:function(w,r,u){if(d.isPlainObject(r))for(var s in r)a.prop(w,s,r[s]);else{w=a.query(w);r=D[r]||r;var q=y[r];if(u!==i)w.each(function(x){if(q&&q.set)q.set(x,
u,r);else x[r]=u});else if(w.length)return m(w[0],r)}},hasProp:function(w,r){for(var u=a.query(w),s=0;s<u.length;s++)if(m(u[s],r)!==i)return true;return false},removeProp:function(w,r){r=D[r]||r;a.query(w).each(function(u){try{u[r]=i;delete u[r]}catch(s){d.log("delete el property error : ");d.log(s)}})},attr:function(w,r,u,s){if(d.isPlainObject(r)){s=u;for(var q in r)a.attr(w,q,r[q],s)}else if(r=d.trim(r)){if(s&&v[r])return a[r](w,u);r=r.toLowerCase();if(s&&v[r])return a[r](w,u);w=a.query(w);if(u===
i)return a.__attr(w[0],r);else w.each(function(x){a.__attr(x,r,u)})}},__attr:function(w,r,u){if(c(w)){r=l[r]||r;var s;s=e(w,"form")?z:j.test(r)?F:n.test(r)?z:E[r];if(u===i){if(s&&s.get)return s.get(w,r);w=w.getAttribute(r);return w===null?i:w}else s&&s.set?s.set(w,u,r):w.setAttribute(r,""+u)}},removeAttr:function(w,r){r=r.toLowerCase();r=l[r]||r;a.query(w).each(function(u){if(c(u)){var s;u.removeAttribute(r);if(j.test(r)&&(s=D[r]||r)in u)u[s]=false}})},hasAttr:b?function(w,r){r=r.toLowerCase();for(var u=
a.query(w),s=0;s<u.length;s++){var q=u[s].getAttributeNode(r);if(q&&q.specified)return true}return false}:function(w,r){for(var u=a.query(w),s=0;s<u.length;s++)if(u[s].hasAttribute(r))return true;return false},val:function(w,r){var u,s;if(r===i){var q=a.get(w);if(q){if((u=B[q.nodeName.toLowerCase()]||B[q.type])&&"get"in u&&(s=u.get(q,"value"))!==i)return s;s=q.value;return typeof s==="string"?s.replace(f,""):d.isNullOrUndefined(s)?"":s}}else a.query(w).each(function(x){if(x.nodeType===1){var g=r;
if(d.isNullOrUndefined(g))g="";else if(typeof g==="number")g+="";else if(d.isArray(g))g=d.map(g,function(t){return d.isNullOrUndefined(g)?"":t+""});u=B[x.nodeName.toLowerCase()]||B[x.type];if(!u||!("set"in u)||u.set(x,g,"value")===i)x.value=g}})},text:function(w,r){if(r===i){var u=a.get(w);if(c(u))return u[k]||"";else if(a._nodeTypeIs(u,a.TEXT_NODE))return u.nodeValue;return i}else a.query(w).each(function(s){if(c(s))s[k]=r;else if(a._nodeTypeIs(s,a.TEXT_NODE))s.nodeValue=r})}});return a},{requires:["./base",
"ua"]});
KISSY.add("dom/class",function(d,a,h){function i(c){return(b+c+b).replace(e,b)}function m(c,j,o,p){if(!(j=d.trim(j)))return p?false:h;c=a.query(c);var n=c.length,f=j.split(k);j=[];for(var l=0;l<f.length;l++){var v=d.trim(f[l]);v&&j.push(v)}for(l=0;l<n;l++){f=c[l];if(a._isElementNode(f)){f=o(f,j,j.length);if(f!==h)return f}}if(p)return false;return h}var b=" ",k=/[\.\s]\s*\.?/,e=/[\n\t]/g;d.mix(a,{__hasClass:function(c,j){var o=c.className;if(o){o=i(o);return o.indexOf(b+j+b)>-1}else return false},hasClass:function(c,
j){return m(c,j,function(o,p,n){if(o=o.className){o=i(o);for(var f=0,l=true;f<n;f++)if(o.indexOf(b+p[f]+b)<0){l=false;break}if(l)return true}},true)},addClass:function(c,j){m(c,j,function(o,p,n){var f=o.className;if(f){var l=i(f);f=f;for(var v=0;v<n;v++)if(l.indexOf(b+p[v]+b)<0)f+=b+p[v];o.className=d.trim(f)}else o.className=j},h)},removeClass:function(c,j){m(c,j,function(o,p,n){var f=o.className;if(f)if(n){f=i(f);for(var l=0,v;l<n;l++)for(v=b+p[l]+b;f.indexOf(v)>=0;)f=f.replace(v,b);o.className=
d.trim(f)}else o.className=""},h)},replaceClass:function(c,j,o){a.removeClass(c,j);a.addClass(c,o)},toggleClass:function(c,j,o){var p=d.isBoolean(o),n;m(c,j,function(f,l,v){for(var E=0,D;E<v;E++){D=l[E];n=p?!o:a.hasClass(f,D);a[n?"removeClass":"addClass"](f,D)}},h)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(d,a,h,i){function m(s){var q=d.require("event");q&&q.detach(s);a.removeData(s)}function b(s,q,x){if(o(q,a.DOCUMENT_FRAGMENT_NODE)){q=q.childNodes;x=x.childNodes;for(var g=0;q[g];){x[g]&&b(s,q[g],x[g]);g++}}else if(p(q)){q=q.getElementsByTagName("*");x=x.getElementsByTagName("*");for(g=0;q[g];){x[g]&&s(q[g],x[g]);g++}}}function k(s,q){var x=d.require("event");if(!(p(q)&&!a.hasData(s))){var g=a.data(s),t;for(t in g)a.data(q,t,g[t]);if(x){x._removeData(q);x._clone(s,q)}}}
function e(s,q){q.clearAttributes&&q.clearAttributes();q.mergeAttributes&&q.mergeAttributes(s);var x=q.nodeName.toLowerCase(),g=s.childNodes;if(x==="object"&&!q.childNodes.length)for(x=0;x<g.length;x++)q.appendChild(g[x].cloneNode(true));else if(x==="input"&&(s.type==="checkbox"||s.type==="radio")){if(s.checked)q.defaultChecked=q.checked=s.checked;if(q.value!==s.value)q.value=s.value}else if(x==="option")q.selected=s.defaultSelected;else if(x==="input"||x==="textarea")q.defaultValue=s.defaultValue;
q.removeAttribute(a.__EXPANDO)}function c(s,q){var x=null,g,t;if(s&&(s.push||s.item)&&s[0]){q=q||s[0].ownerDocument;x=q.createDocumentFragment();s=d.makeArray(s);g=0;for(t=s.length;g<t;g++)x.appendChild(s[g])}else d.log("Unable to convert "+s+" to fragment.");return x}var j=document;h=h.ie;var o=a._nodeTypeIs,p=a._isElementNode,n=d.isString,f=j.createElement("div"),l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,E=/^\s+/,D=h&&h<9,F=/<|&#?\w+;/,y=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
d.mix(a,{create:function(s,q,x,g){if(p(s)||o(s,a.TEXT_NODE))return a.clone(s);var t=null;if(!n(s))return t;if(g===i)g=true;if(g)s=d.trim(s);if(!s)return t;g=a._creators;var A,C;x=x||j;var G,H="div";if(F.test(s))if(G=y.exec(s))t=x.createElement(G[1]);else{s=s.replace(l,"<$1></$2>");if((G=v.exec(s))&&(A=G[1]))H=A.toLowerCase();A=(g[H]||g.div)(s,x);if(D&&(C=s.match(E)))A.insertBefore(x.createTextNode(C[0]),A.firstChild);C=A.childNodes;if(C.length===1)t=C[0].parentNode.removeChild(C[0]);else if(C.length)t=
c(C,x);else d.error(s+" : create node error")}else t=x.createTextNode(s);s=t;if(d.isPlainObject(q))if(p(s))a.attr(s,q,true);else o(s,a.DOCUMENT_FRAGMENT_NODE)&&a.attr(s.childNodes,q,true);return s},_creators:{div:function(s,q){var x=q&&q!=j?q.createElement("div"):f;x.innerHTML="m<div>"+s+"</div>";return x.lastChild}},html:function(s,q,x,g){s=a.query(s);var t=s[0];if(t)if(q===i)return p(t)?t.innerHTML:null;else{var A=false;q+="";if(!q.match(/<(?:script|style)/i)&&(!D||!q.match(E))&&!r[(q.match(v)||
["",""])[1].toLowerCase()])try{s.each(function(G){if(p(G)){m(G.getElementsByTagName("*"));G.innerHTML=q}});A=true}catch(C){}if(!A){q=a.create(q,0,t.ownerDocument,false);s.each(function(G){if(p(G)){a.empty(G);a.append(q,G,x)}})}g&&g()}},remove:function(s,q){a.query(s).each(function(x){if(!q&&p(x)){var g=x.getElementsByTagName("*");m(g);m(x)}x.parentNode&&x.parentNode.removeChild(x)})},clone:function(s,q,x,g){s=a.get(s);if(!s)return null;var t=s.cloneNode(q);if(p(s)||o(s,a.DOCUMENT_FRAGMENT_NODE)){p(s)&&
e(s,t);q&&b(e,s,t)}if(x){k(s,t);q&&g&&b(k,s,t)}return t},empty:function(s){a.query(s).each(function(q){a.remove(q.childNodes)})},_nl2frag:c});var z=a._creators,B=a.create,w=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},u;for(u in r)(function(s){z[u]=function(q,x){return B("<"+s+">"+q+"</"+s+">",null,x)}})(r[u]);
if(h<8)z.tbody=function(s,q){var x=B("<table>"+s+"</table>",null,q),g=x.children.tags("tbody")[0];x.children.length>1&&g&&!w.test(s)&&g.parentNode.removeChild(g);return x};d.mix(z,{thead:z.tbody,tfoot:z.tbody,caption:z.tbody,colgroup:z.tbody});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(d,a,h){var i=window,m="_ks_data_"+d.now(),b={},k={},e={};e.applet=1;e.object=1;e.embed=1;var c={hasData:function(p,n){if(p)if(n!==h){if(n in p)return true}else if(!d.isEmptyObject(p))return true;return false}},j={hasData:function(p,n){if(p==i)return j.hasData(k,n);return c.hasData(p[m],n)},data:function(p,n,f){if(p==i)return j.data(k,n,f);var l=p[m];if(f!==h){l=p[m]=p[m]||{};l[n]=f}else if(n!==h)return l&&l[n];else return l=p[m]=p[m]||{}},removeData:function(p,n){if(p==
i)return j.removeData(k,n);var f=p[m];if(f)if(n!==h){delete f[n];d.isEmptyObject(f)&&j.removeData(p,h)}else try{delete p[m]}catch(l){p[m]=null}}},o={hasData:function(p,n){var f=p[m];if(!f)return false;return c.hasData(b[f],n)},data:function(p,n,f){if(!e[p.nodeName.toLowerCase()]){var l=p[m];l||(l=p[m]=d.guid());p=b[l];if(f!==h){p=b[l]=b[l]||{};p[n]=f}else if(n!==h)return p&&p[n];else return p=b[l]=b[l]||{}}},removeData:function(p,n){var f=p[m];if(f){var l=b[f];if(l)if(n!==h){delete l[n];d.isEmptyObject(l)&&
o.removeData(p,h)}else{delete b[f];try{delete p[m]}catch(v){}p.removeAttribute&&p.removeAttribute(m)}}}};d.mix(a,{__EXPANDO:m,hasData:function(p,n){for(var f=false,l=a.query(p),v=0;v<l.length;v++)if(f=(f=l[v])&&f.nodeType?o.hasData(f,n):j.hasData(f,n))break;return f},data:function(p,n,f){if(d.isPlainObject(n))for(var l in n)a.data(p,l,n[l]);else if(f===h)if((p=a.get(p))&&p.nodeType)return o.data(p,n,f);else{if(p)return j.data(p,n,f)}else a.query(p).each(function(v){v&&v.nodeType?o.data(v,n,f):j.data(v,
n,f)})},removeData:function(p,n){a.query(p).each(function(f){f&&f.nodeType?o.removeData(f,n):j.removeData(f,n)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(d,a,h){function i(l){for(var v=0;v<l.length;v++){var E=l[v];if(E.nodeType==h.DOCUMENT_FRAGMENT_NODE)i(E.childNodes);else if(c(E,"input")){if(E.type==="checkbox"||E.type==="radio")E.defaultChecked=E.checked}else if(o(E)){E=E.getElementsByTagName("input");for(var D=0;D<E.length;D++)i(E[D])}}}function m(l,v){var E=[],D,F,y;for(D=0;l[D];D++){F=l[D];y=F.nodeName.toLowerCase();if(F.nodeType==h.DOCUMENT_FRAGMENT_NODE)E.push.apply(E,m(j(F.childNodes),v));else if(y==="script"&&
(!F.type||p.test(F.type))){F.parentNode&&F.parentNode.removeChild(F);v&&v.push(F)}else{if(o(F)&&!e.test(y)){y=[];var z,B,w=F.getElementsByTagName("script");for(B=0;B<w.length;B++){z=w[B];(!z.type||p.test(z.type))&&y.push(z)}l.splice.apply(l,[D+1,0].concat(y))}E.push(F)}}return E}function b(l){if(l.src)d.getScript(l.src);else(l=d.trim(l.text||l.textContent||l.innerHTML||""))&&d.globalEval(l)}function k(l,v,E,D){l=h.query(l);if(D)D=[];l=m(l,D);a.ie<8&&i(l);v=h.query(v);var F=l.length,y=v.length;if(!(!F&&
(!D||!D.length)||!y)){l=h._nl2frag(l);var z;if(y>1)z=h.clone(l,true);for(var B=0;B<y;B++){var w=v[B];if(F){var r=B>0?h.clone(z,true):l;E(r,w)}D&&D.length&&d.each(D,b)}}}var e=/^(?:button|input|object|select|textarea)$/i,c=h._nodeName,j=d.makeArray,o=h._isElementNode,p=/\/(java|ecma)script/i;d.mix(h,{insertBefore:function(l,v,E){k(l,v,function(D,F){F.parentNode&&F.parentNode.insertBefore(D,F)},E)},insertAfter:function(l,v,E){k(l,v,function(D,F){F.parentNode&&F.parentNode.insertBefore(D,F.nextSibling)},
E)},appendTo:function(l,v,E){k(l,v,function(D,F){F.appendChild(D)},E)},prependTo:function(l,v,E){k(l,v,function(D,F){F.insertBefore(D,F.firstChild)},E)}});var n={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},f;for(f in n)h[f]=h[n[f]];return h},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(d,a,h,i){function m(r){var u,s=0;u=0;var q=e.body,x=n(r[E]);if(r[w]){u=r[w]();s=u[D];u=u[F];r=c&&e.documentMode!=9&&(f?j.clientTop:q.clientTop)||0;s-=c&&e.documentMode!=9&&(f?j.clientLeft:q.clientLeft)||0;u-=r;if(h.mobile=="apple"){s-=a[z](x);u-=a[B](x)}}return{left:s,top:u}}function b(r,u){var s={left:0,top:0},q=n(r[E]),x=r;u=u||q;do{var g;if(q==u){var t=x;g=m(t);t=n(t[E]);g.left+=a[z](t);g.top+=a[B](t);g=g}else g=m(x);g=g;s.left+=g.left;s.top+=g.top}while(q&&q!=u&&
(x=q.frameElement)&&(q=q.parent));return s}var k=window,e=document,c=h.ie,j=e.documentElement,o=a._isElementNode,p=a._nodeTypeIs,n=a._getWin,f=e.compatMode==="CSS1Compat",l=Math.max,v=parseInt,E="ownerDocument",D="left",F="top",y=d.isNumber,z="scrollLeft",B="scrollTop",w="getBoundingClientRect";d.mix(a,{offset:function(r,u,s){if(u===i){r=a.get(r);var q;if(r)q=b(r,s);return q}a.query(r).each(function(x){if(a.css(x,"position")==="static")x.style.position="relative";var g=b(x),t={},A,C;for(C in u){A=
v(a.css(x,C),10)||0;t[C]=A+u[C]-g[C]}a.css(x,t)})},scrollIntoView:function(r,u,s,q,x){if(r=a.get(r)){if(u)u=a.get(u);if(!u)u=r.ownerDocument;if(x!==true){q=q===i?true:!!q;s=s===i?true:!!s}if(p(u,a.DOCUMENT_NODE))u=n(u);var g=!!n(u);x=a.offset(r);var t=a.outerHeight(r);r=a.outerWidth(r);var A,C,G,H;if(g){g=u;C=a.height(g);A=a.width(g);H={left:a.scrollLeft(g),top:a.scrollTop(g)};g={left:x[D]-H[D],top:x[F]-H[F]};x={left:x[D]+r-(H[D]+A),top:x[F]+t-(H[F]+C)};H=H}else{A=a.offset(u);C=u.clientHeight;G=u.clientWidth;
H={left:a.scrollLeft(u),top:a.scrollTop(u)};g={left:x[D]-A[D]-(v(a.css(u,"borderLeftWidth"))||0),top:x[F]-A[F]-(v(a.css(u,"borderTopWidth"))||0)};x={left:x[D]+r-(A[D]+G+(v(a.css(u,"borderRightWidth"))||0)),top:x[F]+t-(A[F]+C+(v(a.css(u,"borderBottomWidth"))||0))}}if(g.top<0||x.top>0)if(s===true)a.scrollTop(u,H.top+g.top);else if(s===false)a.scrollTop(u,H.top+x.top);else g.top<0?a.scrollTop(u,H.top+g.top):a.scrollTop(u,H.top+x.top);if(q)if(g.left<0||x.left>0)if(s===true)a.scrollLeft(u,H.left+g.left);
else if(s===false)a.scrollLeft(u,H.left+x.left);else g.left<0?a.scrollLeft(u,H.left+g.left):a.scrollLeft(u,H.left+x.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});d.each(["Left","Top"],function(r,u){var s="scroll"+r;a[s]=function(q,x){if(y(q))return arguments.callee(k,q);q=a.get(q);var g,t=n(q);if(t)if(x!==i){x=parseFloat(x);var A=r=="Left"?x:a.scrollLeft(t),C=r=="Top"?x:a.scrollTop(t);t.scrollTo(A,C)}else{g=t["page"+(u?"Y":"X")+"Offset"];if(!y(g)){t=t.document;g=t.documentElement[s];
y(g)||(g=t.body[s])}}else if(o(q))if(x!==i)q[s]=parseFloat(x);else g=q[s];return g}});d.each(["Width","Height"],function(r){a["doc"+r]=function(u){u=a.get(u);u=n(u).document;return l(u.documentElement["scroll"+r],u.body["scroll"+r],a["viewport"+r](u))};a["viewport"+r]=function(u){u=a.get(u);var s="client"+r;u=n(u).document;var q=u.body,x=u.documentElement[s];return u.compatMode==="CSS1Compat"&&x||q&&q[s]||x}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(d,a,h,i){function m(g){return g.replace(D,F)}function b(g,t,A){var C={},G;for(G in t){C[G]=g[p][G];g[p][G]=t[G]}A.call(g);for(G in t)g[p][G]=C[G]}function k(g,t,A){var C;if(g.nodeType===3||g.nodeType===8||!(C=g[p]))return i;t=m(t);var G,H=w[t];t=r[t]||t;if(A!==i){if(A===null||A===z)A=z;else if(!isNaN(Number(A))&&!E[t])A+=B;if(H&&H.set)A=H.set(g,A);if(A!==i)try{g[p][t]=A}catch(I){d.log("css set error :"+I)}return i}else{if(!(H&&"get"in H&&(G=H.get(g,false))!==i))G=C[t];
return G===i?"":G}}function e(g,t,A){if(d.isWindow(g))return t==n?a.viewportWidth(g):a.viewportHeight(g);else if(g.nodeType==9)return t==n?a.docWidth(g):a.docHeight(g);var C=t===n?["Left","Right"]:["Top","Bottom"],G=t===n?g.offsetWidth:g.offsetHeight;if(G>0){A!=="border"&&d.each(C,function(H){A||(G-=parseFloat(a.css(g,"padding"+H))||0);if(A==="margin")G+=parseFloat(a.css(g,A+H))||0;else G-=parseFloat(a.css(g,"border"+H+"Width"))||0});return G}G=a._getComputedStyle(g,t);if(G<0||d.isNullOrUndefined(G))G=
g.style[t]||0;G=parseFloat(G)||0;A&&d.each(C,function(H){G+=parseFloat(a.css(g,"padding"+H))||0;if(A!=="padding")G+=parseFloat(a.css(g,"border"+H+"Width"))||0;if(A==="margin")G+=parseFloat(a.css(g,A+H))||0});return G}var c=document,j=c.documentElement,o=h.ie,p="style",n="width",f="display"+d.now(),l=parseInt,v=/^-?\d+(?:px)?$/i,E={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},D=/-([a-z])/ig,F=function(g,t){return t.toUpperCase()},y=/([A-Z]|^ms)/g,z="",B="px",
w={},r={},u={};if(j[p].cssFloat!==i)r["float"]="cssFloat";else if(j[p].styleFloat!==i)r["float"]="styleFloat";var s,q;d.mix(a,{_camelCase:m,_cssNumber:E,_CUSTOM_STYLES:w,_cssProps:r,_getComputedStyle:function(g,t){var A="",C={},G=g.ownerDocument;t=t.replace(y,"-$1").toLowerCase();if(C=G.defaultView.getComputedStyle(g,null))A=C.getPropertyValue(t)||C[t];if(A==""&&!a.__contains(G.documentElement,g)){t=r[t]||t;A=g[p][t]}return A},style:function(g,t,A){if(d.isPlainObject(t))for(var C in t)a.style(g,C,
t[C]);else if(A===i){g=a.get(g);C="";if(g)C=k(g,t,A);return C}else a.query(g).each(function(G){k(G,t,A)})},css:function(g,t,A){if(d.isPlainObject(t))for(var C in t)a.css(g,C,t[C]);else{t=m(t);C=w[t];if(A===i){g=a.get(g);A="";if(g)if(!(C&&"get"in C&&(A=C.get(g,true))!==i))A=a._getComputedStyle(g,t);return A===i?"":A}else a.style(g,t,A)}},show:function(g){a.query(g).each(function(t){t[p].display=a.data(t,f)||z;if(a.css(t,"display")==="none"){var A;a:{A=t.tagName.toLowerCase();var C,G;if(!u[A]){C=c.body||
c.documentElement;G=c.createElement(A);a.prepend(G,C);var H=a.css(G,"display");C.removeChild(G);if(H==="none"||H===""){if(s)a.prepend(s,C);else{s=c.createElement("iframe");s.frameBorder=s.width=s.height=0;a.prepend(s,C);if(G=a._genEmptyIframeSrc())s.src=G}if(!q||!s.createElement)try{q=s.contentWindow.document;q.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(h.ie&&a._isCustomDomain()?"<script>document.domain = '"+c.domain+"';<\/script>":"")+"</head><body>");q.close()}catch(I){A=
"block";break a}G=q.createElement(A);q.body.appendChild(G);H=a.css(G,"display");C.removeChild(s)}u[A]=H}A=u[A]}a.data(t,f,A);t[p].display=A}})},hide:function(g){a.query(g).each(function(t){var A=t[p],C=A.display;if(C!=="none"){C&&a.data(t,f,C);A.display="none"}})},toggle:function(g){a.query(g).each(function(t){a.css(t,"display")==="none"?a.show(t):a.hide(t)})},addStyleSheet:function(g,t,A){if(d.isString(g)){A=t;t=g;g=window}g=a.get(g);g=a._getWin(g).document;var C;if(A&&(A=A.replace("#",z)))C=a.get("#"+
A,g);if(!C){C=a.create("<style>",{id:A},g);a.get("head",g).appendChild(C);if(C.styleSheet)C.styleSheet.cssText=t;else C.appendChild(g.createTextNode(t))}},unselectable:function(g){a.query(g).each(function(t){if(h.gecko)t[p].MozUserSelect="none";else if(h.webkit)t[p].KhtmlUserSelect="none";else if(h.ie||h.opera){var A=0,C=t.getElementsByTagName("*");for(t.setAttribute("unselectable","on");t=C[A++];)switch(t.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:t.setAttribute("unselectable",
"on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([n,"height"],function(g){a["inner"+(g.charAt(0).toUpperCase()+g.substring(1))]=function(t){return(t=a.get(t))?e(t,g,"padding"):null};a["outer"+(g.charAt(0).toUpperCase()+g.substring(1))]=function(t,A){var C=a.get(t);return C?e(C,g,A?"margin":"border"):null};a[g]=function(t,A){var C=a.css(t,g,A);if(C)C=parseFloat(C);return C}});var x={position:"absolute",visibility:"hidden",display:"block"};d.each(["height",
"width"],function(g){w[g]={get:function(t,A){var C;if(A){if(t.offsetWidth!==0)C=e(t,g);else b(t,x,function(){C=e(t,g)});return C+"px"}},set:function(t,A){if(v.test(A)){A=parseFloat(A);if(A>=0)return A+"px"}else return A}}});d.each(["left","top"],function(g){w[g]={get:function(t,A){if(A){var C=a._getComputedStyle(t,g);if(C==="auto"){C=0;if(d.inArray(a.css(t,"position"),["absolute","fixed"])){C=t[g==="left"?"offsetLeft":"offsetTop"];if(o&&document.documentMode!=9||h.opera)C-=t.offsetParent&&t.offsetParent["client"+
(g=="left"?"Left":"Top")]||0;C=C-(l(a.css(t,"margin-"+g))||0)}C+="px"}return C}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(d,a,h){function i(q,x){var g,t,A=typeof q==="string";if(x===h)t=[p];else t=x===h?[p]:i(x,h);var C=t;if(A){q=z(q);if(C.length==1&&q)g=b(q,C[0])}if(!g){g=[];if(q){for(t=0;t<C.length;t++)D.apply(g,m(q,C[t]));if(g.length>1&&(C.length>1||A&&q.indexOf(y)>-1))u(g)}}g.each=function(G){var H,I;for(I=0;I<this.length;I++){H=this[I];if(G(H,I)===false)break}};return g}function m(q,x){var g=[];if((g=typeof q==="string")&&q.match(r)||!g)g=k(q,x);else{if(g&&q.indexOf(y)>-1){g=[];
var t,A=q.split(/\s*,\s*/);for(t=0;t<A.length;t++)D.apply(g,m(A[t],x));g=g}else{g=[];(t=d.require("sizzle"))?t(q,x,g):o(q);g=g}g=g}return g=g}function b(q,x){var g,t,A,C;if(w.test(q))g=(t=c(q.slice(1),x))?[t]:[];else if(A=r.exec(q)){t=A[1];C=A[2];A=A[3];if(x=t?c(t,x):x)if(A)if(!t||q.indexOf(F)!=-1)g=[].concat(s(A,C,x));else{if((t=c(t,x))&&a.__hasClass(t,A))g=[t]}else if(C)g=j(C,x);g=g||[]}return g}function k(q,x){var g;if(typeof q==="string")g=b(q,x)||[];else if(q&&(f(q)||v(q)))g=n(q,function(t){return e(t,
x)});else if(q&&e(q,x))g=[q];return g}function e(q,x){if(!q)return false;if(x==p)return true;return a.__contains(x,q)}function c(q,x){var g=x;if(x.nodeType!==a.DOCUMENT_NODE)g=x.ownerDocument;g=g.getElementById(q);if(!(g&&g.id===q))if(g&&g.parentNode)if(a.__attr(g,"id")!==q)g=a.filter(B,"#"+q,x)[0]||null;else e(g,x)||(g=null);else g=null;return g}function j(q,x){return x&&l(x.getElementsByTagName(q))||[]}function o(q){d.error("Unsupported selector: "+q)}var p=document,n=d.filter,f=d.isArray,l=d.makeArray,
v=a._isNodeList,E=a._nodeName,D=Array.prototype.push,F=" ",y=",",z=d.trim,B="*",w=/^#[\w-]+$/,r=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,u;(function(){var q,x,g=true;[0,0].sort(function(){g=false;return 0});u=function(t){if(q){x=g;t.sort(q);if(x)for(var A=1,C=t.length;A<C;)if(t[A]===t[A-1])t.splice(A,1);else A++}return t};q=p.documentElement.compareDocumentPosition?function(t,A){if(t==A){x=true;return 0}if(!t.compareDocumentPosition||!A.compareDocumentPosition)return t.compareDocumentPosition?
-1:1;return t.compareDocumentPosition(A)&4?-1:1}:function(t,A){if(t==A){x=true;return 0}else if(t.sourceIndex&&A.sourceIndex)return t.sourceIndex-A.sourceIndex}})();(function(){var q=p.createElement("div");q.appendChild(p.createComment(""));if(q.getElementsByTagName(B).length>0)j=function(x,g){var t=l(g.getElementsByTagName(x));if(x===B){for(var A=[],C=0,G;G=t[C++];)G.nodeType===1&&A.push(G);t=A}return t}})();var s=p.getElementsByClassName?function(q,x,g){if(!g)return[];q=g.getElementsByClassName(q);
var t=0,A=q.length,C;if(x&&x!==B)for(g=[];t<A;++t){C=q[t];E(C,x)&&g.push(C)}else g=l(q);return g}:p.querySelectorAll?function(q,x,g){return g&&l(g.querySelectorAll((x?x:"")+"."+q))||[]}:function(q,x,g){if(!g)return[];x=g.getElementsByTagName(x||B);g=[];for(var t=0,A=x.length,C;t<A;++t){C=x[t];a.__hasClass(C,q)&&g.push(C)}return g};d.mix(a,{query:i,get:function(q,x){return i(q,x)[0]||null},unique:u,filter:function(q,x,g){q=i(q,g);g=d.require("sizzle");var t,A,C,G,H=[];if(typeof x==="string"&&(x=z(x))&&
(t=r.exec(x))){C=t[1];A=t[2];G=t[3];if(C){if(C&&!A&&!G)x=function(I){return a.__attr(I,"id")===C}}else x=function(I){var L=true,J=true;if(A)L=E(I,A);if(G)J=a.__hasClass(I,G);return J&&L}}if(d.isFunction(x))H=d.filter(q,x);else if(x&&g)H=g.matches(x,q);else o(x);return H},test:function(q,x,g){q=i(q,g);return q.length&&a.filter(q,x,g).length===q.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(d,a,h,i){if(!h.ie)return a;var m=document,b=m.documentElement,k=i._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,c=/^-?\d/,j=/opacity=([^)]*)/,o=/alpha\([^)]*\)/i;try{if(d.isNullOrUndefined(b.style.opacity))k.opacity={get:function(f,l){return j.test((l&&f.currentStyle?f.currentStyle.filter:f.style.filter)||"")?parseFloat(RegExp.$1)/100+"":l?"1":""},set:function(f,l){l=parseFloat(l);var v=f.style,E=f.currentStyle,D=isNaN(l)?"":"alpha(opacity="+l*100+")",F=d.trim(E&&E.filter||
v.filter||"");v.zoom=1;if(l>=1&&d.trim(F.replace(o,""))===""){v.removeAttribute("filter");if(E&&!E.filter)return}v.filter=o.test(F)?F.replace(o,D):F+(F?", ":"")+D}}}catch(p){d.log("IE filters ActiveX is disabled. ex = "+p)}h=h.ie==8;var n={};n.thin=h?"1px":"2px";n.medium=h?"3px":"4px";n.thick=h?"5px":"6px";d.each(["","Top","Left","Right","Bottom"],function(f){var l="border"+f+"Width",v="border"+f+"Style";k[l]={get:function(E,D){var F=D?E.currentStyle:0,y=F&&String(F[l])||undefined;if(y&&y.indexOf("px")<
0)y=n[y]&&F[v]!=="none"?n[y]:0;return y}}});if(!(m.defaultView||{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(f,l){l=a._cssProps[l]||l;var v=f.currentStyle&&f.currentStyle[l];if(!e.test(v)&&c.test(v)){var E=f.style,D=E.left,F=f.runtimeStyle&&f.runtimeStyle.left;if(F)f.runtimeStyle.left=f.currentStyle.left;E.left=l==="fontSize"?"1em":v||0;v=E.pixelLeft+"px";E.left=D;if(F)f.runtimeStyle.left=F}return v===""?"auto":v};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(d,a,h){function i(e,c,j,o,p,n){if(!(e=a.get(e)))return null;if(c===0)return e;n||(e=e[j]);if(!e)return null;p=p&&a.get(p)||null;if(c===h)c=1;n=[];var f=d.isArray(c),l,v;if(d.isNumber(c)){l=0;v=c;c=function(){return++l===v}}for(;e&&e!=p;){if(k(e)&&m(e,c)&&(!o||o(e))){n.push(e);if(!f)break}e=e[j]}return f?n:n[0]||null}function m(e,c){if(!c)return true;if(d.isArray(c))for(var j=0;j<c.length;j++){if(a.test(e,c[j]))return true}else if(a.test(e,c))return true;return false}
function b(e,c,j){var o=[];var p=e=a.get(e);if(e&&j)p=e.parentNode;if(p){j=0;for(p=p.firstChild;p;p=p.nextSibling)if(k(p)&&p!==e&&(!c||a.test(p,c)))o[j++]=p}return o}var k=a._isElementNode;d.mix(a,{closest:function(e,c,j){return i(e,c,"parentNode",function(o){return o.nodeType!=a.DOCUMENT_FRAGMENT_NODE},j,true)},parent:function(e,c,j){return i(e,c,"parentNode",function(o){return o.nodeType!=a.DOCUMENT_FRAGMENT_NODE},j)},first:function(e,c){var j=a.get(e);return i(j&&j.firstChild,c,"nextSibling",h,
h,true)},last:function(e,c){var j=a.get(e);return i(j&&j.lastChild,c,"previousSibling",h,h,true)},next:function(e,c){return i(e,c,"nextSibling",h)},prev:function(e,c){return i(e,c,"previousSibling",h)},siblings:function(e,c){return b(e,c,true)},children:function(e,c){return b(e,c,h)},__contains:document.documentElement.contains?function(e,c){if(e.nodeType==a.TEXT_NODE)return false;var j;if(c.nodeType==a.TEXT_NODE){c=c.parentNode;j=true}else if(c.nodeType==a.DOCUMENT_NODE)return false;else j=e!==c;
return j&&(e.contains?e.contains(c):true)}:document.documentElement.compareDocumentPosition?function(e,c){return!!(e.compareDocumentPosition(c)&16)}:0,contains:function(e,c){e=a.get(e);c=a.get(c);if(e&&c)return a.__contains(e,c)},equals:function(e,c){e=a.query(e);c=a.query(c);if(e.length!=c.length)return false;for(var j=e.length;j>=0;j--)if(e[j]!=c[j])return false;return true}});return a},{requires:["./base"]});
KISSY.add("dom",function(d,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var d={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};d.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=d.F1&&a.keyCode<=d.F12)return false;switch(a.keyCode){case d.ALT:case d.CAPS_LOCK:case d.CONTEXT_MENU:case d.CTRL:case d.DOWN:case d.END:case d.ESC:case d.HOME:case d.INSERT:case d.LEFT:case d.MAC_FF_META:case d.META:case d.NUMLOCK:case d.NUM_CENTER:case d.PAGE_DOWN:case d.PAGE_UP:case d.PAUSE:case d.PHANTOM:case d.PRINT_SCREEN:case d.RIGHT:case d.SHIFT:case d.UP:case d.WIN_KEY:case d.WIN_KEY_RIGHT:return false;
default:return true}};d.isCharacterKey=function(a){if(a>=d.ZERO&&a<=d.NINE)return true;if(a>=d.NUM_ZERO&&a<=d.NUM_MULTIPLY)return true;if(a>=d.A&&a<=d.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case d.SPACE:case d.QUESTION_MARK:case d.NUM_PLUS:case d.NUM_MINUS:case d.NUM_PERIOD:case d.NUM_DIVISION:case d.SEMICOLON:case d.DASH:case d.EQUALS:case d.COMMA:case d.PERIOD:case d.SLASH:case d.APOSTROPHE:case d.SINGLE_QUOTE:case d.OPEN_SQUARE_BRACKET:case d.BACKSLASH:case d.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return d});
KISSY.add("event/object",function(d,a){function h(b,k,e){this.currentTarget=b;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=e;this.target=b}this.currentTarget=b;this.fixed=true}var i=document,m="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis".split(" ");d.augment(h,
{_fix:function(){var b=this.originalEvent,k=m.length,e,c=this.currentTarget;for(c=c.nodeType===9?c:c.ownerDocument||i;k;){e=m[--k];this[e]=b[e]}if(!this.target)this.target=this.srcElement||i;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=c.documentElement;k=c.body;this.pageX=this.clientX+(b&&b.scrollLeft||k&&k.scrollLeft||
0)-(b&&b.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||k&&k.scrollTop||0)-(b&&b.clientTop||k&&k.clientTop||0)}if(this.which===a)this.which=this.charCode===a?this.keyCode:this.charCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=true;this.stopPropagation()},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return h});
KISSY.add("event/base",function(d,a,h,i){function m(y,z,B){if((B=d.trim(B))&&B.indexOf(n)>0){var w=j(arguments);f(B.split(/\s+/),function(r){var u=[].concat(w);u.splice(0,3,z,r);F[y].apply(F,u)});return true}return 0}function b(y){return y&&y.nodeType!==3&&y.nodeType!==8}function k(y,z,B,w,r){var u=E[z]||{};if(!w.length&&(!u.setup||u.setup.call(y)===false))o(y,z,B);u.add&&u.add.call(y,r)}var e=document,c=a._nodeName,j=d.makeArray,o=e.addEventListener?function(y,z,B,w){y.addEventListener&&y.addEventListener(z,
B,!!w)}:function(y,z,B){y.attachEvent&&y.attachEvent("on"+z,B)},p=e.removeEventListener?function(y,z,B,w){y.removeEventListener&&y.removeEventListener(z,B,!!w)}:function(y,z,B){y.detachEvent&&y.detachEvent("on"+z,B)},n=" ",f=d.each,l="",v="trigger-none-"+d.now(),E={},D="ksEventTargetId"+d.now(),F={_clone:function(y,z){if(!(z.nodeType!==a.ELEMENT_NODE||!F._hasData(y))){var B=F._data(y).events;f(B,function(w,r){f(w,function(u){F.on(z,r,u.fn,u.scope,u.data)})})}},_hasData:function(y){return a.hasData(y,
D)},_data:function(){var y=j(arguments);y.splice(1,0,D);return a.data.apply(a,y)},_removeData:function(){var y=j(arguments);y.splice(1,0,D);return a.removeData.apply(a,y)},special:E,__add:function(y,z,B,w,r,u){var s;if(!(!z||!d.isFunction(w)||y&&!b(z))){(s=F._data(z))||F._data(z,s={});var q=s.events=s.events||{};q=q[B]=q[B]||[];w={fn:w,scope:r,data:u};var x=s.handler;if(!x){x=s.handler=function(g,t){if(!(g&&g.type==l)){var A=x.target;if(!g||!g.fixed)g=new h(A,g);var C=g.type;d.isPlainObject(t)&&d.mix(g,
t);if(C)g.type=C;return F._handle(A,g)}};x.target=z}if(y){k(z,B,x,q,w);z=null}q.push(w)}},add:function(y,z,B,w,r){if(m("add",y,z,B,w,r))return y;a.query(y).each(function(u){F.__add(true,u,z,B,w,r)});return y},__getListeners:function(y,z){return(F.__getEvents(y)||{})[z]||[]},__getEvents:function(y){return(y=F._data(y))&&y.events},__remove:function(y,z,B,w,r,u){if(!(!z||y&&!b(z))){var s=F._data(z),q=s&&s.events,x,g,t,A,C,G=y&&E[B]||{};if(q)if(B===i)for(B in q)F.remove.call(F,z,B);else{r=r||z;if(x=q[B]){g=
x.length;if(w&&g){A=t=0;for(C=[];t<g;++t){var H=false,I=x[t],L=I.scope||z;if(w!==I.fn||r!==L){C[A++]=I;H=true}else if(u!==J){var J=I.data;if(!u&&J||J&&!u){C[A++]=I;H=true}else if(u&&J)if(!u.equals||!J.equals)d.error("no equals in data");else if(!J.equals(u)){C[A++]=I;H=true}}!H&&G.remove&&G.remove.call(z,I)}q[B]=C;g=C.length}if(w===i||g===0){if(y&&(!G.tearDown||G.tearDown.call(z)===false))p(z,B,s.handler);delete q[B]}}if(d.isEmptyObject(q)){s.handler.target=null;delete s.handler;delete s.events;F._removeData(z)}}}},
remove:function(y,z,B,w,r){if(m("remove",y,z,B,w))return y;a.query(y).each(function(u){F.__remove(true,u,z,B,w,r)});return y},_handle:function(y,z){for(var B=F.__getListeners(y,z.type).slice(0),w,r,u=0,s=B.length;u<s;++u){w=B[u];w=w.fn.call(w.scope||y,z,w.data);if(w!==i){if(r!==false)r=w;w===false&&z.halt()}if(z.isImmediatePropagationStopped)break}return r},fire:function(y,z,B,w){if(!m("fire",y,z,B,w)){B=B||{};B.type=z;a.query(y).each(function(r){var u=B;if(b(r)){var s=new h(r,i,z);d.mix(s,u);s.type=
z;w&&s.halt();u=r;var q="on"+z;do{s.currentTarget=u;F._handle(u,s);u[q]&&u[q].call(u)===false&&s.preventDefault();u=u.parentNode||u.ownerDocument||u===r.ownerDocument&&window}while(u&&!s.isPropagationStopped);if(!s.isDefaultPrevented)if(!(z==="click"&&c(r,"a"))){var x;try{if(q&&r[z]){if(x=r[q])r[q]=null;l=z;r[z]()}}catch(g){d.log("trigger action error : ");d.log(g)}if(x)r[q]=x;l=v}}})}},__batchForType:m,__simpleAdd:o,__simpleRemove:p};F.on=F.add;F.detach=F.remove;return F},{requires:["dom","event/object"]});
KISSY.add("event/target",function(d,a,h){function i(f,l,v){if(v instanceof h){v.currentTarget=f;return v}f=new h(f,undefined,l);d.isPlainObject(v)&&d.mix(f,v);f.type=l;return f}function m(f){f[j]=f[j]||{};return f[j]}function b(f){f[o]=f[o]||{};return f[o]}function k(f,l){var v=m(f);return v[l]&&v[l].bubbles||v[p]&&v[p].bubbles}function e(f){return function(l,v,E){var D=this;c(l,function(F){a["__"+f](false,D,F,v,E)});return D}}function c(f,l){d.each(d.trim(f).split(/\s+/),l)}var j="__~ks_publish",
o="__~ks_bubble_targets",p="*",n={fire:function(f,l){var v=this,E,D,F;if((f=d.trim(f))&&f.indexOf(" ")>0){c(f,function(y){D=v.fire(y,l);if(D===false)E=false});return E}F=i(v,f,l);E=a._handle(v,F);if(!F.isPropagationStopped&&k(v,f)){D=v.bubble(f,F);if(D===false)E=D}return E},publish:function(f,l){m(this)[f]=l},bubble:function(f,l){var v,E=b(this);d.each(E,function(D){D=D.fire(f,l);if(v!==false)v=D});return v},addTarget:function(f){b(this)[d.stamp(f)]=f},removeTarget:function(f){delete b(this)[d.stamp(f)]},
on:e("add")};n.detach=e("remove");return n},{requires:["./base","./object"]});KISSY.add("event/focusin",function(d,a,h){a.ie||d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(i){function m(k){return h.fire(k.target,i.name)}var b=0;h.special[i.name]={setup:function(){b++===0&&document.addEventListener(i.fix,m,true)},tearDown:function(){--b===0&&document.removeEventListener(i.fix,m,true)}}});return h},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(d,a,h,i){var m=document;i=m.documentMode||i.ie;if(!("onhashchange"in window)||i&&i<8){var b=window,k="<html><head><title>"+(m.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",e=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},c,j,o=function(){var v=e();if(v!==j){j=v;p(v)}c=setTimeout(o,50)},p=i&&i<8?function(v){v=d.substitute(k,{hash:v,head:h._isCustomDomain()?"<script>document.domain = '"+m.domain+"';<\/script>":""});var E=
l.contentWindow.document;try{E.open();E.write(v);E.close()}catch(D){}}:function(){a.fire(b,"hashchange")},n=function(){c||o()},f=function(){c&&clearTimeout(c);c=0},l;if(i<8){n=function(){if(!l){var v=h._genEmptyIframeSrc();l=h.create("<iframe "+(v?'src="'+v+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');h.prepend(l,m.documentElement);a.add(l,"load",function(){a.remove(l,"load");p(e());a.add(l,"load",E);o()});m.onpropertychange=function(){try{if(event.propertyName===
"title")l.contentWindow.document.title=m.title+" - "+e()}catch(D){}};var E=function(){var D=d.trim(l.contentWindow.document.body.innerText),F=e();if(D!=F){d.log("set loc hash :"+D);j=location.hash=D}a.fire(b,"hashchange")}}};f=function(){c&&clearTimeout(c);c=0;a.detach(l);h.remove(l);l=0}}a.special.hashchange={setup:function(){if(this===b){j=e();n()}},tearDown:function(){this===b&&f()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(d,a,h){function i(f){h.removeData(f,o);if(h.hasData(f,p)){var l=h.data(f,p);clearTimeout(l);h.removeData(f,p)}}function m(f){i(f.target)}function b(f){h.hasData(f,p)||h.data(f,p,setTimeout(function(){var l=f.value,v=h.data(f,o);if(l!==v){a.fire(f,c,{prevVal:v,newVal:l},true);h.data(f,o,l)}h.data(f,p,setTimeout(arguments.callee,n))},n))}function k(f){var l=f.target;f.type=="focus"&&h.data(l,o,l.value);b(l)}function e(f){i(f);a.remove(f,"blur",m);a.remove(f,"mousedown keyup keydown focus",
k)}var c="valuechange",j=h._nodeName,o="event/valuechange/history",p="event/valuechange/poll",n=50;a.special[c]={setup:function(){if(j(this,"input")||j(this,"textarea")){e(this);a.on(this,"blur",m);a.on(this,"mousedown keyup keydown focus",k)}},tearDown:function(){e(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(d,a,h){function i(c){return c.fn===undefined&&c.selector===undefined?true:c.fn===undefined?this.selector==c.selector:this.fn==c.fn&&this.selector==c.selector&&this.scope==c.scope}function m(c,j){var o=a.closest(c.target,[j.selector],this);if(o){for(var p=c.currentTarget,n=0;n<o.length;n++){c.currentTarget=o[n];j.fn.call(j.scope||this,c)===false&&c.halt();if(c.isPropagationStopped)break}c.currentTarget=p}}function b(c,j){var o,p=c.target,n=c.relatedTarget;c.type=
j.preType;if(p=a.closest(p,j.selector,this))if(p!==n&&(!n||!a.contains(p,n))){n=c.currentTarget;c.currentTarget=p;o=j.fn.call(j.scope||this,c);c.currentTarget=n}return o}var k=h.__batchForType,e={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};d.mix(h,{delegate:function(c,j,o,p,n){if(k("delegate",c,j,o,p,n))return c;a.query(c).each(function(f){var l=j,v=m;if(e[j]){j=e[l].type;v=e[l].handler||v}h.on(f,j,v,f,{fn:p,selector:o,
preType:l,scope:n,equals:i})});return c},undelegate:function(c,j,o,p,n){if(k("undelegate",c,j,o,p,n))return c;a.query(c).each(function(f){var l=j,v=m;if(e[j]){j=e[l].type;v=e[l].handler||v}h.remove(f,j,v,f,{fn:p,selector:o,preType:l,scope:n,equals:i})});return c}});return h},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(d,a,h,i){i.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(m){function b(k){var e=k.relatedTarget;k.type=m.name;try{if(!(e&&e!==document&&!e.parentNode))if(e!==this&&(!e||!h.contains(this,e)))a._handle(this,k)}catch(c){d.log("withinElement error : ","error");d.log(c,"error")}}a.special[m.name]={setup:function(){a.add(this,m.fix,b)},tearDown:function(){a.remove(this,m.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event/submit",function(d,a,h,i){d=document.documentMode;if(a.ie&&(a.ie<9||d&&d<9)){var m=i._nodeName;h.special.submit={setup:function(){if(m(this,"form"))return false;h.on(this,"click keypress",b)},tearDown:function(){if(m(this,"form"))return false;h.remove(this,"click keypress",b);i.query("form",this).each(function(e){if(e.__submit__fix){e.__submit__fix=0;h.remove(e,"submit",k)}})}};var b=function(e){e=e.target;if((e=m(e,"input")||m(e,"button")?e.form:null)&&!e.__submit__fix){e.__submit__fix=
1;h.on(e,"submit",k)}},k=function(e){this.parentNode&&h.fire(this.parentNode,"submit",e)}}},{requires:["ua","./base","dom"]});
KISSY.add("event/change",function(d,a,h,i){d=document.documentMode;if(a.ie&&(a.ie<9||d&&d<9)){var m=/^(?:textarea|input|select)$/i,b=function(o){o=o.type;return o=="checkbox"||o=="radio"};h.special.change={setup:function(){if(m.test(this.nodeName))if(b(this)){h.on(this,"propertychange",k);h.on(this,"click",e)}else return false;else h.on(this,"beforeactivate",c)},tearDown:function(){if(m.test(this.nodeName))if(b(this)){h.remove(this,"propertychange",k);h.remove(this,"click",e)}else return false;else{h.remove(this,
"beforeactivate",c);i.query("textarea,input,select",this).each(function(o){if(o.__changeHandler){o.__changeHandler=0;h.remove(o,"change",j)}})}}};var k=function(o){if(o.originalEvent.propertyName=="checked")this.__changed=1},e=function(o){if(this.__changed){this.__changed=0;h.fire(this,"change",o)}},c=function(o){o=o.target;if(m.test(o.nodeName)&&!o.__changeHandler){o.__changeHandler=1;h.on(o,"change",j)}},j=function(o){if(!b(this)){var p;if(p=this.parentNode)h.fire(p,"change",o)}}}},{requires:["ua",
"./base","dom"]});
KISSY.add("event/mousewheel",function(d,a,h){function i(b){var k=a._data(this).handler,e,c,j,o=b.detail;if(b.wheelDelta)j=b.wheelDelta/120;if(b.detail)j=-(o%3==0?o/3:o);if(b.axis!==undefined)if(b.axis===b.HORIZONTAL_AXIS){c=0;e=-1*j}else if(b.axis===b.VERTICAL_AXIS){e=0;c=j}if(b.wheelDeltaY!==undefined)c=b.wheelDeltaY/120;if(b.wheelDeltaX!==undefined)e=-1*b.wheelDeltaX/120;if(!e&&!c)c=j;return k(b,{deltaY:c,delta:j,deltaX:e,type:"mousewheel"})}var m=h.gecko?"DOMMouseScroll":"mousewheel";a.special.mousewheel=
{setup:function(){var b;b=a._data(this)[b]=d.bind(i,this);a.__simpleAdd(this,m,b)},tearDown:function(){var b,k=a._data(this);b=k[b];a.__simpleRemove(this,m,b);delete k[b]}}},{requires:["./base","ua","./object"]});KISSY.add("event",function(d,a,h,i,m){h.KeyCodes=a;h.Target=i;h.Object=m;return h},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter","event/submit","event/change","event/mousewheel"]});
KISSY.add("node/base",function(d,a,h){function i(e,c,j){if(!(this instanceof i))return new i(e,c,j);if(e)if(d.isString(e)){e=a.create(e,c,j);if(e.nodeType===a.DOCUMENT_FRAGMENT_NODE){m.push.apply(this,b(e.childNodes));return h}}else if(d.isArray(e)||k(e)){m.push.apply(this,b(e));return h}else e=e;else return h;this[0]=e;this.length=1;return h}var m=Array.prototype,b=d.makeArray,k=a._isNodeList;d.augment(i,{length:0,item:function(e){return d.isNumber(e)?e>=this.length?null:new i(this[e]):new i(e)},
add:function(e,c,j){if(d.isNumber(c)){j=c;c=h}e=i.all(e,c).getDOMNodes();c=new i(this);if(j===h)m.push.apply(c,e);else{j=[j,0];j.push.apply(j,e);m.splice.apply(c,j)}return c},slice:function(e,c){return new i(m.slice.call(this,e,c))},getDOMNodes:function(){return m.slice.call(this)},each:function(e,c){var j=this;d.each(j,function(o,p){o=new i(o);return e.call(c||o,o,p,j)});return j},getDOMNode:function(){return this[0]},end:function(){return this.__parent||this},all:function(e){e=this.length>0?i.all(e,
this):new i;e.__parent=this;return e},one:function(e){e=this.all(e);if(e=e.length?e.slice(0,1):null)e.__parent=this;return e}});d.mix(i,{all:function(e,c){if(d.isString(e)&&(e=d.trim(e))&&e.length>=3&&d.startsWith(e,"<")&&d.endsWith(e,">")){if(c){if(c.getDOMNode)c=c.getDOMNode();if(c.ownerDocument)c=c.ownerDocument}return new i(e,h,c)}return new i(a.query(e,c))},one:function(e,c){var j=i.all(e,c);return j.length?j.slice(0,1):null}});d.mix(i,a._NODE_TYPE);return i},{requires:["dom"]});
KISSY.add("node/attach",function(d,a,h,i,m){function b(c,j,o){o.unshift(j);c=a[c].apply(a,o);if(c===m)return j;return c}var k=i.prototype,e=d.makeArray;d.each(["equals","contains","scrollTop","scrollLeft","height","width","innerHeight","innerWidth","outerHeight","outerWidth","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","scrollIntoView","remove","empty","removeData",
"hasData","unselectable"],function(c){k[c]=function(){var j=e(arguments);return b(c,this,j)}});d.each(["filter","first","parent","closest","next","prev","clone","siblings","children"],function(c){k[c]=function(){var j=e(arguments);j.unshift(this);j=a[c].apply(a,j);j=j===m?this:j===null?null:new i(j);return j}});d.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,data:1},function(c,j){k[j]=function(){var o=e(arguments);if(o[c]===m&&!d.isObject(o[0])){o.unshift(this);o=a[j].apply(a,o)}else o=
b(j,this,o);return o}});d.each(["on","detach","fire","delegate","undelegate"],function(c){k[c]=function(){var j=e(arguments);j.unshift(this);return h[c].apply(h,j)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(d,a,h,i){d.each(["append","prepend","before","after"],function(m){i.prototype[m]=function(b){b=b;if(d.isString(b))b=a.create(b);b&&a[m](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var d=Math.PI,a=Math.pow,h=Math.sin,i=1.70158,m={swing:function(b){return-Math.cos(b*d)/2+0.5},easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;
return-(a(2,10*(b-=1))*h((b-0.075)*2*d/0.3))},elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*h((b-0.075)*2*d/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*h((b-0.1125)*2*d/0.45);return a(2,-10*(b-=1))*h((b-0.1125)*2*d/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((i+1)*b-i)},backOut:function(b){return(b-=1)*b*((i+1)*b+i)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((i*=1.525)+1)*b-i);return 0.5*((b-=2)*b*
(((i*=1.525)+1)*b+i)+2)},bounceIn:function(b){return 1-m.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return m.bounceIn(b*2)*0.5;return m.bounceOut(b*2-1)*0.5+0.5}};m.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",
easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return m});
KISSY.add("anim/manager",function(d){var a=d.stamp;return{interval:15,runnings:{},timer:null,start:function(h){var i=a(h);if(!this.runnings[i]){this.runnings[i]=h;this.startTimer()}},stop:function(h){this.notRun(h)},notRun:function(h){delete this.runnings[a(h)];d.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(h){this.notRun(h)},resume:function(h){this.start(h)},startTimer:function(){var h=this;if(!h.timer)h.timer=setTimeout(function(){if(h.runFrames())h.stopTimer();else{h.timer=0;
h.startTimer()}},h.interval)},stopTimer:function(){var h=this.timer;if(h){clearTimeout(h);this.timer=0}},runFrames:function(){var h=1,i=this.runnings,m;for(m in i)if(i.hasOwnProperty(m)){h=0;i[m]._frame()}return h}}});
KISSY.add("anim/fx",function(d,a,h){function i(b){this.load(b)}function m(b,k){if((!b.style||b.style[k]==null)&&a.attr(b,k,h,1)!=null)return 1;return 0}d.augment(i,{load:function(b){d.mix(this,b);this.startTime=d.now();this.pos=0;this.unit=this.unit||""},frame:function(b){var k=0,e=d.now();if(b||e>=this.duration+this.startTime)k=this.pos=1;else{b=e-this.startTime;this.pos=this.easing(b/this.duration)}this.update();return k},interpolate:function(b,k,e){return d.isNumber(b)&&d.isNumber(k)?(b+(k-b)*
e).toFixed(3):h},update:function(){var b=this.prop,k=this.elem,e=this.from,c=this.to,j=this.interpolate(e,c,this.pos);if(j===h){if(!this.finished){this.finished=1;a.css(k,b,c);d.log(this.prop+" update directly ! : "+j+" : "+e+" : "+c)}}else{j+=this.unit;m(k,b)?a.attr(k,b,j,1):a.css(k,b,j)}},cur:function(){var b=this.prop,k=this.elem;if(m(k,b))return a.attr(k,b,h,1);var e;b=a.css(k,b);return isNaN(e=parseFloat(b))?!b||b==="auto"?0:b:e}});i.Factories={};i.getFx=function(b){return new (i.Factories[b.prop]||
i)(b)};return i},{requires:["dom"]});
KISSY.add("anim/queue",function(d,a){function h(e,c,j){c=c||b;var o,p=a.data(e,m);if(!p&&!j)a.data(e,m,p={});if(p){o=p[c];if(!o&&!j)o=p[c]=[]}return o}function i(e,c){c=c||b;var j=a.data(e,m);j&&delete j[c];d.isEmptyObject(j)&&a.removeData(e,m)}var m=d.guid("ks-queue-"+d.now()+"-"),b=d.guid("ks-queue-"+d.now()+"-"),k={queueCollectionKey:m,queue:function(e){var c=h(e.elem,e.config.queue);c.push(e);c[0]!=="..."&&k.dequeue(e);return c},remove:function(e){var c=h(e.elem,e.config.queue,1);if(c){e=d.indexOf(e,
c);e>-1&&c.splice(e,1)}},removeQueues:function(e){a.removeData(e,m)},removeQueue:i,dequeue:function(e){var c=e.elem;e=e.config.queue;var j=h(c,e,1),o=j&&j.shift();if(o=="...")o=j.shift();if(o){j.unshift("...");o._runInternal()}else i(c,e)}};return k},{requires:["dom"]});
KISSY.add("anim/base",function(d,a,h,i,m,b,k,e){function c(z,B,w,r,u){if(z=a.get(z)){if(!(this instanceof c))return new c(z,B,w,r,u);B=d.isString(B)?d.unparam(B,";",":"):d.clone(B);for(var s in B){var q=f(d.trim(s));if(s!=q){B[q]=B[s];delete B[s]}}w=d.isPlainObject(w)?d.clone(w):{duration:parseFloat(w)||undefined,easing:r,complete:u};this.config=w=d.merge(D,w);w.duration*=1E3;this.elem=this.domEl=z;this.props=B;this._backupProps={};this._fxs={};this.on("complete",j)}}function j(z){var B=this._backupProps,
w=this.config;d.isEmptyObject(B=this._backupProps)||a.css(this.elem,B);w.complete&&w.complete.call(this,z)}function o(){var z=this.config,B=this._backupProps,w=this.elem,r,u,s,q=z.specialEasing||{},x=this._fxs,g=this.props;p(this);if(this.fire("start")===false)this.stop(0);else{if(l(w)){r=a.css(w,"display")=="none";for(s in g){u=g[s];if(u=="hide"&&r||u=="show"&&!r){this.stop(1);return}}}d.each(g,function(L,J){if(g.hasOwnProperty(J)){var K;if(d.isArray(L)){K=q[J]=L[1];g[J]=L[0]}else K=q[J]=q[J]||z.easing;
if(d.isString(K))K=q[J]=i[K];q[J]=K||i.easeNone}});d.each(E,function(L,J){var K,M,O;if(O=g[J]){M={};d.each(L,function(N){M[N]=a.css(w,N);q[N]=q[J]});a.css(w,J,O);for(K in M){g[K]=a.css(w,K);a.css(w,K,M[K])}delete g[J]}});for(s in g)if(g.hasOwnProperty(s)){u=d.trim(g[s]);var t,A,C={elem:w,prop:s,duration:z.duration,easing:q[s]},G=k.getFx(C);if(d.inArray(u,v)){B[s]=a.style(w,s);if(u=="toggle")u=r?"show":"hide";if(u=="hide"){t=0;A=G.cur();B.display="none"}else{a.show(w);A=0;t=G.cur()}u=t}else{t=u;A=
G.cur()}u+="";var H="",I=u.match(F);if(I){t=parseFloat(I[2]);if((H=I[3])&&H!=="px"){a.css(w,s,u);A=t/G.cur()*A;a.css(w,s,A+H)}if(I[1])t=(I[1]==="-="?-1:1)*t+A}C.from=A;C.to=t;C.unit=H;G.load(C);x[s]=G}if(l(w)&&(g.width||g.height)){d.mix(B,{overflow:a.css(w,"overflow"),"overflow-x":a.css(w,"overflowX"),"overflow-y":a.css(w,"overflowY")});a.css(w,"overflow","hidden");if(a.css(w,"display")==="inline"&&a.css(w,"float")==="none")m.ie?a.css(w,"zoom",1):a.css(w,"display","inline-block")}b.start(this)}}function p(z){var B=
z.elem,w=a.data(B,y);w||a.data(B,y,w={});w[d.stamp(z)]=z}function n(z,B,w,r){w&&r!==false&&e.removeQueue(z,r);z=a.data(z,y);z=d.merge(z);for(var u in z){w=z[u];w.config.queue==r&&w.stop(B)}}var f=a._camelCase,l=a._isElementNode,v=["hide","show","toggle"],E={border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom",
"marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]},D={duration:1,easing:"easeNone"},F=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;c.SHORT_HANDS=E;d.augment(c,h.Target,{isRunning:function(){var z;z=(z=a.data(this.elem,y))?!!z[d.stamp(this)]:0;return z},_runInternal:o,run:function(){this.config.queue===false?o.call(this):e.queue(this);return this},_frame:function(){var z,B=1,w=this._fxs;for(z in w)if(w.hasOwnProperty(z))B&=w[z].frame();if(this.fire("step")===
false||B)this.stop(B)},stop:function(z){var B=this.config.queue,w,r=this._fxs;if(this.isRunning()){if(z){for(w in r)r.hasOwnProperty(w)&&r[w].frame(1);this.fire("complete")}b.stop(this);z=this.elem;if(w=a.data(z,y)){delete w[d.stamp(this)];d.isEmptyObject(w)&&a.removeData(z,y)}B!==false&&e.dequeue(this);return this}else B!==false&&e.remove(this)}});var y=d.guid("ks-anim-unqueued-"+d.now()+"-");c.stop=function(z,B,w,r){if(r===null||d.isString(r)||r===false)return n.apply(undefined,arguments);w&&e.removeQueues(z);
var u=a.data(z,y);u=d.merge(u);for(var s in u)u[s].stop(B)};c.isRunning=function(z){return(z=a.data(z,y))&&!d.isEmptyObject(z)};c.Q=e;return c},{requires:["dom","event","./easing","ua","./manager","./fx","./queue"]});
KISSY.add("anim/color",function(d,a,h,i){function m(n){n+="";var f;if(f=n.match(j))return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])];else if(f=n.match(o))return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])];else if(f=n.match(p)){for(n=1;n<f.length;n++)if(f[n].length<2)f[n]+=f[n];return[parseInt(f[1],k),parseInt(f[2],k),parseInt(f[3],k)]}if(c[n=n.toLowerCase()])return c[n];d.log("only allow rgb or hex color string : "+n,"warn");return[255,255,255]}function b(){b.superclass.constructor.apply(this,
arguments)}var k=16,e=Math.floor,c={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},j=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,o=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,p=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;a=h.SHORT_HANDS;
a.background=["backgroundColor"];a.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];a.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");a.borderBottom.push("borderBottomColor");a.borderLeft.push("borderLeftColor");a.borderRight.push("borderRightColor");a.borderTop.push("borderTopColor");d.extend(b,i,{load:function(){b.superclass.load.apply(this,arguments);if(this.from)this.from=m(this.from);if(this.to)this.to=m(this.to)},
interpolate:function(n,f,l){var v=b.superclass.interpolate;if(n.length==3&&f.length==3)return"rgb("+[e(v(n[0],f[0],l)),e(v(n[1],f[1],l)),e(v(n[2],f[2],l))].join(", ")+")";else if(n.length==4||f.length==4)return"rgba("+[e(v(n[0],f[0],l)),e(v(n[1],f[1],l)),e(v(n[2],f[2],l)),e(v(n[3]||1,f[3]||1,l))].join(", ")+")";else d.log("anim/color unknown value : "+n)}});d.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(n){i.Factories[n]=
b});return b},{requires:["dom","./base","./fx"]});KISSY.add("anim",function(d,a,h){a.Easing=h;return a},{requires:["anim/base","anim/easing","anim/color"]});
KISSY.add("node/anim",function(d,a,h,i,m){function b(e,c,j){var o=[],p={};for(j=j||0;j<c;j++)o.push.apply(o,k[j]);for(j=0;j<o.length;j++)p[o[j]]=e;return p}var k=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];d.augment(i,{animate:function(){var e=d.makeArray(arguments);d.each(this,function(c){h.apply(m,[c].concat(e)).run()});return this},stop:function(e,c,j){d.each(this,function(o){h.stop(o,e,c,j)});
return this},isRunning:function(){for(var e=0;e<this.length;e++)if(h.isRunning(this[e]))return 1;return 0}});d.each({show:b("show",3),hide:b("hide",3),toggle:b("toggle",3),fadeIn:b("show",3,2),fadeOut:b("hide",3,2),fadeToggle:b("toggle",3,2),slideDown:b("show",1),slideUp:b("hide",1),slideToggle:b("toggle",1)},function(e,c){i.prototype[c]=function(j,o,p){a[c]&&!j?a[c](this):d.each(this,function(n){h(n,e,j,p||"easeOut",o).run()});return this}})},{requires:["dom","anim","./base"]});
KISSY.add("node",function(d,a,h){h.KeyCodes=a.KeyCodes;return h},{requires:["event","node/base","node/attach","node/override","node/anim"]});
KISSY.add("json/json2",function(d,a){function h(f){return f<10?"0"+f:f}function i(f){c.lastIndex=0;return c.test(f)?'"'+f.replace(c,function(l){var v=p[l];return typeof v==="string"?v:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function m(f,l){var v,E,D,F,y=j,z,B=l[f];if(B&&typeof B==="object"&&typeof B.toJSON==="function")B=B.toJSON(f);if(typeof n==="function")B=n.call(l,f,B);switch(typeof B){case "string":return i(B);case "number":return isFinite(B)?String(B):"null";case "boolean":case "null":return String(B);
case "object":if(!B)return"null";j+=o;z=[];if(Object.prototype.toString.apply(B)==="[object Array]"){F=B.length;for(v=0;v<F;v+=1)z[v]=m(v,B)||"null";D=z.length===0?"[]":j?"[\n"+j+z.join(",\n"+j)+"\n"+y+"]":"["+z.join(",")+"]";j=y;return D}if(n&&typeof n==="object"){F=n.length;for(v=0;v<F;v+=1){E=n[v];if(typeof E==="string")if(D=m(E,B))z.push(i(E)+(j?": ":":")+D)}}else for(E in B)if(Object.hasOwnProperty.call(B,E))if(D=m(E,B))z.push(i(E)+(j?": ":":")+D);D=z.length===0?"{}":j?"{\n"+j+z.join(",\n"+j)+
"\n"+y+"}":"{"+z.join(",")+"}";j=y;return D}}var b=window,k=b.JSON;if(!k||a.ie<9)k=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,o,p={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;if(typeof k.stringify!=="function")k.stringify=function(f,l,v){var E;o=j="";if(typeof v==="number")for(E=0;E<v;E+=1)o+=" ";else if(typeof v==="string")o=v;if((n=l)&&typeof l!=="function"&&(typeof l!=="object"||typeof l.length!=="number"))throw Error("JSON.stringify");return m("",{"":f})};if(typeof k.parse!==
"function")k.parse=function(f,l){function v(D,F){var y,z,B=D[F];if(B&&typeof B==="object")for(y in B)if(Object.hasOwnProperty.call(B,y)){z=v(B,y);if(z!==undefined)B[y]=z;else delete B[y]}return l.call(D,F,B)}var E;f=String(f);e.lastIndex=0;if(e.test(f))f=f.replace(e,function(D){return"\\u"+("0000"+D.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){E=eval("("+f+")");return typeof l==="function"?v({"":E},""):E}throw new SyntaxError("JSON.parse");};return k},{requires:["ua"]});KISSY.add("json",function(d,a){return{parse:function(h){if(d.isNullOrUndefined(h)||h==="")return null;return a.parse(h)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/form-serializer",function(d,a){var h=/^(?:select|textarea)/i,i=/\r?\n/g,m=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;return{serialize:function(b){var k=[],e={};a.query(b).each(function(c){c=c.elements?d.makeArray(c.elements):[c];k.push.apply(k,c)});k=d.filter(k,function(c){return c.name&&!c.disabled&&(c.checked||h.test(c.nodeName)||m.test(c.type))});d.each(k,function(c){var j=a.val(c);j=d.map(d.makeArray(j),function(o){return o.replace(i,
"\r\n")});c=e[c.name]=e[c.name]||[];c.push.apply(c,j)});return d.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/xhrobject",function(d,a){function h(b){var k=b.responseText,e=b.responseXML,c=b.config,j=c.converters,o=b.converters||{},p,n,f=c.contents,l=c.dataType;if(k||e){for(c=b.mimeType||b.getResponseHeader("Content-Type");l[0]=="*";)l.shift();if(!l.length)for(p in f)if(f[p].test(c)){l[0]!=p&&l.unshift(p);break}l[0]=l[0]||"text";if(l[0]=="text"&&k!==undefined)n=k;else if(l[0]=="xml"&&e!==undefined)n=e;else d.each(["text","xml"],function(E){var D=l[0];if(o[E]&&o[E][D]||j[E]&&j[E][D]){l.unshift(E);
n=E=="text"?k:e;return false}})}f=l[0];for(c=1;c<l.length;c++){p=l[c];var v=o[f]&&o[f][p]||j[f]&&j[f][p];if(!v)throw"no covert for "+f+" => "+p;n=v(n);f=p}b.responseData=n}function i(b){d.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var m=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;d.augment(i,a.Target,{setRequestHeader:function(b,k){this.requestHeaders[b]=
k;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var k;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};k=m.exec(this.responseHeadersString);)this.responseHeaders[k[1]]=k[2];k=this.responseHeaders[b]}return k===undefined?null:k},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,k){if(this.state!=2){this.state=2;this.readyState=4;var e;if(b>=200&&b<300||b==304)if(b==304){k="notmodified";e=true}else try{h(this);k="success";e=true}catch(c){k="parsererror : "+c}else if(b<0)b=0;this.status=b;this.statusText=k;e?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return i},{requires:["event"]});
KISSY.add("ajax/base",function(d,a,h,i){function m(y){y=d.mix(d.clone(F),y||{},undefined,undefined,true);if(!d.isBoolean(y.crossDomain)){var z=j.exec(y.url.toLowerCase());y.crossDomain=!!(z&&(z[1]!=v[1]||z[2]!=v[2]||(z[3]||(z[1]==="http:"?p:n))!=(v[3]||(v[1]==="http:"?p:n))))}if(y.processData&&y.data&&!d.isString(y.data))y.data=d.param(y.data,undefined,undefined,y.serializeArray);y.type=y.type.toUpperCase();y.hasContent=!f.test(y.type);if(!y.hasContent){if(y.data)y.url+=(/\?/.test(y.url)?"&":"?")+
y.data;if(y.cache===false)y.url+=(/\?/.test(y.url)?"&":"?")+"_ksTS="+(d.now()+"_"+d.guid())}y.dataType=d.trim(y.dataType||"*").split(c);y.context=y.context||y;return y}function b(y,z){e.fire(y,{ajaxConfig:z.config,xhr:z})}function k(y){var z=this.config;y=y.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);z[y]&&z[y].call(z.context,this.responseData,this.statusText,this);b(y,this)}function e(y){if(y.url){y=m(y);var z=new i(y);b("start",z);var B=new (D[y.dataType[0]]||D["*"])(z);z.transport=
B;y.contentType&&z.setRequestHeader("Content-Type",y.contentType);var w=y.dataType[0],r=y.accepts;z.setRequestHeader("Accept",w&&r[w]?r[w]+(w==="*"?"":", */*; q=0.01"):r["*"]);for(var u in y.headers)z.setRequestHeader(u,y.headers[u]);z.on("complete success error",k);z.readyState=1;b("send",z);if(y.async&&y.timeout>0)z.timeoutTimer=setTimeout(function(){z.abort("timeout")},y.timeout*1E3);try{z.state=1;B.send()}catch(s){z.status<2?z.callback(-1,s):d.error(s)}return z}}var c=/\s+/,j=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
o=function(y){return y},p=80,n=443,f=/^(?:GET|HEAD)$/,l,v;try{l=location.href}catch(E){d.log("ajax/base get curLocation error : ");d.log(E);l=document.createElement("a");l.href="";l=l.href}v=j.exec(l);l=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(v[1]);var D={},F={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",
"*":"*/*"},converters:{text:{json:a.parse,html:o,text:o,xml:d.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};F.converters.html=F.converters.text;d.mix(e,h.Target);d.mix(e,{isLocal:l,setupConfig:function(y){d.mix(F,y,undefined,undefined,true)},setupTransport:function(y,z){D[y]=z},getTransport:function(y){return D[y]},getConfig:function(){return F}});return e},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhrbase",function(d,a){function h(k,e){try{return new (e||i).XMLHttpRequest}catch(c){}}var i=window,m=i.XDomainRequest,b={proto:{}};b.xhr=i.ActiveXObject?function(k,e){if(k&&m)return new m;var c;if(!(c=!a.isLocal&&h(k,e)))a:{try{c=new (e||i).ActiveXObject("Microsoft.XMLHTTP");break a}catch(j){d.log("createActiveXHR error")}c=void 0}return c}:h;d.mix(b.proto,{sendInternal:function(){var k=this,e=k.xhrObj,c=e.config,j=k.xhr,o,p;c.username?j.open(c.type,c.url,c.async,c.username,c.password):
j.open(c.type,c.url,c.async);if(o=c.xhrFields)for(p in o)j[p]=o[p];e.mimeType&&j.overrideMimeType&&j.overrideMimeType(e.mimeType);if(!c.crossDomain&&!e.requestHeaders["X-Requested-With"])e.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{if(!c.crossDomain)for(p in e.requestHeaders)j.setRequestHeader(p,e.requestHeaders[p])}catch(n){d.log("setRequestHeader in xhr error : ");d.log(n)}j.send(c.hasContent&&c.data||null);if(!c.async||j.readyState==4)k._callback();else if(m&&j instanceof m){j.onload=
function(){j.readyState=4;j.status=200;k._callback()};j.onerror=function(){j.readyState=4;j.status=500;k._callback()}}else j.onreadystatechange=function(){k._callback()}},abort:function(){this._callback(0,1)},_callback:function(k,e){try{var c=this.xhr,j=this.xhrObj,o=j.config;if(e||c.readyState==4){if(m&&c instanceof m){c.onerror=d.noop;c.onload=d.noop}else c.onreadystatechange=d.noop;if(e)c.readyState!==4&&c.abort();else{var p=c.status;if(!(m&&c instanceof m))j.responseHeadersString=c.getAllResponseHeaders();
var n=c.responseXML;if(n&&n.documentElement)j.responseXML=n;j.responseText=c.responseText;try{var f=c.statusText}catch(l){d.log("xhr statustext error : ");d.log(l);f=""}if(!p&&a.isLocal&&!o.crossDomain)p=j.responseText?200:404;else if(p===1223)p=204;j.callback(p,f)}}}catch(v){c.onreadystatechange=d.noop;e||j.callback(-1,v)}}});return b},{requires:["./base"]});
KISSY.add("ajax/subdomain",function(d,a,h,i){function m(c){var j=c.config;this.xhrObj=c;c=j.url.match(b);this.__hostname=c[2];this.__protocol=c[1];j.crossDomain=false}var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=document,e={};d.augment(m,a.proto,{send:function(){var c=this.xhrObj.config,j=this.__hostname,o=e[j],p="/sub_domain_proxy.html";if(c.xdr&&c.xdr.subDomain&&c.xdr.subDomain.proxy)p=c.xdr.subDomain.proxy;if(o&&o.ready)(this.xhr=a.xhr(0,o.iframe.contentWindow))?this.sendInternal():
d.error("document.domain not set correctly!");else{if(o)c=o.iframe;else{o=e[j]={};c=o.iframe=document.createElement("iframe");i.css(c,{position:"absolute",left:"-9999px",top:"-9999px"});i.prepend(c,k.body||k.documentElement);c.src=this.__protocol+"//"+j+p}h.on(c,"load",this._onLoad,this)}},_onLoad:function(){var c=e[this.__hostname];c.ready=1;h.detach(c.iframe,"load",this._onLoad,this);this.send()}});return m},{requires:["./xhrbase","event","dom"]});
KISSY.add("ajax/xdr",function(d,a,h){function i(o,p,n){if(!j){j=true;o='<object id="'+k+'" type="application/x-shockwave-flash" data="'+o+'" width="0" height="0"><param name="movie" value="'+o+'" /><param name="FlashVars" value="yid='+p+"&uid="+n+'&host=KISSY.io" /><param name="allowScriptAccess" value="always" /></object>';p=c.createElement("div");h.prepend(p,c.body||c.documentElement);p.innerHTML=o}}function m(o){d.log("use flash xdr");this.xhrObj=o}var b={},k="io_swf",e,c=document,j=false;d.augment(m,
{send:function(){var o=this,p=o.xhrObj.config;i((p.xdr||{}).src||d.Config.base+"ajax/io.swf",1,1);if(e){o._uid=d.guid();b[o._uid]=o;e.send(p.url,{id:o._uid,uid:o._uid,method:p.type,data:p.hasContent&&p.data||{}})}else setTimeout(function(){o.send()},200)},abort:function(){e.abort(this._uid)},_xdrResponse:function(o,p){var n,f=this.xhrObj;f.responseText=decodeURI(p.c.responseText);switch(o){case "success":n={status:200,statusText:"success"};delete b[p.id];break;case "abort":delete b[p.id];break;case "timeout":case "transport error":case "failure":delete b[p.id];
n={status:500,statusText:o}}n&&f.callback(n.status,n.statusText)}});a.applyTo=function(o,p,n){o=p.split(".");var f=d;d.each(o,function(l){f=f[l]});f.apply(null,n)};a.xdrReady=function(){e=c.getElementById(k)};a.xdrResponse=function(o,p,n){var f=b[p.uid];f&&f._xdrResponse(o,p,n)};d.io=a;return m},{requires:["./base","dom"]});
KISSY.add("ajax/xhr",function(d,a,h,i,m){var b=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,k=window.XDomainRequest,e=h.xhr();if(e){var c=function(o){o=o.split(".");return o.length<2?o.join("."):o.reverse().slice(0,2).reverse().join(".")},j=function(o){var p=o.config,n=p.xdr||{};if(p.crossDomain){p=p.url.match(b);if(c(location.hostname)==c(p[2]))return new i(o);if(!("withCredentials"in e)&&(String(n.use)==="flash"||!k))return new m(o)}this.xhrObj=o};d.augment(j,h.proto,{send:function(){this.xhr=
h.xhr(this.xhrObj.config.crossDomain);this.sendInternal()}});a.setupTransport("*",j)}return a},{requires:["./base","./xhrbase","./subdomain","./xdr"]});
KISSY.add("ajax/script",function(d,a){function h(m){if(!m.config.crossDomain&&!m.config.forceScript)return new (a.getTransport("*"))(m);this.xhrObj=m;return 0}var i=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(m){d.globalEval(m);return m}}}});d.augment(h,{send:function(){var m=this,b,k=this.xhrObj.config,e=i.head||i.getElementsByTagName("head")[0]||
i.documentElement;m.head=e;b=i.createElement("script");m.script=b;b.async="async";if(k.scriptCharset)b.charset=k.scriptCharset;b.src=k.url;b.onerror=b.onload=b.onreadystatechange=function(c){c=c||window.event;m._callback((c.type||"error").toLowerCase())};e.insertBefore(b,e.firstChild)},_callback:function(m,b){var k=this.script,e=this.xhrObj,c=this.head;if(k)if(b||!k.readyState||/loaded|complete/.test(k.readyState)||m=="error"){k.onerror=k.onload=k.onreadystatechange=null;c&&k.parentNode&&c.removeChild(k);
this.head=this.script=undefined;if(!b&&m!="error")e.callback(200,"success");else m=="error"&&e.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",h);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(d,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return d.guid("jsonp")}});a.on("start",function(h){h=h.xhr;var i=h.config;if(i.dataType[0]=="jsonp"){var m,b=i.jsonpCallback,k=d.isFunction(b)?b():b,e=window[k];i.url+=(/\?/.test(i.url)?"&":"?")+i.jsonp+"="+k;window[k]=function(c){if(arguments.length>1)c=d.makeArray(arguments);m=[c]};h.on("complete",function(){window[k]=e;if(e===undefined)try{delete window[k]}catch(c){}else m&&e(m[0])});h.converters=h.converters||
{};h.converters.script=h.converters.script||{};h.converters.script.json=function(){m||d.error(" not call jsonpCallback : "+k);return m[0]};i.dataType.length=2;i.dataType[0]="script";i.dataType[1]="json"}});return a},{requires:["./base"]});
KISSY.add("ajax/form",function(d,a,h,i){a.on("start",function(m){m=m.xhr.config;if(m.form){var b=h.get(m.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=i.serialize(b))if(m.hasContent){m.data=m.data||"";if(m.data)m.data+="&";m.data+=b}else m.url+=(/\?/.test(m.url)?"&":"?")+b}else{b=m.dataType[0];if(b=="*")b="text";m.dataType.length=2;m.dataType[0]="iframe";m.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(d,a,h,i){function m(k){this.xhr=k}var b=document;i.setupConfig({converters:{iframe:i.getConfig().converters.text,text:{iframe:function(k){return k}}}});d.augment(m,{send:function(){var k=this.xhr,e=k.config,c,j=a.get(e.form);this.attrs={target:a.attr(j,"target")||"",action:a.attr(j,"action")||""};this.form=j;var o=d.guid("ajax-iframe");k.iframe=a.create("<iframe  id='"+o+"' name='"+o+"' style='position:absolute;left:-9999px;top:-9999px;'/>");k.iframeId=o;a.prepend(k.iframe,
b.body||b.documentElement);a.attr(j,{target:k.iframeId,action:e.url});if(e.data){c=e.data;e=e.serializeArray;c=d.unparam(c);o=[];for(var p in c)for(var n=d.isArray(c[p]),f=d.makeArray(c[p]),l=0;l<f.length;l++){var v=b.createElement("input");v.type="hidden";v.name=p+(n&&e?"[]":"");v.value=f[l];a.append(v,j);o.push(v)}c=o}this.fields=c;h.on(k.iframe,"load error",this._callback,this);j.submit()},_callback:function(k){var e=this.xhr;k=k.type;var c=e.iframe;if(c){a.attr(this.form,this.attrs);if(k=="load"){k=
c.contentWindow.document;e.responseXML=k;e.responseText=a.text(k.body);e.callback(200,"success")}else k=="error"&&e.callback(500,"error");a.remove(this.fields);h.detach(c);setTimeout(function(){a.remove(c)},30);e.iframe=null}},abort:function(){this._callback(0,1)}});i.setupTransport("iframe",m);return i},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(d,a,h){d.mix(h,{serialize:a.serialize,get:function(i,m,b,k,e){if(d.isFunction(m)){k=b;b=m;m=undefined}return h({type:e||"get",url:i,data:m,success:b,dataType:k})},post:function(i,m,b,k){if(d.isFunction(m)){k=b;b=m;m=undefined}return h.get(i,m,b,k,"post")},jsonp:function(i,m,b){if(d.isFunction(m)){b=m;m=undefined}return h.get(i,m,b,"jsonp")},getScript:d.getScript,getJSON:function(i,m,b){if(d.isFunction(m)){b=m;m=undefined}return h.get(i,m,b,"json")},upload:function(i,m,b,
k,e){if(d.isFunction(b)){e=k;k=b;b=undefined}return h({url:i,type:"post",dataType:e,form:m,data:b,success:k})}});return h},{requires:["ajax/form-serializer","ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(d,a){function h(n,f){if(d.isString(f))return n[f];return f}function i(n,f,l,v,E,D,F){F=F||l;return n.fire(f+o(l)+"Change",{attrName:F,subAttrName:D,prevVal:v,newVal:E})}function m(n,f,l){var v=n[f]||{};if(l)n[f]=v;return v}function b(n){return m(n,"__attrs",true)}function k(n){return m(n,"__attrVals",true)}function e(n,f){for(var l=0,v=f.length;n!=a&&l<v;l++)n=n[f[l]];return n}function c(n,f,l,v,E){v=v||{};var D,F,y,z=f;if(f.indexOf(".")!==-1){D=f.split(".");f=
D.shift()}y=n.get(f);if(D)F=e(y,D);if(!(!D&&y===l))if(!(D&&F===l)){if(D){var B=F=d.clone(y),w=D.length-1;if(w>=0){for(var r=0;r<w;r++)B=B[D[r]];if(B!=a)B[D[r]]=l}l=F}if(!v.silent)if(false===i(n,"before",f,y,l,z))return false;l=n.__set(f,l);if(l===false)return l;if(!v.silent){l=k(n)[f];i(n,"after",f,y,l,z);E?E.push({prevVal:y,newVal:l,attrName:f,subAttrName:z}):i(n,"","*",[y],[l],[z],[f])}return n}}function j(){}function o(n){return n.charAt(0).toUpperCase()+n.substring(1)}j.INVALID={};var p=j.INVALID;
d.augment(j,{getAttrs:function(){return b(this)},getAttrVals:function(){var n={},f,l=b(this);for(f in l)n[f]=this.get(f);return n},addAttr:function(n,f,l){var v=b(this);f=d.clone(f);if(v[n])d.mix(v[n],f,l);else v[n]=f;return this},addAttrs:function(n,f){var l=this;d.each(n,function(v,E){l.addAttr(E,v)});f&&l.set(f);return l},hasAttr:function(n){return n&&b(this).hasOwnProperty(n)},removeAttr:function(n){if(this.hasAttr(n)){delete b(this)[n];delete k(this)[n]}return this},set:function(n,f,l){var v;
if(d.isPlainObject(n)){var E=n;n=0;v=true;l=f;f=[];for(n in E){v=c(this,n,E[n],l,f);if(v===false)break}var D=[],F=[],y=[],z=[];d.each(f,function(B){F.push(B.prevVal);y.push(B.newVal);D.push(B.attrName);z.push(B.subAttrName)});D.length&&i(this,"","*",F,y,z,D);return v}return c(this,n,f,l)},__set:function(n,f){var l,v=m(b(this),n,true),E=v.validator;v=v.setter;if(E=h(this,E))if(!E.call(this,f,n))return false;if(v=h(this,v))l=v.call(this,f,n);if(l===p)return false;if(l!==a)f=l;k(this)[n]=f},get:function(n){var f,
l,v;if(n.indexOf(".")!==-1){f=n.split(".");n=f.shift()}l=m(b(this),n).getter;v=n in k(this)?k(this)[n]:this.__getDefAttrVal(n);if(l=h(this,l))v=l.call(this,v,n);if(f)v=e(v,f);return v},__getDefAttrVal:function(n){var f=m(b(this),n),l;if(l=h(this,f.valueFn)){l=l.call(this);if(l!==a)f.value=l;delete f.valueFn;b(this)[n]=f}return f.value},reset:function(n,f){if(d.isString(n))return this.hasAttr(n)?this.set(n,this.__getDefAttrVal(n),f):this;f=n;var l=b(this),v={};for(n in l)v[n]=this.__getDefAttrVal(n);
this.set(v,f);return this}});j.__capitalFirst=o;return j});KISSY.add("base/base",function(d,a,h){function i(m){for(var b=this.constructor;b;){var k=b.ATTRS;if(k){var e=void 0;for(e in k)k.hasOwnProperty(e)&&this.addAttr(e,k[e],false)}b=b.superclass?b.superclass.constructor:null}if(m)for(var c in m)m.hasOwnProperty(c)&&this.__set(c,m[c])}d.augment(i,h.Target,a);return i},{requires:["./attribute","event"]});KISSY.add("base",function(d,a,h){a.Attribute=h;return a},{requires:["base/base","base/attribute"]});
KISSY.add("cookie/base",function(d){var a=document,h=encodeURIComponent,i=decodeURIComponent;return{get:function(m){var b;if(d.isString(m)&&m!=="")if(m=String(a.cookie).match(RegExp("(?:^| )"+m+"(?:(?:=([^;]*))|;|$)")))b=m[1]?i(m[1]):"";return b},set:function(m,b,k,e,c,j){b=String(h(b));var o=k;if(typeof o==="number"){o=new Date;o.setTime(o.getTime()+k*864E5)}if(o instanceof Date)b+="; expires="+o.toUTCString();if(d.isString(e)&&e!=="")b+="; domain="+e;if(d.isString(c)&&c!=="")b+="; path="+c;if(j)b+=
"; secure";a.cookie=m+"="+b},remove:function(m,b,k,e){this.set(m,"",-1,b,k,e)}}});KISSY.add("cookie",function(d,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(d,a,h,i,m,b,k,e,c,j){k.getScript=d.getScript;a={UA:a,DOM:h,Event:i,EventTarget:i.Target,EventObject:i.Object,Node:m,NodeList:m,JSON:b,Ajax:k,IO:k,ajax:k,io:k,jsonp:k.jsonp,Anim:e,Easing:e.Easing,Base:c,Cookie:j,one:m.one,all:m.all,get:h.get,query:h.query};d.mix(d,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
