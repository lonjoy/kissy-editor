/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Sep 22 19:47
*/
KISSY.add("dom/attr",function(n,d,r,s){function u(m,g){g=C[g]||g;var j=A[g];return j&&j.get?j.get(m,g):m[g]}r=document.documentElement;var z=!r.hasAttribute,w=r.textContent===s?"innerText":"textContent",h=d._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,i=/:|^on/,o=/\r/g,p={},v={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},x=
{tabindex:{get:function(m){var g=m.getAttributeNode("tabindex");return g&&g.specified?parseInt(g.value,10):q.test(m.nodeName)||t.test(m.nodeName)&&m.href?0:s}},style:{get:function(m){return m.style.cssText},set:function(m,g){m.style.cssText=g}}},C={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
E={get:function(m,g){return d.prop(m,g)?g.toLowerCase():s},set:function(m,g,j){if(g===false)d.removeAttr(m,j);else{g=C[j]||j;if(g in m)m[g]=true;m.setAttribute(j,j.toLowerCase())}return j}},A={},D={},G={option:{get:function(m){var g=m.attributes.value;return!g||g.specified?m.value:m.text}},select:{get:function(m){var g=m.selectedIndex,j=m.options;m=m.type==="select-one";if(g<0)return null;else if(m)return d.val(j[g]);g=[];m=0;for(var b=j.length;m<b;++m)j[m].selected&&g.push(d.val(j[m]));return g},
set:function(m,g){var j=n.makeArray(g);n.each(m.options,function(b){b.selected=n.inArray(d.val(b),j)});if(!j.length)m.selectedIndex=-1;return j}}};if(z){D={get:function(m,g){var j;return(j=m.getAttributeNode(g))&&j.nodeValue!==""?j.nodeValue:s},set:function(m,g,j){var b=m.getAttributeNode(j);if(b)b.nodeValue=g;else try{var e=m.ownerDocument.createAttribute(j);e.value=g;m.setAttributeNode(e)}catch(a){return m.setAttribute(j,g,0)}}};p=C;x.tabIndex=x.tabindex;n.each(["href","src","width","height","colSpan",
"rowSpan"],function(m){x[m]={get:function(g){g=g.getAttribute(m,2);return g===null?s:g}}});G.button=x.value=D}n.each(["radio","checkbox"],function(m){G[m]={get:function(g){return g.getAttribute("value")===null?"on":g.value},set:function(g,j){if(n.isArray(j))return g.checked=n.inArray(d.val(g),j)}}});n.mix(d,{prop:function(m,g,j){if(n.isPlainObject(g))for(var b in g)d.prop(m,b,g[b]);else{m=d.query(m);g=C[g]||g;var e=A[g];if(j!==s)m.each(function(a){if(e&&e.set)e.set(a,j,g);else a[g]=j});else if(m.length)return u(m[0],
g)}},hasProp:function(m,g){for(var j=d.query(m),b=0;b<j.length;b++)if(u(j[b],g)!==s)return true;return false},removeProp:function(m,g){g=C[g]||g;d.query(m).each(function(j){try{j[g]=s;delete j[g]}catch(b){}})},attr:function(m,g,j,b){if(n.isPlainObject(g)){b=j;for(var e in g)d.attr(m,e,g[e],b)}else if(g=n.trim(g)){g=g.toLowerCase();if(b&&v[g])return d[g](m,j);g=p[g]||g;var a;a=k.test(g)?E:i.test(g)?D:x[g];if(j===s){m=d.get(m);if(h(m)){if(m.nodeName.toLowerCase()=="form")a=D;if(a&&a.get)return a.get(m,
g);m=m.getAttribute(g);return m===null?s:m}}else d.query(m).each(function(c){if(h(c)){var f=a;if(c.nodeName.toLowerCase()=="form")f=D;f&&f.set?f.set(c,j,g):c.setAttribute(g,""+j)}})}},removeAttr:function(m,g){g=g.toLowerCase();g=p[g]||g;d.query(m).each(function(j){if(h(j)){var b;j.removeAttribute(g);if(k.test(g)&&(b=C[g]||g)in j)j[b]=false}})},hasAttr:z?function(m,g){g=g.toLowerCase();for(var j=d.query(m),b=0;b<j.length;b++){var e=j[b].getAttributeNode(g);if(e&&e.specified)return true}return false}:
function(m,g){for(var j=d.query(m),b=0;b<j.length;b++)if(j[b].hasAttribute(g))return true;return false},val:function(m,g){var j,b;if(g===s){var e=d.get(m);if(e){if((j=G[e.nodeName.toLowerCase()]||G[e.type])&&"get"in j&&(b=j.get(e,"value"))!==s)return b;b=e.value;return typeof b==="string"?b.replace(o,""):n.isNullOrUndefined(b)?"":b}}else d.query(m).each(function(a){if(a.nodeType===1){var c=g;if(n.isNullOrUndefined(c))c="";else if(typeof c==="number")c+="";else if(n.isArray(c))c=n.map(c,function(f){return n.isNullOrUndefined(c)?
"":f+""});j=G[a.nodeName.toLowerCase()]||G[a.type];if(!j||!("set"in j)||j.set(a,c,"value")===s)a.value=c}})},text:function(m,g){if(g===s){var j=d.get(m);if(h(j))return j[w]||"";else if(d._nodeTypeIs(j,d.TEXT_NODE))return j.nodeValue;return s}else d.query(m).each(function(b){if(h(b))b[w]=g;else if(d._nodeTypeIs(b,d.TEXT_NODE))b.nodeValue=g})}});return d},{requires:["./base","ua"]});
KISSY.add("dom/base",function(n,d){function r(u,z){return u&&u.nodeType===z}var s={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(u){return r(u,s.ELEMENT_NODE)},_getWin:function(u){return u&&"scrollTo"in u&&u.document?u:r(u,s.DOCUMENT_NODE)?u.defaultView||u.parentWindow:u===d||u===null?window:false},
_nodeTypeIs:r,_isNodeList:function(u){return u&&!u.nodeType&&u.item&&!u.setTimeout}};return s});
KISSY.add("dom/class",function(n,d,r){function s(w,h,k,q){if(!(h=n.trim(h)))return q?false:r;w=d.query(w);var t=w.length,i=h.split(u);h=[];for(var o=0;o<i.length;o++){var p=n.trim(i[o]);p&&h.push(p)}for(o=0;o<t;o++){i=w[o];if(d._isElementNode(i)){i=k(i,h,h.length);if(i!==r)return i}}if(q)return false;return r}var u=/[\.\s]\s*\.?/,z=/[\n\t]/g;n.mix(d,{hasClass:function(w,h){return s(w,h,function(k,q,t){if(k=k.className){k=(" "+k+" ").replace(z," ");for(var i=0,o=true;i<t;i++)if(k.indexOf(" "+q[i]+
" ")<0){o=false;break}if(o)return true}},true)},addClass:function(w,h){s(w,h,function(k,q,t){var i=k.className;if(i){var o=(" "+i+" ").replace(z," ");i=i;for(var p=0;p<t;p++)if(o.indexOf(" "+q[p]+" ")<0)i+=" "+q[p];k.className=n.trim(i)}else k.className=h},r)},removeClass:function(w,h){s(w,h,function(k,q,t){var i=k.className;if(i)if(t){i=(" "+i+" ").replace(z," ");for(var o=0,p;o<t;o++)for(p=" "+q[o]+" ";i.indexOf(p)>=0;)i=i.replace(p," ");k.className=n.trim(i)}else k.className=""},r)},replaceClass:function(w,
h,k){d.removeClass(w,h);d.addClass(w,k)},toggleClass:function(w,h,k){var q=n.isBoolean(k),t;s(w,h,function(i,o,p){for(var v=0,x;v<p;v++){x=o[v];t=q?!k:d.hasClass(i,x);d[t?"removeClass":"addClass"](i,x)}},r)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(n,d,r,s){function u(a,c,f){if(c.nodeType==d.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;f=f.childNodes;for(var l=0;c[l];){f[l]&&u(a,c[l],f[l]);l++}}else if(c.nodeType==d.ELEMENT_NODE){c=c.getElementsByTagName("*");f=f.getElementsByTagName("*");for(l=0;c[l];){f[l]&&a(c[l],f[l]);l++}}}function z(a,c){var f=n.require("event");if(!(c.nodeType!==d.ELEMENT_NODE&&!d.hasData(a))){var l=d.data(a),y;for(y in l)d.data(c,y,l[y]);if(f){f._removeData(c);f._clone(a,c)}}}function w(a,c){c.clearAttributes&&
c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(a);var f=c.nodeName.toLowerCase();if(f==="object"&&!c.childNodes.length)n.each(a.childNodes,function(l){c.appendChild(l)});else if(f==="input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)c.defaultChecked=c.checked=a.checked;if(c.value!==a.value)c.value=a.value}else if(f==="option")c.selected=a.defaultSelected;else if(f==="input"||f==="textarea")c.defaultValue=a.defaultValue;c.removeAttribute(d.__EXPANDO)}function h(a,c){if(n.isPlainObject(c))if(v(a))d.attr(a,
c,true);else a.nodeType==d.DOCUMENT_FRAGMENT_NODE&&n.each(a.childNodes,function(f){d.attr(f,c,true)});return a}function k(a,c){var f=null,l,y;if(a&&(a.push||a.item)&&a[0]){c=c||a[0].ownerDocument;f=c.createDocumentFragment();if(a.item)a=n.makeArray(a);l=0;for(y=a.length;l<y;l++)f.appendChild(a[l])}return f}function q(a,c){c=(c+"").replace(A,"");try{a.innerHTML=c}catch(f){for(;a.firstChild;)a.removeChild(a.firstChild);c&&a.appendChild(d.create(c))}}function t(a,c,f,l){if(f){var y=n.guid("ks-tmp-"),
F=RegExp(A);c+='<span id="'+y+'"></span>';n.available(y,function(){var H=d.get("head"),B,I,J,K,M,L;for(F.lastIndex=0;B=F.exec(c);)if((J=(I=B[1])?I.match(G):false)&&J[2]){B=i.createElement("script");B.src=J[2];if((K=I.match(m))&&K[2])B.charset=K[2];B.async=true;H.appendChild(B)}else if((L=B[2])&&L.length>0)n.globalEval(L);(M=i.getElementById(y))&&d.remove(M);n.isFunction(l)&&l()});q(a,c)}else{q(a,c);n.isFunction(l)&&l()}}var i=document,o=r.ie,p=d._nodeTypeIs,v=d._isElementNode,x=i.createElement("div"),
C=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,E=/<(\w+)/,A=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,D=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,G=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;n.mix(d,{create:function(a,c,f){if(p(a,d.ELEMENT_NODE)||p(a,d.TEXT_NODE))return d.clone(a);if(!(a=n.trim(a)))return null;var l=null,y=d._creators,F,H="div",B;if(F=D.exec(a))l=(f||i).createElement(F[1]);else{a=a.replace(C,"<$1></$2>");if((F=E.exec(a))&&(B=F[1]))H=B.toLowerCase();
a=(y[H]||y.div)(a,f).childNodes;if(a.length===1)l=a[0].parentNode.removeChild(a[0]);else if(a.length)l=k(a,f||i)}return h(l,c)},_creators:{div:function(a,c){var f=c?c.createElement("div"):x;f.innerHTML="m<div>"+a+"</div>";return f.lastChild}},html:function(a,c,f,l){if(c===s){a=d.get(a);if(v(a))return a.innerHTML}else d.query(a).each(function(y){v(y)&&t(y,c,f,l)})},remove:function(a,c){d.query(a).each(function(f){if(!c&&f.nodeType==d.ELEMENT_NODE){var l=n.require("event");if(l){l.detach(f.getElementsByTagName("*"));
l.detach(f)}d.removeData(f.getElementsByTagName("*"));d.removeData(f)}f.parentNode&&f.parentNode.removeChild(f)})},clone:function(a,c,f,l){a=d.get(a);if(!a)return null;var y=a.cloneNode(c);if(a.nodeType==d.ELEMENT_NODE||a.nodeType==d.DOCUMENT_FRAGMENT_NODE){a.nodeType==d.ELEMENT_NODE&&w(a,y);c&&u(w,a,y)}if(f){z(a,y);c&&l&&u(z,a,y)}return y},_nl2frag:k});if(o||r.gecko||r.webkit){var g=d._creators,j=d.create,b=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/;r={option:"select",td:"tr",tr:"tbody",
tbody:"table",col:"colgroup",legend:"fieldset"};for(var e in r)(function(a){g[e]=function(c,f){return j("<"+a+">"+c+"</"+a+">",null,f)}})(r[e]);if(o<8)g.tbody=function(a,c){var f=j("<table>"+a+"</table>",null,c),l=f.children.tags("tbody")[0];f.children.length>1&&l&&!b.test(a)&&l.parentNode.removeChild(l);return f};n.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,caption:g.tbody,colgroup:g.tbody})}return d},{requires:["./base","ua"]});
KISSY.add("dom/data",function(n,d,r){var s=window,u="_ks_data_"+n.now(),z={},w={},h={};h.applet=1;h.object=1;h.embed=1;var k={hasData:function(i,o){if(i)if(o!==r){if(o in i)return true}else if(!n.isEmptyObject(i))return true;return false}},q={hasData:function(i,o){if(i==s)return q.hasData(w,o);return k.hasData(i[u],o)},data:function(i,o,p){if(i==s)return q.data(w,o,p);var v=i[u];if(p!==r){v=i[u]=i[u]||{};v[o]=p}else if(o!==r)return v&&v[o];else return v=i[u]=i[u]||{}},removeData:function(i,o){if(i==
s)return q.removeData(w,o);var p=i[u];if(p)if(o!==r){delete p[o];n.isEmptyObject(p)&&q.removeData(i,r)}else delete i[u]}},t={hasData:function(i,o){var p=i[u];if(!p)return false;return k.hasData(z[p],o)},data:function(i,o,p){if(!h[i.nodeName.toLowerCase()]){var v=i[u];v||(v=i[u]=n.guid());i=z[v];if(p!==r){i=z[v]=z[v]||{};i[o]=p}else if(o!==r)return i&&i[o];else return i=z[v]=z[v]||{}}},removeData:function(i,o){var p=i[u];if(p){var v=z[p];if(v)if(o!==r){delete v[o];n.isEmptyObject(v)&&t.removeData(i,
r)}else{delete z[p];try{delete i[u]}catch(x){}i.removeAttribute&&i.removeAttribute(u)}}}};n.mix(d,{__EXPANDO:u,hasData:function(i,o){for(var p=false,v=d.query(i),x=0;x<v.length;x++)if(p=(p=v[x])&&p.nodeType?t.hasData(p,o):q.hasData(p,o))break;return p},data:function(i,o,p){if(n.isPlainObject(o))for(var v in o)d.data(i,v,o[v]);else if(p===r)if((i=d.get(i))&&i.nodeType)return t.data(i,o,p);else{if(i)return q.data(i,o,p)}else d.query(i).each(function(x){x&&x.nodeType?t.data(x,o,p):q.data(x,o,p)})},removeData:function(i,
o){d.query(i).each(function(p){p&&p.nodeType?t.removeData(p,o):q.removeData(p,o)})}});return d},{requires:["./base"]});
KISSY.add("dom/insertion",function(n,d){function r(w,h,k){w=d.query(w);h=d.query(h);if(w.length&&h.length){w=s(w);var q;if(h.length>1)q=d.clone(w,true);for(var t=0;t<h.length;t++){var i=h[t],o=t>0?d.clone(q,true):w;k(o,i)}}}var s=d._nl2frag;n.mix(d,{insertBefore:function(w,h){r(w,h,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q)})},insertAfter:function(w,h){r(w,h,function(k,q){q.parentNode&&q.parentNode.insertBefore(k,q.nextSibling)})},appendTo:function(w,h){r(w,h,function(k,q){q.appendChild(k)})},
prependTo:function(w,h){r(w,h,function(k,q){q.insertBefore(k,q.firstChild)})}});var u={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},z;for(z in u)d[z]=d[u[z]];return d},{requires:["./create"]});
KISSY.add("dom/offset",function(n,d,r,s){function u(j){var b,e=0;b=0;var a=h.body,c=o(j[C]);if(j[g]){b=j[g]();e=b[E];b=b[A];j=k&&h.documentMode!=9&&(p?q.clientTop:a.clientTop)||0;e-=k&&h.documentMode!=9&&(p?q.clientLeft:a.clientLeft)||0;b-=j;if(r.mobile=="apple"){e-=d[G](c);b-=d[m](c)}}return{left:e,top:b}}function z(j,b){var e={left:0,top:0},a=o(j[C]),c=j;b=b||a;do{var f;if(a==b){var l=c;f=u(l);l=o(l[C]);f.left+=d[G](l);f.top+=d[m](l);f=f}else f=u(c);f=f;e.left+=f.left;e.top+=f.top}while(a&&a!=b&&
(c=a.frameElement)&&(a=a.parent));return e}var w=window,h=document,k=r.ie,q=h.documentElement,t=d._isElementNode,i=d._nodeTypeIs,o=d._getWin,p=h.compatMode==="CSS1Compat",v=Math.max,x=parseInt,C="ownerDocument",E="left",A="top",D=n.isNumber,G="scrollLeft",m="scrollTop",g="getBoundingClientRect";n.mix(d,{offset:function(j,b,e){if(b===s){j=d.get(j);var a;if(j)a=z(j,e);return a}d.query(j).each(function(c){if(d.css(c,"position")==="static")c.style.position="relative";var f=z(c),l={},y,F;for(F in b){y=
x(d.css(c,F),10)||0;l[F]=y+b[F]-f[F]}d.css(c,l)})},scrollIntoView:function(j,b,e,a,c){if(j=d.get(j)){if(b)b=d.get(b);if(!b)b=j.ownerDocument;if(c!==true){a=a===s?true:!!a;e=e===s?true:!!e}if(i(b,d.DOCUMENT_NODE))b=o(b);var f=!!o(b);c=d.offset(j);var l=d.outerHeight(j);j=d.outerWidth(j);var y,F,H,B;if(f){f=b;F=d.height(f);y=d.width(f);B={left:d.scrollLeft(f),top:d.scrollTop(f)};f={left:c[E]-B[E],top:c[A]-B[A]};c={left:c[E]+j-(B[E]+y),top:c[A]+l-(B[A]+F)};B=B}else{y=d.offset(b);F=b.clientHeight;H=b.clientWidth;
B={left:d.scrollLeft(b),top:d.scrollTop(b)};f={left:c[E]-y[E]-(x(d.css(b,"borderLeftWidth"))||0),top:c[A]-y[A]-(x(d.css(b,"borderTopWidth"))||0)};c={left:c[E]+j-(y[E]+H+(x(d.css(b,"borderRightWidth"))||0)),top:c[A]+l-(y[A]+F+(x(d.css(b,"borderBottomWidth"))||0))}}if(f.top<0||c.top>0)if(e===true)d.scrollTop(b,B.top+f.top);else if(e===false)d.scrollTop(b,B.top+c.top);else f.top<0?d.scrollTop(b,B.top+f.top):d.scrollTop(b,B.top+c.top);if(a)if(f.left<0||c.left>0)if(e===true)d.scrollLeft(b,B.left+f.left);
else if(e===false)d.scrollLeft(b,B.left+c.left);else f.left<0?d.scrollLeft(b,B.left+f.left):d.scrollLeft(b,B.left+c.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});n.each(["Left","Top"],function(j,b){var e="scroll"+j;d[e]=function(a,c){if(D(a))return arguments.callee(w,a);a=d.get(a);var f,l=o(a);if(l)if(c!==s){var y=j=="Left"?c:d.scrollLeft(l),F=j=="Top"?c:d.scrollTop(l);l.scrollTo(y,F)}else{f=l["page"+(b?"Y":"X")+"Offset"];if(!D(f)){l=l.document;f=l.documentElement[e];D(f)||(f=
l.body[e])}}else if(t(a))if(c!==s)a[e]=c;else f=a[e];return f}});n.each(["Width","Height"],function(j){d["doc"+j]=function(b){b=d.get(b);b=o(b).document;return v(b.documentElement["scroll"+j],b.body["scroll"+j],d["viewport"+j](b))};d["viewport"+j]=function(b){b=d.get(b);var e="inner"+j;b=o(b);var a=b.document;return e in b?b[e]:p?a.documentElement["client"+j]:a.body["client"+j]}});return d},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(n,d,r){function s(b,e){var a=[],c;c=e===r?[t]:s(e,r);p(c,function(f){E.apply(a,u(b,f))});if(n.isString(b)&&b.indexOf(",")>-1||c.length>1)g(a);a.each=n.bind(p,r,a);return a}function u(b,e){var a=[];o("sizzle");if(D(b))b=n.trim(b);if(D(b)&&b.indexOf(",")>-1)a=z(b,e);else{if(D(b)&&!m.exec(String(b))){a=b;var c=[],f=o("sizzle");f&&f(a,e,c);a=c}else a=w(b,e);a=a}return a=a}function z(b,e){var a=[],c=b.split(",");p(c,function(f){E.apply(a,u(f,e))});return a}function w(b,
e){var a,c,f=[],l;if(D(b))if(G.test(b)){if(c=k(b.slice(1),e))f=[c]}else{if(a=m.exec(b)){c=a[1];l=a[2];a=a[3];if(e=c?k(c,e):e)if(a)if(!c||b.indexOf(A)!=-1)f=[].concat(j(a,l,e));else{if((c=k(c,e))&&d.hasClass(c,a))f=[c]}else if(l)f=q(l,e)}}else if(b&&(v(b)||C(b)))f=i(b,function(y){return h(y,e)});else if(b)if(h(b,e))f=[b];return f}function h(b,e){if(!b)return false;if(e==t)return true;return d.__contains(e,b)}function k(b,e){if(!e)return null;var a=e;if(e.nodeType!==d.DOCUMENT_NODE)a=e.ownerDocument;
if((a=a.getElementById(b))&&a.parentNode)if(d.attr(a,"id")!==b)a=d.filter("*","#"+b,e)[0]||null;else h(a,e)||(a=null);else a=null;return a}function q(b,e){return e&&x(e.getElementsByTagName(b))||[]}var t=document,i=n.filter,o=n.require,p=n.each,v=n.isArray,x=n.makeArray,C=d._isNodeList,E=Array.prototype.push,A=" ",D=n.isString,G=/^#[\w-]+$/,m=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,g;(function(){var b,e,a=true;[0,0].sort(function(){a=false;return 0});g=function(c){if(b){e=a;c.sort(b);if(e)for(var f=
1,l=c.length;f<l;)if(c[f]===c[f-1])c.splice(f,1);else f++}return c};b=t.documentElement.compareDocumentPosition?function(c,f){if(c==f){e=true;return 0}if(!c.compareDocumentPosition||!f.compareDocumentPosition)return c.compareDocumentPosition?-1:1;return c.compareDocumentPosition(f)&4?-1:1}:function(c,f){if(c==f){e=true;return 0}else if(c.sourceIndex&&f.sourceIndex)return c.sourceIndex-f.sourceIndex}})();(function(){var b=t.createElement("div");b.appendChild(t.createComment(""));if(b.getElementsByTagName("*").length>
0)q=function(e,a){var c=x(a.getElementsByTagName(e));if(e==="*"){for(var f=[],l=0,y;y=c[l++];)y.nodeType===1&&f.push(y);c=f}return c}})();var j=t.getElementsByClassName?function(b,e,a){if(!a)return[];a=b=x(a.getElementsByClassName(b));var c=0,f=b.length,l;if(e&&e!=="*")for(a=x();c<f;++c){l=b[c];l.nodeName.toLowerCase()==e.toLowerCase()&&a.push(l)}return a}:t.querySelectorAll?function(b,e,a){return a&&x(a.querySelectorAll((e?e:"")+"."+b))||[]}:function(b,e,a){if(!a)return[];e=x(a.getElementsByTagName(e||
"*"));a=[];for(var c=0,f=e.length,l;c<f;++c){l=e[c];d.hasClass(l,b)&&a.push(l)}return a};n.mix(d,{query:s,get:function(b,e){return s(b,e)[0]||null},unique:g,filter:function(b,e,a){b=s(b,a);a=o("sizzle");var c,f,l,y,F=[];if(D(e)&&(c=m.exec(e))){l=c[1];f=c[2];y=c[3];if(l){if(l&&!f&&!y)e=function(H){return H.id===l}}else e=function(H){var B=true,I=true;if(f)B=H.nodeName.toLowerCase()==f.toLowerCase();if(y)I=d.hasClass(H,y);return I&&B}}if(n.isFunction(e))F=n.filter(b,e);else if(e&&a)F=a.matches(e,b);
return F},test:function(b,e,a){b=s(b,a);return b.length&&d.filter(b,e,a).length===b.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(n,d,r,s){if(!r.ie)return d;var u=document,z=u.documentElement,w=s._CUSTOM_STYLES,h=/^-?\d+(?:px)?$/i,k=/^-?\d/,q=/opacity=([^)]*)/,t=/alpha\([^)]*\)/i;try{if(n.isNullOrUndefined(z.style.opacity))w.opacity={get:function(p,v){return q.test((v&&p.currentStyle?p.currentStyle.filter:p.style.filter)||"")?parseFloat(RegExp.$1)/100+"":v?"1":""},set:function(p,v){v=parseFloat(v);var x=p.style,C=p.currentStyle,E=isNaN(v)?"":"alpha(opacity="+v*100+")",A=n.trim(C&&C.filter||
x.filter||"");x.zoom=1;if(v>=1&&n.trim(A.replace(t,""))===""){x.removeAttribute("filter");if(C&&!C.filter)return}x.filter=t.test(A)?A.replace(t,E):A+(A?", ":"")+E}}}catch(i){}r=r.ie==8;var o={};o.thin=r?"1px":"2px";o.medium=r?"3px":"4px";o.thick=r?"5px":"6px";n.each(["","Top","Left","Right","Bottom"],function(p){var v="border"+p+"Width",x="border"+p+"Style";w[v]={get:function(C,E){var A=E?C.currentStyle:0,D=A&&String(A[v])||undefined;if(D&&D.indexOf("px")<0)D=o[D]&&A[x]!=="none"?o[D]:0;return D}}});
if(!(u.defaultView||{}).getComputedStyle&&z.currentStyle)d._getComputedStyle=function(p,v){v=d._cssProps[v]||v;var x=p.currentStyle&&p.currentStyle[v];if(!h.test(x)&&k.test(x)){var C=p.style,E=C.left,A=p.runtimeStyle&&p.runtimeStyle.left;if(A)p.runtimeStyle.left=p.currentStyle.left;C.left=v==="fontSize"?"1em":x||0;x=C.pixelLeft+"px";C.left=E;if(A)p.runtimeStyle.left=A}return x===""?"auto":x};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(n,d,r,s){function u(b,e,a){var c={},f;for(f in e){c[f]=b[t][f];b[t][f]=e[f]}a.call(b);for(f in e)b[t][f]=c[f]}function z(b,e,a){var c;if(b.nodeType===3||b.nodeType===8||!(c=b[t]))return s;e=e.replace(x,C);var f,l=G[e];e=m[e]||e;if(a!==s){if(a===null||a===A)a=A;else if(!isNaN(Number(a))&&!v[e])a+=D;if(l&&l.set)a=l.set(b,a);if(a!==s)try{b[t][e]=a}catch(y){}return s}else{if(!(l&&"get"in l&&(f=l.get(b,false))!==s))f=c[e];return f===s?"":f}}function w(b,e,a){if(n.isWindow(b))return e==
i?d.viewportWidth(b):d.viewportHeight(b);else if(b.nodeType==9)return e==i?d.docWidth(b):d.docHeight(b);var c=e===i?["Left","Right"]:["Top","Bottom"],f=e===i?b.offsetWidth:b.offsetHeight;if(f>0){a!=="border"&&n.each(c,function(l){a||(f-=parseFloat(d.css(b,"padding"+l))||0);if(a==="margin")f+=parseFloat(d.css(b,a+l))||0;else f-=parseFloat(d.css(b,"border"+l+"Width"))||0});return f}f=d._getComputedStyle(b,e);if(f<0||n.isNullOrUndefined(f))f=b.style[e]||0;f=parseFloat(f)||0;a&&n.each(c,function(l){f+=
parseFloat(d.css(b,"padding"+l))||0;if(a!=="padding")f+=parseFloat(d.css(b,"border"+l+"Width"))||0;if(a==="margin")f+=parseFloat(d.css(b,a+l))||0});return f}var h=document,k=h.documentElement,q=r.ie,t="style",i="width",o=parseInt,p=/^-?\d+(?:px)?$/i,v={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},x=/-([a-z])/ig,C=function(b,e){return e.toUpperCase()},E=/([A-Z]|^ms)/g,A="",D="px",G={},m={},g={};if(k[t].cssFloat!==s)m["float"]="cssFloat";else if(k[t].styleFloat!==
s)m["float"]="styleFloat";n.mix(d,{_CUSTOM_STYLES:G,_cssProps:m,_getComputedStyle:function(b,e){var a="",c={},f=b.ownerDocument;e=e.replace(E,"-$1").toLowerCase();if(c=f.defaultView.getComputedStyle(b,null))a=c.getPropertyValue(e)||c[e];if(a==""&&!d.__contains(f.documentElement,b)){e=m[e]||e;a=b[t][e]}return a},style:function(b,e,a){if(n.isPlainObject(e))for(var c in e)d.style(b,c,e[c]);else if(a===s){b=d.get(b);c="";if(b)c=z(b,e,a);return c}else d.query(b).each(function(f){z(f,e,a)})},css:function(b,
e,a){if(n.isPlainObject(e))for(var c in e)d.css(b,c,e[c]);else{e=e.replace(x,C);c=G[e];if(a===s){b=d.get(b);a="";if(b)if(!(c&&"get"in c&&(a=c.get(b,true))!==s))a=d._getComputedStyle(b,e);return a===s?"":a}else d.style(b,e,a)}},show:function(b){d.query(b).each(function(e){e[t].display=d.data(e,"display")||A;if(d.css(e,"display")==="none"){var a=e.tagName,c=g[a],f;if(!c){f=h.createElement(a);h.body.appendChild(f);c=d.css(f,"display");d.remove(f);g[a]=c}d.data(e,"display",c);e[t].display=c}})},hide:function(b){d.query(b).each(function(e){var a=
e[t],c=a.display;if(c!=="none"){c&&d.data(e,"display",c);a.display="none"}})},toggle:function(b){d.query(b).each(function(e){d.css(e,"display")==="none"?d.show(e):d.hide(e)})},addStyleSheet:function(b,e,a){if(n.isString(b)){a=e;e=b;b=window}b=d.get(b);b=d._getWin(b).document;var c;if(a&&(a=a.replace("#",A)))c=d.get("#"+a,b);if(!c){c=d.create("<style>",{id:a},b);d.get("head",b).appendChild(c);if(c.styleSheet)c.styleSheet.cssText=e;else c.appendChild(b.createTextNode(e))}},unselectable:function(b){d.query(b).each(function(e){if(r.gecko)e[t].MozUserSelect=
"none";else if(r.webkit)e[t].KhtmlUserSelect="none";else if(r.ie||r.opera){var a=0,c=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=c[a++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable","on")}}})},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});n.each([i,"height"],function(b){d["inner"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(e){return(e=d.get(e))?w(e,
b,"padding"):null};d["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(e,a){var c=d.get(e);return c?w(c,b,a?"margin":"border"):null};d[b]=function(e,a){var c=d.css(e,b,a);if(c)c=parseFloat(c);return c}});var j={position:"absolute",visibility:"hidden",display:"block"};n.each(["height","width"],function(b){G[b]={get:function(e,a){var c;if(a){if(e.offsetWidth!==0)c=w(e,b);else u(e,j,function(){c=w(e,b)});return c+"px"}},set:function(e,a){if(p.test(a)){a=parseFloat(a);if(a>=0)return a+"px"}else return a}}});
n.each(["left","top"],function(b){G[b]={get:function(e,a){if(a){var c=d._getComputedStyle(e,b);if(c==="auto"){c=0;if(n.inArray(d.css(e,"position"),["absolute","fixed"])){c=e[b==="left"?"offsetLeft":"offsetTop"];if(q&&document.documentMode!=9||r.opera)c-=e.offsetParent&&e.offsetParent["client"+(b=="left"?"Left":"Top")]||0;c=c-(o(d.css(e,"margin-"+b))||0)}c+="px"}return c}}}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(n,d,r){function s(h,k,q,t,i,o){if(!(h=d.get(h)))return null;if(k===0)return h;o||(h=h[q]);if(!h)return null;i=i&&d.get(i)||null;if(k===r)k=1;o=[];var p=n.isArray(k),v,x;if(n.isNumber(k)){v=0;x=k;k=function(){return++v===x}}for(;h&&h!=i;){if(w(h)&&u(h,k)&&(!t||t(h))){o.push(h);if(!p)break}h=h[q]}return p?o:o[0]||null}function u(h,k){if(!k)return true;if(n.isArray(k))for(var q=0;q<k.length;q++){if(d.test(h,k[q]))return true}else if(d.test(h,k))return true;return false}
function z(h,k,q){var t=[];var i=h=d.get(h);if(h&&q)i=h.parentNode;if(i){q=0;for(i=i.firstChild;i;i=i.nextSibling)if(w(i)&&i!==h&&(!k||d.test(i,k)))t[q++]=i}return t}var w=d._isElementNode;n.mix(d,{closest:function(h,k,q){return s(h,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},q,true)},parent:function(h,k,q){return s(h,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},q)},first:function(h,k){var q=d.get(h);return s(q&&q.firstChild,k,"nextSibling",r,
r,true)},last:function(h,k){var q=d.get(h);return s(q&&q.lastChild,k,"previousSibling",r,r,true)},next:function(h,k){return s(h,k,"nextSibling",r)},prev:function(h,k){return s(h,k,"previousSibling",r)},siblings:function(h,k){return z(h,k,true)},children:function(h,k){return z(h,k,r)},__contains:document.documentElement.contains?function(h,k){if(h.nodeType==d.TEXT_NODE)return false;var q;if(k.nodeType==d.TEXT_NODE){k=k.parentNode;q=true}else if(k.nodeType==d.DOCUMENT_NODE)return false;else q=h!==k;
return q&&(h.contains?h.contains(k):true)}:document.documentElement.compareDocumentPosition?function(h,k){return!!(h.compareDocumentPosition(k)&16)}:0,contains:function(h,k){h=d.get(h);k=d.get(k);if(h&&k)return d.__contains(h,k)},equals:function(h,k){h=d.query(h);k=d.query(k);if(h.length!=k.length)return false;for(var q=h.length;q>=0;q--)if(h[q]!=k[q])return false;return true}});return d},{requires:["./base"]});
KISSY.add("dom",function(n,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
