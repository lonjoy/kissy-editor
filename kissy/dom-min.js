/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 13 21:43
*/
KISSY.add("dom/attr",function(m,b,r,t){function v(g,c){c=C[c]||c;var e=u[c];if(!g)return t;return e&&e.get?e.get(g,c):g[c]}r=document.documentElement;var A=!r.hasAttribute,x=r.textContent===t?"innerText":"textContent",i=b._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:button|input|object|select|textarea)$/i,y=/^a(?:rea)?$/i,j=/:|^on/,p=/\r/g,o={},w={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},z={tabindex:{get:function(g){var c=g.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):n.test(g.nodeName)||y.test(g.nodeName)&&g.href?0:t}},style:{get:function(g){return g.style.cssText},set:function(g,c){g.style.cssText=c}}},C={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
F={get:function(g,c){return b.prop(g,c)?c.toLowerCase():t},set:function(g,c,e){if(c===false)b.removeAttr(g,e);else{c=C[e]||e;if(c in g)g[c]=true;g.setAttribute(e,e.toLowerCase())}return e}},u={},l={},s={option:{get:function(g){var c=g.attributes.value;return!c||c.specified?g.value:g.text}},select:{get:function(g){var c=g.selectedIndex,e=g.options;g=g.type==="select-one";if(c<0)return null;else if(g)return b.val(e[c]);c=[];g=0;for(var a=e.length;g<a;++g)e[g].selected&&c.push(b.val(e[g]));return c},
set:function(g,c){var e=m.makeArray(c);m.each(g.options,function(a){a.selected=m.inArray(b.val(a),e)});if(!e.length)g.selectedIndex=-1;return e}}};if(A){l={get:function(g,c){var e;return(e=g.getAttributeNode(c))&&e.nodeValue!==""?e.nodeValue:t},set:function(g,c,e){if(g=g.getAttributeNode(e))g.nodeValue=c}};o=C;z.tabIndex=z.tabindex;m.each(["href","src","width","height","colSpan","rowSpan"],function(g){z[g]={get:function(c){c=c.getAttribute(g,2);return c===null?t:c}}});s.button=z.value=l}m.each(["radio",
"checkbox"],function(g){s[g]={get:function(c){return c.getAttribute("value")===null?"on":c.value},set:function(c,e){if(m.isArray(e))return c.checked=m.inArray(b.val(c),e)}}});m.mix(b,{prop:function(g,c,e){if(m.isPlainObject(c))for(var a in c)b.prop(g,a,c[a]);else{g=b.query(g);c=C[c]||c;var d=u[c];if(e!==t)m.each(g,function(f){if(d&&d.set)d.set(f,e,c);else f[c]=e});else if(g=g[0])return v(g,c)}},hasProp:function(g,c){return v(g,c)!==t},removeProp:function(g,c){c=C[c]||c;b.query(g).each(function(e){try{e[c]=
t;delete e[c]}catch(a){}})},attr:function(g,c,e,a){if(m.isPlainObject(c)){a=e;for(var d in c)b.attr(g,d,c[d],a)}else if(c=m.trim(c)){c=c.toLowerCase();if(a&&w[c])return b[c](g,e);c=o[c]||c;var f;f=k.test(c)?F:j.test(c)?l:z[c];if(e===t){g=b.get(g);if(i(g)){if(g.nodeName.toLowerCase()=="form")f=l;if(f&&f.get)return f.get(g,c);g=g.getAttribute(c);return g===null?t:g}}else m.each(b.query(g),function(h){if(i(h))f&&f.set?f.set(h,e,c):h.setAttribute(c,""+e)})}},removeAttr:function(g,c){c=c.toLowerCase();
c=o[c]||c;m.each(b.query(g),function(e){if(i(e)){var a;e.removeAttribute(c);if(k.test(c)&&(a=C[c]||c)in e)e[a]=false}})},hasAttr:A?function(g,c){c=c.toLowerCase();var e=b.get(g).getAttributeNode(c);return!!(e&&e.specified)}:function(g,c){c=c.toLowerCase();return b.get(g).hasAttribute(c)},val:function(g,c){var e,a;if(c===t){var d=b.get(g);if(d){if((e=s[d.nodeName.toLowerCase()]||s[d.type])&&"get"in e&&(a=e.get(d,"value"))!==t)return a;a=d.value;return typeof a==="string"?a.replace(p,""):m.isNullOrUndefined(a)?
"":a}}else b.query(g).each(function(f){if(f.nodeType===1){var h=c;if(m.isNullOrUndefined(h))h="";else if(typeof h==="number")h+="";else if(m.isArray(h))h=m.map(h,function(q){return m.isNullOrUndefined(h)?"":q+""});e=s[f.nodeName.toLowerCase()]||s[f.type];if(!e||!("set"in e)||e.set(f,h,"value")===t)f.value=h}})},text:function(g,c){if(c===t){var e=b.get(g);if(i(e))return e[x]||"";else if(b._nodeTypeIs(e,3))return e.nodeValue;return t}else m.each(b.query(g),function(a){if(i(a))a[x]=c;else if(b._nodeTypeIs(a,
3))a.nodeValue=c})}});return b},{requires:["./base","ua"]});
KISSY.add("dom/base",function(m,b){function r(v,A){return v&&v.nodeType===A}var t={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(v){return r(v,1)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:r(v,9)?v.defaultView||v.parentWindow:v===b||v===null?window:false},_nodeTypeIs:r,_isNodeList:function(v){return v&&
!v.nodeType&&v.item&&!v.setTimeout}};t.TEXT_NODE=3;return t});
KISSY.add("dom/class",function(m,b,r){function t(x,i,k,n){if(!(i=m.trim(i)))return n?false:r;x=b.query(x);var y=x.length,j=i.split(v);i=[];for(var p=0;p<j.length;p++){var o=m.trim(j[p]);o&&i.push(o)}for(p=0;p<y;p++){j=x[p];if(b._isElementNode(j)){j=k(j,i,i.length);if(j!==r)return j}}if(n)return false;return r}var v=/[\.\s]\s*\.?/,A=/[\n\t]/g;m.mix(b,{hasClass:function(x,i){return t(x,i,function(k,n,y){if(k=k.className){k=(" "+k+" ").replace(A," ");for(var j=0,p=true;j<y;j++)if(k.indexOf(" "+n[j]+
" ")<0){p=false;break}if(p)return true}},true)},addClass:function(x,i){t(x,i,function(k,n,y){var j=k.className;if(j){var p=(" "+j+" ").replace(A," ");j=j;for(var o=0;o<y;o++)if(p.indexOf(" "+n[o]+" ")<0)j+=" "+n[o];k.className=m.trim(j)}else k.className=i},r)},removeClass:function(x,i){t(x,i,function(k,n,y){var j=k.className;if(j)if(y){j=(" "+j+" ").replace(A," ");for(var p=0,o;p<y;p++)for(o=" "+n[p]+" ";j.indexOf(o)>=0;)j=j.replace(o," ");k.className=m.trim(j)}else k.className=""},r)},replaceClass:function(x,
i,k){b.removeClass(x,i);b.addClass(x,k)},toggleClass:function(x,i,k){var n=m.isBoolean(k),y;t(x,i,function(j,p,o){for(var w=0,z;w<o;w++){z=p[w];y=n?!k:b.hasClass(j,z);b[y?"removeClass":"addClass"](j,z)}},r)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(m,b,r,t){function v(a,d){if(m.isPlainObject(d))if(j(a))b.attr(a,d,true);else a.nodeType==b.DOCUMENT_FRAGMENT_NODE&&m.each(a.childNodes,function(f){b.attr(f,d,true)});return a}function A(a,d){var f=null,h,q;if(a&&(a.push||a.item)&&a[0]){d=d||a[0].ownerDocument;f=d.createDocumentFragment();if(a.item)a=m.makeArray(a);h=0;for(q=a.length;h<q;h++)f.appendChild(a[h])}return f}function x(a,d,f,h){if(f){var q=m.guid("ks-tmp-"),B=RegExp(z);d+='<span id="'+q+'"></span>';m.available(q,
function(){var D=b.get("head"),E,H,G,I,K,J;for(B.lastIndex=0;E=B.exec(d);)if((G=(H=E[1])?H.match(F):false)&&G[2]){E=k.createElement("script");E.src=G[2];if((I=H.match(u))&&I[2])E.charset=I[2];E.async=true;D.appendChild(E)}else if((J=E[2])&&J.length>0)m.globalEval(J);(K=k.getElementById(q))&&b.remove(K);m.isFunction(h)&&h()});i(a,d)}else{i(a,d);m.isFunction(h)&&h()}}function i(a,d){d=(d+"").replace(z,"");try{a.innerHTML=d}catch(f){for(;a.firstChild;)a.removeChild(a.firstChild);d&&a.appendChild(b.create(d))}}
var k=document,n=r.ie,y=b._nodeTypeIs,j=b._isElementNode,p=k.createElement("div"),o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<(\w+)/,z=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,F=/\ssrc=(['"])(.*?)\1/i,u=/\scharset=(['"])(.*?)\1/i;m.mix(b,{create:function(a,d,f){if(y(a,1)||y(a,3)){d=a;f=d.cloneNode(true);if(r.ie<8)f.innerHTML=d.innerHTML;return f}if(!(a=m.trim(a)))return null;var h=null,q=b._creators,B,D="div",
E;if(B=C.exec(a))h=(f||k).createElement(B[1]);else{a=a.replace(o,"<$1></$2>");if((B=w.exec(a))&&(E=B[1]))D=E.toLowerCase();a=(q[D]||q.div)(a,f).childNodes;if(a.length===1)h=a[0].parentNode.removeChild(a[0]);else if(a.length)h=A(a,f||k)}return v(h,d)},_creators:{div:function(a,d){var f=d?d.createElement("div"):p;f.innerHTML="m<div>"+a+"</div>";return f.lastChild}},html:function(a,d,f,h){if(d===t){a=b.get(a);if(j(a))return a.innerHTML}else m.each(b.query(a),function(q){j(q)&&x(q,d,f,h)})},remove:function(a){m.each(b.query(a),
function(d){d.parentNode&&d.parentNode.removeChild(d)})},_nl2frag:A});if(n||r.gecko||r.webkit){var l=b._creators,s=b.create,g=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,c={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},e;for(e in c)(function(a){l[e]=function(d,f){return s("<"+a+">"+d+"</"+a+">",null,f)}})(c[e]);if(n<8)l.tbody=function(a,d){var f=s("<table>"+a+"</table>",null,d),h=f.children.tags("tbody")[0];f.children.length>1&&h&&!g.test(a)&&h.parentNode.removeChild(h);
return f};m.mix(l,{optgroup:l.option,th:l.td,thead:l.tbody,tfoot:l.tbody,caption:l.tbody,colgroup:l.tbody})}return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(m,b,r){var t=window,v="_ks_data_"+m.now(),A={},x={},i={};i.applet=1;i.object=1;i.embed=1;var k={hasData:function(j,p){if(j)if(p!==r){if(p in j)return true}else if(!m.isEmptyObject(j))return true;return false}},n={hasData:function(j,p){if(j==t)return n.hasData(x,p);return k.hasData(j[v],p)},data:function(j,p,o){if(j==t)return n.data(x,p,o);var w=j[v];if(o!==r){w=j[v]=j[v]||{};w[p]=o}else if(p!==r)return w&&w[p];else return w=j[v]=j[v]||{}},removeData:function(j,p){if(j==
t)return n.removeData(x,p);var o=j[v];if(o)if(p!==r){delete o[p];m.isEmptyObject(o)&&n.removeData(j,r)}else delete j[v]}},y={hasData:function(j,p){var o=j[v];if(!o)return false;return k.hasData(A[o],p)},data:function(j,p,o){if(!i[j.nodeName.toLowerCase()]){var w=j[v];w||(w=j[v]=m.guid());j=A[w];if(o!==r){j=A[w]=A[w]||{};j[p]=o}else if(p!==r)return j&&j[p];else return j=A[w]=A[w]||{}}},removeData:function(j,p){var o=j[v];if(o){var w=A[o];if(w)if(p!==r){delete w[p];m.isEmptyObject(w)&&y.removeData(j,
r)}else{delete A[o];try{delete j[v]}catch(z){}j.removeAttribute&&j.removeAttribute(v)}}}};m.mix(b,{hasData:function(j,p){var o=false;b.query(j).each(function(w){o=w&&w.nodeType?o||y.hasData(w,p):o||n.hasData(w,p)});return o},data:function(j,p,o){if(m.isPlainObject(p))for(var w in p)b.data(j,w,p[w]);else if(o===r)return(j=b.get(j))&&j.nodeType?y.data(j,p,o):n.data(j,p,o);else b.query(j).each(function(z){z&&z.nodeType?y.data(z,p,o):n.data(z,p,o)})},removeData:function(j,p){b.query(j).each(function(o){o&&
o.nodeType?y.removeData(o,p):n.removeData(o,p)})}});return b},{requires:["./base"]});
KISSY.add("dom/insertion",function(m,b){function r(x,i,k){x=b.query(x);i=b.query(i);if(x=t(x)){var n;if(i.length>1)n=x.cloneNode(true);for(var y=0;y<i.length;y++){var j=i[y],p=y>0?n.cloneNode(true):x;k(p,j)}}}var t=b._nl2frag;m.mix(b,{insertBefore:function(x,i){r(x,i,function(k,n){n.parentNode&&n.parentNode.insertBefore(k,n)})},insertAfter:function(x,i){r(x,i,function(k,n){n.parentNode&&n.parentNode.insertBefore(k,n.nextSibling)})},appendTo:function(x,i){r(x,i,function(k,n){n.appendChild(k)})},prependTo:function(x,
i){r(x,i,function(k,n){n.insertBefore(k,n.firstChild)})}});var v={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},A;for(A in v)b[A]=b[v[A]];return b},{requires:["./create"]});
KISSY.add("dom/offset",function(m,b,r,t){function v(c){var e,a=0;e=0;var d=i.body,f=p(c[C]);if(c[g]){e=c[g]();a=e[F];e=e[u];c=k&&i.documentMode!=9&&(o?n.clientTop:d.clientTop)||0;a-=k&&i.documentMode!=9&&(o?n.clientLeft:d.clientLeft)||0;e-=c;if(r.mobile=="apple"){a-=b[l](f);e-=b[s](f)}}return{left:a,top:e}}function A(c,e){var a={left:0,top:0},d=p(c[C]),f=c;e=e||d;do{var h;if(d==e){var q=f;h=v(q);q=p(q[C]);h.left+=b[l](q);h.top+=b[s](q);h=h}else h=v(f);h=h;a.left+=h.left;a.top+=h.top}while(d&&d!=e&&
(f=d.frameElement)&&(d=d.parent));return a}var x=window,i=document,k=r.ie,n=i.documentElement,y=b._isElementNode,j=b._nodeTypeIs,p=b._getWin,o=i.compatMode==="CSS1Compat",w=Math.max,z=parseInt,C="ownerDocument",F="left",u="top",l="scrollLeft",s="scrollTop",g="getBoundingClientRect";m.mix(b,{offset:function(c,e,a){if((c=b.get(c))&&c[C]){if(e===t)return A(c,a);c=c;if(b.css(c,"position")==="static")c.style.position="relative";a=A(c);var d={},f,h;for(h in e){f=z(b.css(c,h),10)||0;d[h]=f+e[h]-a[h]}b.css(c,
d)}},scrollIntoView:function(c,e,a,d){if((c=b.get(c))&&c[C]){d=d===t?true:!!d;a=a===t?true:!!a;if(!e||(e=b.get(e))===x)c.scrollIntoView(a);else{if(j(e,9))e=p(e);var f=!!p(e),h=b.offset(c),q=f?{left:b.scrollLeft(e),top:b.scrollTop(e)}:b.offset(e),B={left:h[F]-q[F],top:h[u]-q[u]};h=f?b.viewportHeight(e):e.clientHeight;f=f?b.viewportWidth(e):e.clientWidth;q=b[l](e);var D=b[s](e),E=q+f,H=D+h,G=c.offsetHeight;c=c.offsetWidth;var I=B.left+q-(z(b.css(e,"borderLeftWidth"))||0);B=B.top+D-(z(b.css(e,"borderTopWidth"))||
0);var K=I+c,J=B+G,L,M;if(G>h||B<D||a)L=B;else if(J>H)L=J-h;if(d)if(c>f||I<q||a)M=I;else if(K>E)M=K-f;b[s](e,L);b[l](e,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});m.each(["Left","Top"],function(c,e){var a="scroll"+c;b[a]=function(d,f){if(m.isNumber(d))arguments.callee(x,d);else{d=b.get(d);var h=0,q=p(d);if(q){if(f!==t){h=c=="Left"?f:b.scrollLeft(q);var B=c=="Top"?f:b.scrollTop(q);q.scrollTo(h,B)}h=q.document;h=q[e?"pageYOffset":"pageXOffset"]||h.documentElement[a]||h.body[a]}else if(y(d=
b.get(d)))h=f===t?d[a]:d[a]=f;return f===t?h:t}}});m.each(["Width","Height"],function(c){b["doc"+c]=function(e){e=b.get(e);e=p(e).document;return w(e.documentElement["scroll"+c],e.body["scroll"+c],b["viewport"+c](e))};b["viewport"+c]=function(e){e=b.get(e);var a="inner"+c;e=p(e);var d=e.document;return a in e?e[a]:o?d.documentElement["client"+c]:d.body["client"+c]}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(m,b,r){function t(a,d){var f=[],h;h=d===r?[y]:t(d,r);o(h,function(q){F.apply(f,v(a,q))});if(m.isString(a)&&a.indexOf(",")>-1||h.length>1)c(f);f.each=m.bind(o,r,f);return f}function v(a,d){var f=[];p("sizzle");if(l(a))a=m.trim(a);if(l(a)&&a.indexOf(",")>-1)f=A(a,d);else{if(l(a)&&!g.exec(String(a))){f=a;var h=[],q=p("sizzle");q&&q(f,d,h);f=h}else f=x(a,d);f=f}return f=f}function A(a,d){var f=[],h=a.split(",");o(h,function(q){F.apply(f,v(q,d))});return f}function x(a,
d){var f,h,q=[],B;if(l(a))if(s.test(a)){if(h=k(a.slice(1),d))q=[h]}else{if(f=g.exec(a)){h=f[1];B=f[2];f=f[3];if(d=h?k(h,d):d)if(f)if(!h||a.indexOf(u)!=-1)q=[].concat(e(f,B,d));else{if((h=k(h,d))&&b.hasClass(h,f))q=[h]}else if(B)q=n(B,d)}}else if(a&&(w(a)||C(a)))q=j(a,function(D){return i(D,d)});else if(a)if(i(a,d))q=[a];return q}function i(a,d){if(!a)return false;if(d==y)return true;return b.__contains(d,a)}function k(a,d){if(!d)return null;var f=d;if(d.nodeType!==9)f=d.ownerDocument;f=f.getElementById(a);
if(!i(f,d))return null;return f}function n(a,d){return d&&z(d.getElementsByTagName(a))||[]}var y=document,j=m.filter,p=m.require,o=m.each,w=m.isArray,z=m.makeArray,C=b._isNodeList,F=Array.prototype.push,u=" ",l=m.isString,s=/^#[\w-]+$/,g=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,c;(function(){var a,d,f=true;[0,0].sort(function(){f=false;return 0});c=function(h){if(a){d=f;h.sort(a);if(d)for(var q=1,B=h.length;q<B;)if(h[q]===h[q-1])h.splice(q,1);else q++}return h};a=y.documentElement.compareDocumentPosition?
function(h,q){if(h==q){d=true;return 0}if(!h.compareDocumentPosition||!q.compareDocumentPosition)return h.compareDocumentPosition?-1:1;return h.compareDocumentPosition(q)&4?-1:1}:function(h,q){if(h==q){d=true;return 0}else if(h.sourceIndex&&q.sourceIndex)return h.sourceIndex-q.sourceIndex}})();(function(){var a=y.createElement("div");a.appendChild(y.createComment(""));if(a.getElementsByTagName("*").length>0)n=function(d,f){var h=z(f.getElementsByTagName(d));if(d==="*"){for(var q=[],B=0,D;D=h[B++];)D.nodeType===
1&&q.push(D);h=q}return h}})();var e=y.getElementsByClassName?function(a,d,f){if(!f)return[];f=a=z(f.getElementsByClassName(a));var h=0,q=a.length,B;if(d&&d!=="*")for(f=z();h<q;++h){B=a[h];B.nodeName.toLowerCase()==d.toLowerCase()&&f.push(B)}return f}:y.querySelectorAll?function(a,d,f){return f&&z(f.querySelectorAll((d?d:"")+"."+a))||[]}:function(a,d,f){if(!f)return[];d=z(f.getElementsByTagName(d||"*"));f=[];for(var h=0,q=d.length,B;h<q;++h){B=d[h];b.hasClass(B,a)&&f.push(B)}return f};m.mix(b,{query:t,
get:function(a,d){return t(a,d)[0]||null},unique:c,filter:function(a,d,f){a=t(a,f);f=p("sizzle");var h,q,B,D=[];if(l(d)&&(h=g.exec(d))&&!h[1]){q=h[2];B=h[3];d=function(E){var H=true,G=true;if(q)H=E.nodeName.toLowerCase()==q.toLowerCase();if(B)G=b.hasClass(E,B);return G&&H}}if(m.isFunction(d))D=m.filter(a,d);else if(d&&f)D=f.matches(d,a);return D},test:function(a,d,f){a=t(a,f);return a.length&&b.filter(a,d,f).length===a.length}});return b},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(m,b,r,t){if(!r.ie)return b;var v=document,A=v.documentElement,x=t._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,k=/^-?\d/,n=/^(?:width|height)$/;try{if(m.isNullOrUndefined(A.style.opacity)&&A.filters)x.opacity={get:function(o){var w=100;try{w=o.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{w=o.filters("alpha").opacity}catch(C){if(o=((o.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))w=parseInt(m.trim(o[1]))}}return w/100+""},set:function(o,
w){var z=o.style,C=(o.currentStyle||0).filter||"";z.zoom=1;if(C)C=m.trim(C.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(C&&w!=1)C+=", ";z.filter=C+(w===1?"":"alpha(opacity="+w*100+")")}}}catch(y){}r=r.ie==8;var j={},p={get:function(o,w){var z=o.currentStyle[w]+"";if(z.indexOf("px")<0)z=j[z]?j[z]:0;return z}};j.thin=r?"1px":"2px";j.medium=r?"3px":"4px";j.thick=r?"5px":"6px";m.each(["","Top","Left","Right","Bottom"],function(o){x["border"+o+"Width"]=p});if(!(v.defaultView||{}).getComputedStyle&&
A.currentStyle)b._getComputedStyle=function(o,w){var z=o.style,C=o.currentStyle[w];if(n.test(w))C=b[w](o)+"px";else if(!i.test(C)&&k.test(C)){var F=z.left,u=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left;z.left=w==="fontSize"?"1em":C||0;C=z.pixelLeft+"px";z.left=F;o.runtimeStyle.left=u}return C};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(m,b,r,t){function v(u,l){var s=b.get(u);if(m.isWindow(s))return l==n?b.viewportWidth(s):b.viewportHeight(s);else if(s.nodeType==9)return l==n?b.docWidth(s):b.docHeight(s);var g=l===n?s.offsetWidth:s.offsetHeight;m.each(l===n?["Left","Right"]:["Top","Bottom"],function(c){g-=parseFloat(b._getComputedStyle(s,"padding"+c))||0;g-=parseFloat(b._getComputedStyle(s,"border"+c+"Width"))||0});return g}function A(u,l,s){var g=s;if(s===y&&p.test(l)){g=0;if(m.inArray(b.css(u,"position"),
["absolute","fixed"])){s=u[l==="left"?"offsetLeft":"offsetTop"];if(k&&document.documentMode!=9||r.opera)s-=u.offsetParent["client"+(l=="left"?"Left":"Top")]||0;g=s-(j(b.css(u,"margin-"+l))||0)}}return g}var x=document,i=x.documentElement,k=r.ie,n="width",y="auto",j=parseInt,p=/^(?:left|top)/,o=/^(?:width|height|top|left|right|bottom|margin|padding)/i,w=/-([a-z])/ig,z=function(u,l){return l.toUpperCase()},C={},F={};m.mix(b,{_CUSTOM_STYLES:C,_getComputedStyle:function(u,l){var s="",g={},c=u.ownerDocument;
if(u.style&&(g=c.defaultView.getComputedStyle(u,null)))s=g[l];return s},css:function(u,l,s){if(m.isPlainObject(l))for(var g in l)b.css(u,g,l[g]);else{if(l.indexOf("-")>0)l=l.replace(w,z);g=l;l=C[l]||l;if(s===t){u=b.get(u);var c="";if(u&&u.style){c=l.get?l.get(u,g):u.style[l];if(c===""&&!l.get)c=A(u,l,b._getComputedStyle(u,l))}return c===t?"":c}else{if(s===null||s==="")s="";else if(!isNaN(new Number(s))&&o.test(l))s+="px";(l===n||l==="height")&&parseFloat(s)<0||m.each(b.query(u),function(e){if(e&&
e.style){l.set?l.set(e,s):e.style[l]=s;if(s==="")e.style.cssText||e.removeAttribute("style")}})}}},width:function(u,l){if(l===t)return v(u,n);else b.css(u,n,l)},height:function(u,l){if(l===t)return v(u,"height");else b.css(u,"height",l)},show:function(u){b.query(u).each(function(l){if(l){l.style.display=b.data(l,"display")||"";if(b.css(l,"display")==="none"){var s=l.tagName,g=F[s],c;if(!g){c=x.createElement(s);x.body.appendChild(c);g=b.css(c,"display");b.remove(c);F[s]=g}b.data(l,"display",g);l.style.display=
g}}})},hide:function(u){b.query(u).each(function(l){if(l){var s=l.style,g=s.display;if(g!=="none"){g&&b.data(l,"display",g);s.display="none"}}})},toggle:function(u){b.query(u).each(function(l){if(l)b.css(l,"display")==="none"?b.show(l):b.hide(l)})},addStyleSheet:function(u,l,s){if(m.isString(u)){s=l;l=u;u=window}u=b.get(u);u=b._getWin(u).document;var g;if(s&&(s=s.replace("#","")))g=b.get("#"+s,u);if(!g){g=b.create("<style>",{id:s},u);b.get("head",u).appendChild(g);if(g.styleSheet)g.styleSheet.cssText=
l;else g.appendChild(u.createTextNode(l))}},unselectable:function(u){b.query(u).each(function(l){if(l)if(r.gecko)l.style.MozUserSelect="none";else if(r.webkit)l.style.KhtmlUserSelect="none";else if(r.ie||r.opera){var s=0,g=l.getElementsByTagName("*");for(l.setAttribute("unselectable","on");l=g[s++];)switch(l.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:l.setAttribute("unselectable","on")}}})}});if(i.style.cssFloat!==t)C["float"]="cssFloat";else if(i.style.styleFloat!==
t)C["float"]="styleFloat";return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(m,b,r){function t(i,k,n,y,j,p){if(!(i=b.get(i)))return null;if(k===0)return i;p||(i=i[n]);if(!i)return null;j=j&&b.get(j)||null;if(k===r)k=1;p=[];var o=m.isArray(k),w,z;if(m.isNumber(k)){w=0;z=k;k=function(){return++w===z}}for(;i&&i!=j;){if(x(i)&&v(i,k)&&(!y||y(i))){p.push(i);if(!o)break}i=i[n]}return o?p:p[0]||null}function v(i,k){if(!k)return true;if(m.isArray(k))for(var n=0;n<k.length;n++){if(b.test(i,k[n]))return true}else if(b.test(i,k))return true;return false}
function A(i,k,n){var y=[];var j=i=b.get(i);if(i&&n)j=i.parentNode;if(j){n=0;for(j=j.firstChild;j;j=j.nextSibling)if(x(j)&&j!==i&&(!k||b.test(j,k)))y[n++]=j}return y}var x=b._isElementNode;m.mix(b,{closest:function(i,k,n){return t(i,k,"parentNode",function(y){return y.nodeType!=b.DOCUMENT_FRAGMENT_NODE},n,true)},parent:function(i,k,n){return t(i,k,"parentNode",function(y){return y.nodeType!=b.DOCUMENT_FRAGMENT_NODE},n)},first:function(i,k){var n=b.get(i);if(!n||!n.firstChild)return null;return t(n.firstChild,
k,"nextSibling",r,r,true)},last:function(i,k){var n=b.get(i);if(!n||!n.lastChild())return null;return t(n.lastChild,k,"previousSibling",r,r,true)},next:function(i,k){return t(i,k,"nextSibling",r)},prev:function(i,k){return t(i,k,"previousSibling",r)},siblings:function(i,k){return A(i,k,true)},children:function(i,k){return A(i,k,r)},__contains:document.documentElement.contains?function(i,k){if(i.nodeType==b.TEXT_NODE)return false;var n;if(k.nodeType==b.TEXT_NODE){k=k.parentNode;n=true}else if(k.nodeType==
b.DOCUMENT_NODE)return false;else n=i!==k;return n&&(i.contains?i.contains(k):true)}:document.documentElement.compareDocumentPosition?function(i,k){return!!(i.compareDocumentPosition(k)&16)}:0,contains:function(i,k){i=b.get(i);k=b.get(k);return b.__contains(i,k)},equals:function(i,k){i=b.query(i);k=b.query(k);if(i.length!=k.length)return false;for(var n=i.length;n>=0;n--)if(i[n]!=k[n])return false;return true}});return b},{requires:["./base"]});
KISSY.add("dom",function(m,b){return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
