/*
Copyright 2012, KISSY UI Library v1.20
MIT Licensed
build time: May 22 14:18
*/
KISSY.add("switchable/base",function(e,d,g,i){function f(c,a){a=a||{};"markupType"in a||(a.panelCls?a.markupType=1:a.panels&&(a.markupType=2));for(var k=this.constructor;k;)a=e.merge(k.Config,a),k=k.superclass?k.superclass.constructor:null;this.container=d.get(c);this.config=a;this.activeIndex=this.completedIndex=a.activeIndex;!(-1<this.activeIndex)&&"number"!=typeof a.switchTo&&(this.completedIndex=this.activeIndex=0);this._init();this._initPlugins();this.fire(l);-1<this.activeIndex||"number"==typeof a.switchTo&&
this.switchTo(a.switchTo)}function m(c){var a={};a.type=c.originalEvent.type;a.target=c.originalEvent.target||c.originalEvent.srcElement;return{originalEvent:a}}var h=e.makeArray,b=g.Target,l="init";f.getDomEvent=m;f.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:!0,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",steps:1,viewSize:[]};f.Plugins=
[];e.augment(f,b,{_initPlugins:function(){for(var c=this,a=c.constructor;a;)e.each(a.Plugins,function(a){a.init&&a.init(c)}),a=a.superclass?a.superclass.constructor:null},_init:function(){var c=this.config;this._parseMarkup();c.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var c=this.container,a=this.config,k,e,j=[],b=[];switch(a.markupType){case 0:(k=d.get("."+a.navCls,c))&&(j=d.children(k));e=d.get("."+a.contentCls,c);b=d.children(e);break;case 1:j=d.query("."+a.triggerCls,c);b=d.query("."+
a.panelCls,c);break;case 2:j=a.triggers,b=a.panels}c=b.length;this.length=Math.ceil(c/a.steps);a.hasTriggers&&0<c&&0===j.length&&(j=this._generateTriggersMarkup(this.length));this.triggers=h(j);this.panels=h(b);this.content=e||b[0].parentNode;this.nav=k||a.hasTriggers&&j[0].parentNode},_generateTriggersMarkup:function(c){var a=this.config,b=d.create("<ul>"),e,j;b.className=a.navCls;for(j=0;j<c;j++)e=d.create("<li>"),j===this.activeIndex&&(e.className=a.activeTriggerCls),e.innerHTML=j+1,b.appendChild(e);
this.container.appendChild(b);return d.children(b)},_bindTriggers:function(){var c=this,a=c.config,d=c.triggers,b,e,f=d.length;for(e=0;e<f;e++)(function(e){b=d[e];g.on(b,"click",function(a){c._onFocusTrigger(e,a)});"mouse"===a.triggerType&&(g.on(b,"mouseenter",function(a){c._onMouseEnterTrigger(e,a)}),g.on(b,"mouseleave",function(){c._onMouseLeaveTrigger(e)}))})(e)},_onFocusTrigger:function(c,a){this._triggerIsValid(c)&&(this._cancelSwitchTimer(),this.switchTo(c,i,m(a)))},_onMouseEnterTrigger:function(c,
a){var d=this;if(d._triggerIsValid(c)){var b=m(a);d.switchTimer=e.later(function(){d.switchTo(c,i,b)},1E3*d.config.delay)}},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(c){return this.activeIndex!==c},_cancelSwitchTimer:function(){this.switchTimer&&(this.switchTimer.cancel(),this.switchTimer=i)},switchTo:function(c,a,d,e){var b=this,f=b.config,l=b.triggers,g=b.panels,n=b.activeIndex,h=f.steps,p=n*h,m=c*h;if(!b._triggerIsValid(c)||!1===b.fire("beforeSwitch",{toIndex:c}))return b;
f.hasTriggers&&b._switchTrigger(-1<n?l[n]:null,l[c]);a===i&&(a=c>n?"forward":"backward");b._switchView(-1<n?g.slice(p,p+h):null,g.slice(m,m+h),c,a,d,function(){e&&e.call(b,c);b.completedIndex=c});b.activeIndex=c;return b},_switchTrigger:function(c,a){var b=this.config.activeTriggerCls;c&&d.removeClass(c,b);d.addClass(a,b)},_switchView:function(c,a,b,e,f,l){c&&d.css(c,"display","none");d.css(a,"display","block");this._fireOnSwitch(b,f);l&&l.call(this)},_fireOnSwitch:function(b,a){this.fire("switch",
e.mix(a||{},{currentIndex:b}))},prev:function(b){var a=this.activeIndex;this.switchTo(0<a?a-1:this.length-1,"backward",b)},next:function(b){var a=this.activeIndex;this.switchTo(a<this.length-1?a+1:0,"forward",b)}});return f},{requires:["dom","event"]});
KISSY.add("switchable/aria",function(e,d,g,i){function f(){this.stop&&this.stop()}function m(){this.start&&this.start()}i.Plugins.push({name:"aria",init:function(b){if(b.config.aria){var d=b.container;g.on(d,"focusin",f,b);g.on(d,"focusout",m,b)}}});var h=["a","input","button","object"];return{setTabIndex:function(b,f){b.tabIndex=f;d.query("*",b).each(function(b){var a=b.nodeName.toLowerCase();e.inArray(a,h)&&(d.hasAttr(b,"oriTabIndex")||d.attr(b,"oriTabIndex",b.tabIndex),b.tabIndex=-1!=f?d.attr(b,
"oriTabIndex"):f)})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/accordion/base",function(e,d,g){function i(d,e){if(!(this instanceof i))return new i(d,e);i.superclass.constructor.apply(this,arguments)}e.extend(i,g,{_switchTrigger:function(e,g){var h=this.config;h.multiple?d.toggleClass(g,h.activeTriggerCls):i.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(d){return this.config.multiple||i.superclass._triggerIsValid.call(this,d)},_switchView:function(e,g,h,b,l,c){var a=g[0];this.config.multiple?(d.toggle(a),this._fireOnSwitch(h,
l),c&&c.call(this)):i.superclass._switchView.apply(this,arguments)}});i.Plugins=[];i.Config={markupType:1,triggerType:"click",multiple:!1};return i},{requires:["dom","../base"]});
KISSY.add("switchable/accordion/aria",function(e,d,g,i,f){function m(a){var b;e.each(this.triggers,function(e){if(e==a||d.contains(e,a))b=e});return b}function h(a){var b;e.each(this.panels,function(e){if(e==a||d.contains(e,a))b=e});return b}function b(a){var b=m.call(this,a);b||(a=h.call(this,a),b=this.triggers[e.indexOf(a,this.panels)]);return b}function l(a){switch(a.keyCode){case u:case q:a.ctrlKey&&!a.altKey&&!a.shiftKey&&a.halt();break;case v:a.ctrlKey&&!a.altKey&&a.halt()}}function c(d){var c=
d.target,f=this.triggers,g=!d.ctrlKey&&!d.shiftKey&&!d.altKey,l=d.ctrlKey&&!d.shiftKey&&!d.altKey;switch(d.keyCode){case x:case D:if((c=m.call(this,c))&&g)this.switchTo(e.indexOf(c,this.triggers)),d.halt();break;case t:case p:if(c=m.call(this,c))k.call(this,c),d.halt();break;case z:case o:if(c=m.call(this,c))r.call(this,c),d.halt();break;case q:l&&(d.halt(),c=b.call(this,c),r.call(this,c));break;case u:l&&(d.halt(),c=b.call(this,c),k.call(this,c));break;case n:g&&(b.call(this,c),a.call(this,0,!0),
d.halt());break;case s:g&&(b.call(this,c),a.call(this,f.length-1,!0),d.halt());break;case v:d.ctrlKey&&!d.altKey&&(d.halt(),c=b.call(this,c),d.shiftKey?k.call(this,c):r.call(this,c))}}function a(a,b){var c=this.triggers,o=c[a];e.each(c,function(a){a!==o&&(w(a,"-1"),d.removeClass(a,"ks-switchable-select"),a.setAttribute("aria-selected","false"))});b&&o.focus();w(o,"0");d.addClass(o,"ks-switchable-select");o.setAttribute("aria-selected","true")}function k(b){var d=this.triggers,b=e.indexOf(b,d);a.call(this,
0==b?d.length-1:b-1,!0)}function r(b){var d=this.triggers,b=e.indexOf(b,d);a.call(this,b==d.length-1?0:b+1,!0)}function j(b){var d=!(!b.originalEvent.target&&!b.originalEvent.srcElement),b=b.currentIndex,c=this.panels,o=this.triggers,f=o[b],p=c[b];this.config.multiple||(e.each(c,function(a){a!==p&&a.setAttribute("aria-hidden","true")}),e.each(o,function(a){a!==f&&a.setAttribute("aria-hidden","true")}));c=p.getAttribute("aria-hidden");p.setAttribute("aria-hidden","false"==c?"true":"false");f.setAttribute("aria-expanded",
"false"==c?"false":"true");a.call(this,b,d)}var u=33,q=34,s=35,n=36,t=37,p=38,z=39,o=40,v=9,D=32,x=13;e.mix(f.Config,{aria:!0});f.Plugins.push({name:"aria",init:function(a){if(a.config.aria){var b=a.container,o=a.activeIndex;d.attr(b,"aria-multiselectable",a.config.multiple?"true":"false");a.nav&&d.attr(a.nav,"role","tablist");var f=a.triggers,p=a.panels,v=0;e.each(p,function(a){a.id||(a.id=e.guid("ks-accordion-tab-panel"))});e.each(f,function(a){a.id||(a.id=e.guid("ks-accordion-tab"))});e.each(f,
function(a){a.setAttribute("role","tab");a.setAttribute("aria-expanded",o==v?"true":"false");a.setAttribute("aria-selected",o==v?"true":"false");a.setAttribute("aria-controls",p[v].id);w(a,o==v?"0":"-1");v++});v=0;e.each(p,function(a){var b=f[v];a.setAttribute("role","tabpanel");a.setAttribute("aria-hidden",o==v?"false":"true");a.setAttribute("aria-labelledby",b.id);v++});a.on("switch",j,a);g.on(b,"keydown",c,a);g.on(b,"keypress",l,a)}}});var w=i.setTabIndex},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/autoplay",function(e,d,g,i){e.mix(g.Config,{autoplay:!1,interval:5,pauseOnHover:!0});g.Plugins.push({name:"autoplay",init:function(f){function g(){l=e.later(function(){f.paused||f.switchTo(f.activeIndex<f.length-1?f.activeIndex+1:0,"forward")},b,!0)}var h=f.config,b=1E3*h.interval,l;h.autoplay&&(g(),f.stop=function(){l&&(l.cancel(),l=i);f.paused=!0},f.start=function(){l&&(l.cancel(),l=i);f.paused=!1;g()},h.pauseOnHover&&(d.on(f.container,"mouseenter",f.stop,f),d.on(f.container,
"mouseleave",f.start,f)))}});return g},{requires:["event","./base"]});KISSY.add("switchable/autorender",function(e,d,g,i){i.autoRender=function(f,i){d.query("."+(f||"KS_Widget"),i).each(function(d){var b=d.getAttribute("data-widget-type"),f;if(b&&-1<"Switchable Tabs Slide Carousel Accordion".indexOf(b))try{(f=d.getAttribute("data-widget-config"))&&(f=f.replace(/'/g,'"')),new e[b](d,g.parse(f))}catch(c){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/carousel/base",function(e,d,g,i,f){function m(b,d){if(!(this instanceof m))return new m(b,d);m.superclass.constructor.apply(this,arguments)}var h={originalEvent:{target:1}};m.Config={circular:!0,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};m.Plugins=[];e.extend(m,i,{_init:function(){var b=this;m.superclass._init.call(b);var l=b.config,c=l.disableBtnCls;e.each(["prev","next"],function(a){var e=b[a+"Btn"]=d.get("."+
l[a+"BtnCls"],b.container);g.on(e,"mousedown",function(f){f.preventDefault();if(!d.hasClass(e,c))b[a](h)})});if(!l.circular)b.on("switch",function(a){a=a.currentIndex;a=0===a?b.prevBtn:a===b.length-1?b.nextBtn:f;d.removeClass([b.prevBtn,b.nextBtn],c);a&&d.addClass(a,c)});g.on(b.panels,"click",function(){b.fire("itemSelected",{item:this})})}});return m},{requires:["dom","event","../base"]});
KISSY.add("switchable/carousel/aria",function(e,d,g,i,f){function m(a){var b=a.currentIndex,d=this.activeIndex,c=this.panels,f=c[b*this.config.steps],p=this.triggers,b=p[b];if((a=!(!a.originalEvent.target&&!a.originalEvent.srcElement))||-1==d)e.each(p,function(a){n(a,-1)}),e.each(c,function(a){n(a,-1)}),b&&n(b,0),n(f,0),a&&f.focus()}function h(a){var b;e.each(this.triggers,function(c){if(c==a||d.contains(c,a))return b=c,!1});return b}function b(a){var b=a.target;switch(a.keyCode){case u:case j:if(b=
h.call(this,b)){var c=d.next(b),f=this.triggers;c||(c=f[0]);n(b,-1);c&&(n(c,0),c.focus());a.halt()}break;case r:case k:if(b=h.call(this,b))c=d.prev(b),f=this.triggers,c||(c=f[f.length-1]),n(b,-1),c&&(n(c,0),c.focus()),a.halt();break;case s:case q:if(b=h.call(this,b))this.switchTo(e.indexOf(b,this.triggers),void 0,t),a.halt()}}function l(a){var b;e.each(this.panels,function(c){if(c==a||d.contains(c,a))return b=c,!1});return b}function c(a,b){var c=e.indexOf(a,this.panels),d=this.config.steps,f=Math.floor(c/
d);return f==this.activeIndex?1:0==c%d||c%d==d-1?(this.switchTo(f,b,t),0):1}function a(a){var b=a.target;switch(a.keyCode){case u:case j:if(b=l.call(this,b)){var e=d.next(b),f=this.panels;e||(e=f[0]);n(b,-1);n(e,0);c.call(this,e,p)&&e.focus();a.halt()}break;case r:case k:if(b=l.call(this,b))e=d.prev(b),f=this.panels,e||(e=f[f.length-1]),n(b,-1),n(e,0),c.call(this,e,z)&&e.focus(),a.halt();break;case s:case q:if(b=l.call(this,b))this.fire("itemSelected",{item:b}),a.halt()}}var k=37,r=38,j=39,u=40,q=
32,s=13,n=i.setTabIndex,t={originalEvent:{target:1}},p="forward",z="backward";e.mix(f.Config,{aria:!1});f.Plugins.push({name:"aria",init:function(c){if(c.config.aria){var d=c.triggers,f=c.panels,p=c.content,l=c.activeIndex;p.id||(p.id=e.guid("ks-switchbale-content"));p.setAttribute("role","listbox");var j=0;e.each(d,function(a){n(a,l==j?"0":"-1");a.setAttribute("role","button");a.setAttribute("aria-controls",p.id);j++});j=0;e.each(f,function(a){n(a,"-1");a.setAttribute("role","option");j++});c.on("switch",
m,c);if(d=c.nav)g.on(d,"keydown",b,c);g.on(p,"keydown",a,c);d=c.prevBtn;f=c.nextBtn;d&&(n(d,0),d.setAttribute("role","button"),g.on(d,"keydown",function(a){if(a.keyCode==s||a.keyCode==q){c.prev(t);a.preventDefault()}}));f&&(n(f,0),f.setAttribute("role","button"),g.on(f,"keydown",function(a){if(a.keyCode==s||a.keyCode==q){c.next(t);a.preventDefault()}}))}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/effect",function(e,d,g,i,f,m){var h;e.mix(f.Config,{effect:"none",duration:0.5,easing:"easeNone"});f.Effects={none:function(b,e,c){b&&d.css(b,"display","none");d.css(e,"display","block");c&&c()},fade:function(b,e,c){var a=this,f=a.config,g=b?b[0]:null,j=e[0];a.anim&&(a.anim.stop(),d.css(a.anim.fromEl,{zIndex:1,opacity:0}),d.css(a.anim.toEl,"zIndex",9));d.css(j,"opacity",1);g?(a.anim=(new i(g,{opacity:0},f.duration,f.easing,function(){a.anim=m;d.css(j,"z-index",9);d.css(g,"z-index",
1);c&&c()})).run(),a.anim.toEl=j,a.anim.fromEl=g):(d.css(j,"z-index",9),c&&c())},scroll:function(b,e,c,a){var f=this,e=f.config,g="scrollx"===e.effect,j={};j[g?"left":"top"]=-(f.viewSize[g?0:1]*a)+"px";f.anim&&f.anim.stop();b?f.anim=(new i(f.content,j,e.duration,e.easing,function(){f.anim=m;c&&c()})).run():(d.css(f.content,j),c&&c())}};h=f.Effects;h.scrollx=h.scrolly=h.scroll;f.Plugins.push({name:"effect",init:function(b){var f=b.config,c=f.effect,a=b.panels,g=b.content,h=f.steps,j=b.activeIndex,
i=a.length;b.viewSize=[f.viewSize[0]||a[0].offsetWidth*h,f.viewSize[1]||a[0].offsetHeight*h];if("none"!==c)switch(d.css(a,"display","block"),c){case "scrollx":case "scrolly":d.css(g,"position","absolute");"static"==d.css(g.parentNode,"position")&&d.css(g.parentNode,"position","relative");"scrollx"===c&&(d.css(a,"float","left"),d.width(g,b.viewSize[0]*(i/h)));break;case "fade":var m=j*h,s=m+h-1,n;e.each(a,function(a,b){n=b>=m&&b<=s;d.css(a,{opacity:n?1:0,position:"absolute",zIndex:n?9:1})})}}});e.augment(f,
{_switchView:function(b,d,c,a,f,g){var j=this,i=j.config.effect;(e.isFunction(i)?i:h[i]).call(j,b,d,function(){j._fireOnSwitch(c,f);g&&g.call(j)},c,a)}});return f},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/circular",function(e,d,g,i){function f(b,e,f,p,i){var o=this,e=o.config,l=o.length,k=o.activeIndex,x=e.scrollType===q,w=x?c:a,y=o.viewSize[x?0:1],x=-y*p,A={},C,B=i===u;(C=B&&0===k&&p===l-1||i===j&&k===l-1&&0===p)&&(x=m.call(o,o.panels,p,B,w,y));A[w]=x+r;o.anim&&(o.anim.stop(),"relative"==o.panels[k*e.steps].style.position&&h.call(o,o.panels,k,k,w,y));b?o.anim=(new g(o.content,A,e.duration,e.easing,function(){C&&h.call(o,o.panels,p,B,w,y);o.anim=void 0;f&&f()})).run():(d.css(o.content,
A),f&&f())}function m(a,c,e,f,g){var j=this.config.steps,c=this.length,h=e?c-1:0,a=a.slice(h*j,(h+1)*j);d.css(a,b,l);d.css(a,f,(e?-1:1)*g*c);return e?g:-g*c}function h(a,c,e,f,g){var j=this.config.steps,c=this.length,h=e?c-1:0,a=a.slice(h*j,(h+1)*j);d.css(a,b,k);d.css(a,f,k);d.css(this.content,f,e?-g*(c-1):k)}var b="position",l="relative",c="left",a="top",k="",r="px",j="forward",u="backward",q="scrollx";e.mix(i.Config,{circular:!1});i.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&
(a.effect===q||"scrolly"===a.effect))a.scrollType=a.effect,a.effect=f}})},{requires:["dom","anim","./base","./effect"]});
KISSY.add("switchable/countdown",function(e,d,g,i,f,m){e.mix(f.Config,{countdown:!1,countdownFromStyle:"",countdownToStyle:"width: 0"});f.Plugins.push({name:"countdown",init:function(f){function b(a){l();q=(new i(r[a],u,k-1)).run()}function l(){a&&(clearTimeout(a),a=null);q&&(q.stop(),q=m)}var c=f.config,a,k=c.interval,r=[],j=c.countdownFromStyle,u=c.countdownToStyle,q;c.autoplay&&c.hasTriggers&&c.countdown&&(e.each(f.triggers,function(a,b){a.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
a.innerHTML+"</div>";r[b]=a.firstChild}),c.pauseOnHover&&(g.on(f.container,"mouseenter",function(){l();var a=r[f.activeIndex];j?q=(new i(a,j,0.2,"easeOut")).run():d.attr(a,"style","")}),g.on(f.container,"mouseleave",function(){l();var c=f.activeIndex;d.attr(r[c],"style",j);a=setTimeout(function(){b(c)},200)})),f.on("beforeSwitch",function(){l();r[f.activeIndex]&&d.attr(r[f.activeIndex],"style",j||"")}),f.on("switch",function(a){f.paused||b(a.currentIndex)}),-1<f.activeIndex&&b(f.activeIndex))}});
return f},{requires:["dom","event","anim","./base"]});
KISSY.add("switchable/lazyload",function(e,d,g){var i="beforeSwitch",f="img",m="textarea",h={};h[f]="data-ks-lazyload-custom";h[m]="ks-datalazyload-custom";e.mix(g.Config,{lazyDataType:m});g.Plugins.push({name:"lazyload",init:function(b){function g(e){var h=a.steps,e=e.toIndex*h;c.loadCustomLazyData(b.panels.slice(e,e+h),k);a:{if(e=(h=k===f)?"img":k===m?"textarea":"")for(var e=d.query(e,b.container),q=0,s=e.length;q<s;q++){var n=e[q];if(h?d.attr(n,r):d.hasClass(n,r)){h=!1;break a}}h=!0}h&&b.detach(i,
g)}var c=e.require("datalazyload"),a=b.config,k,r;"img-src"===a.lazyDataType&&(a.lazyDataType=f);"area-data"===a.lazyDataType&&(a.lazyDataType=m);k=a.lazyDataType;r=h[k];if(c&&k&&r)b.on(i,g)}});return g},{requires:["dom","./base"]});KISSY.add("switchable/slide/base",function(e,d){function g(d,e){if(!(this instanceof g))return new g(d,e);g.superclass.constructor.apply(this,arguments)}g.Config={autoplay:!0,circular:!0};g.Plugins=[];e.extend(g,d);return g},{requires:["../base"]});
KISSY.add("switchable/slide/aria",function(e,d,g,i,f){function m(d){switch(d.keyCode){case c:case l:this.next(a);d.halt();break;case b:case h:this.prev(a),d.halt()}}var h=37,b=38,l=39,c=40;e.mix(f.Config,{aria:!1});var a={originalEvent:{target:1}},k=i.setTabIndex;f.Plugins.push({name:"aria",init:function(a){if(a.config.aria){var b=a.panels,c=0,f=a.activeIndex;e.each(a.triggers,function(a){k(a,"-1");c++});c=0;e.each(b,function(a){k(a,f==c?"0":"-1");d.attr(a,"role","option");c++});var h=a.content;d.attr(h,
"role","listbox");g.on(h,"keydown",m,a);k(b[0],0);a.on("switch",function(c){var d=c.currentIndex,c=!(!c.originalEvent.target&&!c.originalEvent.srcElement),e=a.completedIndex;-1<e&&k(b[e],-1);k(b[d],0);c&&b[d].focus()})}}})},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/tabs/base",function(e,d){function g(d,e){if(!(this instanceof g))return new g(d,e);g.superclass.constructor.call(this,d,e);return 0}e.extend(g,d);g.Config={};g.Plugins=[];return g},{requires:["../base"]});
KISSY.add("switchable/tabs/aria",function(e,d,g,i,f,m){function h(a){var b;e.each(this.triggers,function(c){if(c==a||d.contains(c,a))b=c});return b}function b(b){switch(b.keyCode){case a:case k:b.ctrlKey&&!b.altKey&&!b.shiftKey&&b.halt();break;case s:b.ctrlKey&&!b.altKey&&b.halt()}}function l(b){var c=b.target,d=b.ctrlKey&&!b.shiftKey&&!b.altKey;switch(b.keyCode){case r:case j:h.call(this,c)&&(this.prev(t(b)),b.halt());break;case u:case q:h.call(this,c)&&(this.next(t(b)),b.halt());break;case k:d&&
(b.halt(),this.next(t(b)));break;case a:d&&(b.halt(),this.prev(t(b)));break;case s:b.ctrlKey&&!b.altKey&&(b.halt(),b.shiftKey?this.prev(t(b)):this.next(t(b)))}}function c(a){var b=!(!a.originalEvent.target&&!a.originalEvent.srcElement),c=this.completedIndex,d=a.currentIndex;if(c!=d){var a=this.triggers[c],e=this.triggers[d],c=this.panels[c],d=this.panels[d];a&&n(a,"-1");n(e,"0");b&&e.focus();c&&c.setAttribute("aria-hidden","true");d.setAttribute("aria-hidden","false")}}var a=33,k=34,r=37,j=38,u=39,
q=40,s=9;e.mix(m.Config,{aria:!0});m.Plugins.push({name:"aria",init:function(a){if(a.config.aria){var f=a.triggers,h=a.activeIndex,i=a.panels,j=a.container;a.nav&&d.attr(a.nav,"role","tablist");var k=0;e.each(f,function(a){a.setAttribute("role","tab");n(a,h==k?"0":"-1");a.id||(a.id=e.guid("ks-switchable"));k++});k=0;e.each(i,function(a){var b=f[k];a.setAttribute("role","tabpanel");a.setAttribute("aria-hidden",h==k?"false":"true");a.setAttribute("aria-labelledby",b.id);k++});a.on("switch",c,a);g.on(j,
"keydown",l,a);g.on(j,"keypress",b,a)}}});var n=f.setTabIndex,t=i.getDomEvent},{requires:["dom","event","../base","../aria","./base"]});KISSY.add("switchable",function(e,d,g,i,f,m,h,b,l,c,a,k,r,j,u,q){e.Switchable=d;g={Accordion:i,Carousel:b,Slide:j,Tabs:q};e.mix(e,g);e.mix(d,g);return d},{requires:"switchable/base,switchable/aria,switchable/accordion/base,switchable/accordion/aria,switchable/autoplay,switchable/autorender,switchable/carousel/base,switchable/carousel/aria,switchable/circular,switchable/countdown,switchable/effect,switchable/lazyload,switchable/slide/base,switchable/slide/aria,switchable/tabs/base,switchable/tabs/aria".split(",")});
